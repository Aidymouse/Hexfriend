function Fa(){}function Id(t,r){for(const e in r)t[e]=r[e];return t}function xl(t){return t()}function Du(){return Object.create(null)}function mi(t){t.forEach(xl)}function Il(t){return typeof t=="function"}function su(t,r){return t!=t?r==r:t!==r||t&&typeof t=="object"||typeof t=="function"}let Si;function lT(t,r){return Si||(Si=document.createElement("a")),Si.href=r,t===Si.href}function ou(t,r){return t!=t?r==r:t!==r}function Cd(t){return Object.keys(t).length===0}function Rd(t,...r){if(t==null)return Fa;const e=t.subscribe(...r);return e.unsubscribe?()=>e.unsubscribe():e}function cT(t,r,e){t.$$.on_destroy.push(Rd(r,e))}function fn(t,r,e,n){if(t){const i=Cl(t,r,e,n);return t[0](i)}}function Cl(t,r,e,n){return t[1]&&n?Id(e.ctx.slice(),t[1](n(r))):e.ctx}function ln(t,r,e,n){if(t[2]&&n){const i=t[2](n(e));if(r.dirty===void 0)return i;if(typeof i=="object"){const a=[],s=Math.max(r.dirty.length,i.length);for(let o=0;o<s;o+=1)a[o]=r.dirty[o]|i[o];return a}return r.dirty|i}return r.dirty}function cn(t,r,e,n,i,a){if(i){const s=Cl(r,e,n,a);t.p(s,i)}}function dn(t){if(t.ctx.length>32){const r=[],e=t.ctx.length/32;for(let n=0;n<e;n++)r[n]=-1;return r}return-1}function dT(t){return t==null?"":t}function Ad(t){return t&&Il(t.destroy)?t.destroy:Fa}function pT(t,r){t.appendChild(r)}function Rl(t,r,e){t.insertBefore(r,e||null)}function uu(t){t.parentNode.removeChild(t)}function vT(t,r){for(let e=0;e<t.length;e+=1)t[e]&&t[e].d(r)}function Pd(t){return document.createElement(t)}function Al(t){return document.createTextNode(t)}function Nd(){return Al(" ")}function _T(){return Al("")}function mT(t,r,e,n){return t.addEventListener(r,e,n),()=>t.removeEventListener(r,e,n)}function gT(t){return function(r){return r.preventDefault(),t.call(this,r)}}function yT(t,r,e){e==null?t.removeAttribute(r):t.getAttribute(r)!==e&&t.setAttribute(r,e)}function bT(t){return t===""?null:+t}function Sd(t){return Array.from(t.childNodes)}function TT(t,r){r=""+r,t.wholeText!==r&&(t.data=r)}function ET(t,r){t.value=r==null?"":r}function wT(t,r,e,n){e===null?t.style.removeProperty(r):t.style.setProperty(r,e,n?"important":"")}function xT(t,r){for(let e=0;e<t.options.length;e+=1){const n=t.options[e];if(n.__value===r){n.selected=!0;return}}t.selectedIndex=-1}function IT(t){const r=t.querySelector(":checked")||t.options[0];return r&&r.__value}function CT(t,r,e){t.classList[e?"add":"remove"](r)}function Od(t,r,e=!1){const n=document.createEvent("CustomEvent");return n.initCustomEvent(t,e,!1,r),n}let Jn;function Wn(t){Jn=t}function Ba(){if(!Jn)throw new Error("Function called outside component initialization");return Jn}function Fr(t){Ba().$$.on_mount.push(t)}function Ud(){const t=Ba();return(r,e)=>{const n=t.$$.callbacks[r];if(n){const i=Od(r,e);n.slice().forEach(a=>{a.call(t,i)})}}}function Ds(t,r){Ba().$$.context.set(t,r)}function We(t){return Ba().$$.context.get(t)}function q(t,r){const e=t.$$.callbacks[r.type];e&&e.slice().forEach(n=>n.call(this,r))}const jn=[],L=[],sa=[],ks=[],Pl=Promise.resolve();let Hs=!1;function Nl(){Hs||(Hs=!0,Pl.then(Sl))}function RT(){return Nl(),Pl}function Xs(t){sa.push(t)}function M(t){ks.push(t)}const ts=new Set;let Oi=0;function Sl(){const t=Jn;do{for(;Oi<jn.length;){const r=jn[Oi];Oi++,Wn(r),Fd(r.$$)}for(Wn(null),jn.length=0,Oi=0;L.length;)L.pop()();for(let r=0;r<sa.length;r+=1){const e=sa[r];ts.has(e)||(ts.add(e),e())}sa.length=0}while(jn.length);for(;ks.length;)ks.pop()();Hs=!1,ts.clear(),Wn(t)}function Fd(t){if(t.fragment!==null){t.update(),mi(t.before_update);const r=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,r),t.after_update.forEach(Xs)}}const oa=new Set;let Ar;function AT(){Ar={r:0,c:[],p:Ar}}function PT(){Ar.r||mi(Ar.c),Ar=Ar.p}function me(t,r){t&&t.i&&(oa.delete(t),t.i(r))}function Ce(t,r,e,n){if(t&&t.o){if(oa.has(t))return;oa.add(t),Ar.c.push(()=>{oa.delete(t),n&&(e&&t.d(1),n())}),t.o(r)}}function NT(t,r){t.d(1),r.delete(t.key)}function ST(t,r){Ce(t,1,1,()=>{r.delete(t.key)})}function OT(t,r,e,n,i,a,s,o,u,h,f,l){let c=t.length,d=a.length,p=c;const v={};for(;p--;)v[t[p].key]=p;const _=[],m=new Map,b=new Map;for(p=d;p--;){const g=l(i,a,p),N=e(g);let P=s.get(N);P?n&&P.p(g,r):(P=h(N,g),P.c()),m.set(N,_[p]=P),N in v&&b.set(N,Math.abs(p-v[N]))}const T=new Set,w=new Set;function y(g){me(g,1),g.m(o,f),s.set(g.key,g),f=g.first,d--}for(;c&&d;){const g=_[d-1],N=t[c-1],P=g.key,C=N.key;g===N?(f=g.first,c--,d--):m.has(C)?!s.has(P)||T.has(P)?y(g):w.has(C)?c--:b.get(P)>b.get(C)?(w.add(P),y(g)):(T.add(C),c--):(u(N,s),c--)}for(;c--;){const g=t[c];m.has(g.key)||u(g,s)}for(;d;)y(_[d-1]);return _}function G(t,r,e){const n=t.$$.props[r];n!==void 0&&(t.$$.bound[n]=e,e(t.$$.ctx[n]))}function La(t){t&&t.c()}function gi(t,r,e,n){const{fragment:i,on_mount:a,on_destroy:s,after_update:o}=t.$$;i&&i.m(r,e),n||Xs(()=>{const u=a.map(xl).filter(Il);s?s.push(...u):mi(u),t.$$.on_mount=[]}),o.forEach(Xs)}function yi(t,r){const e=t.$$;e.fragment!==null&&(mi(e.on_destroy),e.fragment&&e.fragment.d(r),e.on_destroy=e.fragment=null,e.ctx=[])}function Bd(t,r){t.$$.dirty[0]===-1&&(jn.push(t),Nl(),t.$$.dirty.fill(0)),t.$$.dirty[r/31|0]|=1<<r%31}function pn(t,r,e,n,i,a,s,o=[-1]){const u=Jn;Wn(t);const h=t.$$={fragment:null,ctx:null,props:a,update:Fa,not_equal:i,bound:Du(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(r.context||(u?u.$$.context:[])),callbacks:Du(),dirty:o,skip_bound:!1,root:r.target||u.$$.root};s&&s(h.root);let f=!1;if(h.ctx=e?e(t,r.props||{},(l,c,...d)=>{const p=d.length?d[0]:c;return h.ctx&&i(h.ctx[l],h.ctx[l]=p)&&(!h.skip_bound&&h.bound[l]&&h.bound[l](p),f&&Bd(t,l)),c}):[],h.update(),f=!0,mi(h.before_update),h.fragment=n?n(h.ctx):!1,r.target){if(r.hydrate){const l=Sd(r.target);h.fragment&&h.fragment.l(l),l.forEach(uu)}else h.fragment&&h.fragment.c();r.intro&&me(t.$$.fragment),gi(t,r.target,r.anchor,r.customElement),Sl()}Wn(u)}class vn{$destroy(){yi(this,1),this.$destroy=Fa}$on(r,e){const n=this.$$.callbacks[r]||(this.$$.callbacks[r]=[]);return n.push(e),()=>{const i=n.indexOf(e);i!==-1&&n.splice(i,1)}}$set(r){this.$$set&&!Cd(r)&&(this.$$.skip_bound=!0,this.$$set(r),this.$$.skip_bound=!1)}}function Ld(t){var r=this.constructor;return this.then(function(e){return r.resolve(t()).then(function(){return e})},function(e){return r.resolve(t()).then(function(){return r.reject(e)})})}function Md(t){var r=this;return new r(function(e,n){if(!(t&&typeof t.length!="undefined"))return n(new TypeError(typeof t+" "+t+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var i=Array.prototype.slice.call(t);if(i.length===0)return e([]);var a=i.length;function s(u,h){if(h&&(typeof h=="object"||typeof h=="function")){var f=h.then;if(typeof f=="function"){f.call(h,function(l){s(u,l)},function(l){i[u]={status:"rejected",reason:l},--a===0&&e(i)});return}}i[u]={status:"fulfilled",value:h},--a===0&&e(i)}for(var o=0;o<i.length;o++)s(o,i[o])})}var Gd=setTimeout;function Ol(t){return Boolean(t&&typeof t.length!="undefined")}function Dd(){}function kd(t,r){return function(){t.apply(r,arguments)}}function jt(t){if(!(this instanceof jt))throw new TypeError("Promises must be constructed via new");if(typeof t!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],Fl(t,this)}function Ul(t,r){for(;t._state===3;)t=t._value;if(t._state===0){t._deferreds.push(r);return}t._handled=!0,jt._immediateFn(function(){var e=t._state===1?r.onFulfilled:r.onRejected;if(e===null){(t._state===1?js:Qn)(r.promise,t._value);return}var n;try{n=e(t._value)}catch(i){Qn(r.promise,i);return}js(r.promise,n)})}function js(t,r){try{if(r===t)throw new TypeError("A promise cannot be resolved with itself.");if(r&&(typeof r=="object"||typeof r=="function")){var e=r.then;if(r instanceof jt){t._state=3,t._value=r,Vs(t);return}else if(typeof e=="function"){Fl(kd(e,r),t);return}}t._state=1,t._value=r,Vs(t)}catch(n){Qn(t,n)}}function Qn(t,r){t._state=2,t._value=r,Vs(t)}function Vs(t){t._state===2&&t._deferreds.length===0&&jt._immediateFn(function(){t._handled||jt._unhandledRejectionFn(t._value)});for(var r=0,e=t._deferreds.length;r<e;r++)Ul(t,t._deferreds[r]);t._deferreds=null}function Hd(t,r,e){this.onFulfilled=typeof t=="function"?t:null,this.onRejected=typeof r=="function"?r:null,this.promise=e}function Fl(t,r){var e=!1;try{t(function(n){e||(e=!0,js(r,n))},function(n){e||(e=!0,Qn(r,n))})}catch(n){if(e)return;e=!0,Qn(r,n)}}jt.prototype.catch=function(t){return this.then(null,t)};jt.prototype.then=function(t,r){var e=new this.constructor(Dd);return Ul(this,new Hd(t,r,e)),e};jt.prototype.finally=Ld;jt.all=function(t){return new jt(function(r,e){if(!Ol(t))return e(new TypeError("Promise.all accepts an array"));var n=Array.prototype.slice.call(t);if(n.length===0)return r([]);var i=n.length;function a(o,u){try{if(u&&(typeof u=="object"||typeof u=="function")){var h=u.then;if(typeof h=="function"){h.call(u,function(f){a(o,f)},e);return}}n[o]=u,--i===0&&r(n)}catch(f){e(f)}}for(var s=0;s<n.length;s++)a(s,n[s])})};jt.allSettled=Md;jt.resolve=function(t){return t&&typeof t=="object"&&t.constructor===jt?t:new jt(function(r){r(t)})};jt.reject=function(t){return new jt(function(r,e){e(t)})};jt.race=function(t){return new jt(function(r,e){if(!Ol(t))return e(new TypeError("Promise.race accepts an array"));for(var n=0,i=t.length;n<i;n++)jt.resolve(t[n]).then(r,e)})};jt._immediateFn=typeof setImmediate=="function"&&function(t){setImmediate(t)}||function(t){Gd(t,0)};jt._unhandledRejectionFn=function(r){typeof console!="undefined"&&console&&console.warn("Possible Unhandled Promise Rejection:",r)};var es=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var ku=Object.getOwnPropertySymbols,Xd=Object.prototype.hasOwnProperty,jd=Object.prototype.propertyIsEnumerable;function Vd(t){if(t==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}function zd(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de",Object.getOwnPropertyNames(t)[0]==="5")return!1;for(var r={},e=0;e<10;e++)r["_"+String.fromCharCode(e)]=e;var n=Object.getOwnPropertyNames(r).map(function(a){return r[a]});if(n.join("")!=="0123456789")return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(a){i[a]=a}),Object.keys(Object.assign({},i)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var Wd=zd()?Object.assign:function(t,r){for(var e,n=Vd(t),i,a=1;a<arguments.length;a++){e=Object(arguments[a]);for(var s in e)Xd.call(e,s)&&(n[s]=e[s]);if(ku){i=ku(e);for(var o=0;o<i.length;o++)jd.call(e,i[o])&&(n[i[o]]=e[i[o]])}}return n};/*!
 * @pixi/polyfill - v6.2.2
 * Compiled Wed, 26 Jan 2022 16:23:27 UTC
 *
 * @pixi/polyfill is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */self.Promise||(self.Promise=jt);Object.assign||(Object.assign=Wd);var Kd=16;Date.now&&Date.prototype.getTime||(Date.now=function(){return new Date().getTime()});if(!(self.performance&&self.performance.now)){var Yd=Date.now();self.performance||(self.performance={}),self.performance.now=function(){return Date.now()-Yd}}var rs=Date.now(),Hu=["ms","moz","webkit","o"];for(var ns=0;ns<Hu.length&&!self.requestAnimationFrame;++ns){var is=Hu[ns];self.requestAnimationFrame=self[is+"RequestAnimationFrame"],self.cancelAnimationFrame=self[is+"CancelAnimationFrame"]||self[is+"CancelRequestAnimationFrame"]}self.requestAnimationFrame||(self.requestAnimationFrame=function(t){if(typeof t!="function")throw new TypeError(t+"is not a function");var r=Date.now(),e=Kd+rs-r;return e<0&&(e=0),rs=r,self.setTimeout(function(){rs=Date.now(),t(performance.now())},e)});self.cancelAnimationFrame||(self.cancelAnimationFrame=function(t){return clearTimeout(t)});Math.sign||(Math.sign=function(r){return r=Number(r),r===0||isNaN(r)?r:r>0?1:-1});Number.isInteger||(Number.isInteger=function(r){return typeof r=="number"&&isFinite(r)&&Math.floor(r)===r});self.ArrayBuffer||(self.ArrayBuffer=Array);self.Float32Array||(self.Float32Array=Array);self.Uint32Array||(self.Uint32Array=Array);self.Uint16Array||(self.Uint16Array=Array);self.Uint8Array||(self.Uint8Array=Array);self.Int32Array||(self.Int32Array=Array);var as=/iPhone/i,Xu=/iPod/i,ju=/iPad/i,Vu=/\biOS-universal(?:.+)Mac\b/i,ss=/\bAndroid(?:.+)Mobile\b/i,zu=/Android/i,Xr=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,Ui=/Silk/i,Ge=/Windows Phone/i,Wu=/\bWindows(?:.+)ARM\b/i,Ku=/BlackBerry/i,Yu=/BB10/i,qu=/Opera Mini/i,Zu=/\b(CriOS|Chrome)(?:.+)Mobile/i,Ju=/Mobile(?:.+)Firefox\b/i,Qu=function(t){return typeof t!="undefined"&&t.platform==="MacIntel"&&typeof t.maxTouchPoints=="number"&&t.maxTouchPoints>1&&typeof MSStream=="undefined"};function qd(t){return function(r){return r.test(t)}}function Zd(t){var r={userAgent:"",platform:"",maxTouchPoints:0};!t&&typeof navigator!="undefined"?r={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0}:typeof t=="string"?r.userAgent=t:t&&t.userAgent&&(r={userAgent:t.userAgent,platform:t.platform,maxTouchPoints:t.maxTouchPoints||0});var e=r.userAgent,n=e.split("[FBAN");typeof n[1]!="undefined"&&(e=n[0]),n=e.split("Twitter"),typeof n[1]!="undefined"&&(e=n[0]);var i=qd(e),a={apple:{phone:i(as)&&!i(Ge),ipod:i(Xu),tablet:!i(as)&&(i(ju)||Qu(r))&&!i(Ge),universal:i(Vu),device:(i(as)||i(Xu)||i(ju)||i(Vu)||Qu(r))&&!i(Ge)},amazon:{phone:i(Xr),tablet:!i(Xr)&&i(Ui),device:i(Xr)||i(Ui)},android:{phone:!i(Ge)&&i(Xr)||!i(Ge)&&i(ss),tablet:!i(Ge)&&!i(Xr)&&!i(ss)&&(i(Ui)||i(zu)),device:!i(Ge)&&(i(Xr)||i(Ui)||i(ss)||i(zu))||i(/\bokhttp\b/i)},windows:{phone:i(Ge),tablet:i(Wu),device:i(Ge)||i(Wu)},other:{blackberry:i(Ku),blackberry10:i(Yu),opera:i(qu),firefox:i(Ju),chrome:i(Zu),device:i(Ku)||i(Yu)||i(qu)||i(Ju)||i(Zu)},any:!1,phone:!1,tablet:!1};return a.any=a.apple.device||a.android.device||a.windows.device||a.other.device,a.phone=a.apple.phone||a.android.phone||a.windows.phone,a.tablet=a.apple.tablet||a.android.tablet||a.windows.tablet,a}/*!
 * @pixi/settings - v6.2.2
 * Compiled Wed, 26 Jan 2022 16:23:27 UTC
 *
 * @pixi/settings is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Pe=Zd(self.navigator);function Jd(t){var r=!0;if(Pe.tablet||Pe.phone){if(Pe.apple.device){var e=navigator.userAgent.match(/OS (\d+)_(\d+)?/);if(e){var n=parseInt(e[1],10);n<11&&(r=!1)}}if(Pe.android.device){var e=navigator.userAgent.match(/Android\s([0-9.]*)/);if(e){var n=parseInt(e[1],10);n<7&&(r=!1)}}}return r?t:4}function Qd(){return!Pe.apple.device}/*!
 * @pixi/constants - v6.2.2
 * Compiled Wed, 26 Jan 2022 16:23:27 UTC
 *
 * @pixi/constants is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var $u;(function(t){t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2"})($u||($u={}));var th;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS"})(th||(th={}));var eh;(function(t){t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL"})(eh||(eh={}));var rh;(function(t){t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR"})(rh||(rh={}));var nh;(function(t){t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN"})(nh||(nh={}));var ih;(function(t){t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.RG=33319]="RG",t[t.RED=6403]="RED",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL"})(ih||(ih={}));var ah;(function(t){t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"})(ah||(ah={}));var sh;(function(t){t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.BYTE=5120]="BYTE",t[t.SHORT=5122]="SHORT",t[t.INT=5124]="INT",t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",t[t.HALF_FLOAT=36193]="HALF_FLOAT"})(sh||(sh={}));var oh;(function(t){t[t.FLOAT=0]="FLOAT",t[t.INT=1]="INT",t[t.UINT=2]="UINT"})(oh||(oh={}));var zs;(function(t){t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR"})(zs||(zs={}));var Ws;(function(t){t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"})(Ws||(Ws={}));var Ks;(function(t){t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON",t[t.ON_MANUAL=3]="ON_MANUAL"})(Ks||(Ks={}));var uh;(function(t){t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",t[t.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA"})(uh||(uh={}));var hh;(function(t){t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT"})(hh||(hh={}));var Ys;(function(t){t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL"})(Ys||(Ys={}));var Kn;(function(t){t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp"})(Kn||(Kn={}));var fh;(function(t){t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE"})(fh||(fh={}));var qs;(function(t){t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH"})(qs||(qs={}));var lh;(function(t){t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"})(lh||(lh={}));var at={MIPMAP_TEXTURES:Ks.POW2,ANISOTROPIC_LEVEL:0,RESOLUTION:1,FILTER_RESOLUTION:1,FILTER_MULTISAMPLE:qs.NONE,SPRITE_MAX_TEXTURES:Jd(32),SPRITE_BATCH_SIZE:4096,RENDER_OPTIONS:{view:null,antialias:!1,autoDensity:!1,backgroundColor:0,backgroundAlpha:1,useContextAlpha:!0,clearBeforeRender:!0,preserveDrawingBuffer:!1,width:800,height:600,legacy:!1},GC_MODE:Ys.AUTO,GC_MAX_IDLE:60*60,GC_MAX_CHECK_COUNT:60*10,WRAP_MODE:Ws.CLAMP,SCALE_MODE:zs.LINEAR,PRECISION_VERTEX:Kn.HIGH,PRECISION_FRAGMENT:Pe.apple.device?Kn.HIGH:Kn.MEDIUM,CAN_UPLOAD_SAME_BUFFER:Qd(),CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1},Bl={exports:{}};(function(t){var r=Object.prototype.hasOwnProperty,e="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(e=!1));function i(u,h,f){this.fn=u,this.context=h,this.once=f||!1}function a(u,h,f,l,c){if(typeof f!="function")throw new TypeError("The listener must be a function");var d=new i(f,l||u,c),p=e?e+h:h;return u._events[p]?u._events[p].fn?u._events[p]=[u._events[p],d]:u._events[p].push(d):(u._events[p]=d,u._eventsCount++),u}function s(u,h){--u._eventsCount===0?u._events=new n:delete u._events[h]}function o(){this._events=new n,this._eventsCount=0}o.prototype.eventNames=function(){var h=[],f,l;if(this._eventsCount===0)return h;for(l in f=this._events)r.call(f,l)&&h.push(e?l.slice(1):l);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(f)):h},o.prototype.listeners=function(h){var f=e?e+h:h,l=this._events[f];if(!l)return[];if(l.fn)return[l.fn];for(var c=0,d=l.length,p=new Array(d);c<d;c++)p[c]=l[c].fn;return p},o.prototype.listenerCount=function(h){var f=e?e+h:h,l=this._events[f];return l?l.fn?1:l.length:0},o.prototype.emit=function(h,f,l,c,d,p){var v=e?e+h:h;if(!this._events[v])return!1;var _=this._events[v],m=arguments.length,b,T;if(_.fn){switch(_.once&&this.removeListener(h,_.fn,void 0,!0),m){case 1:return _.fn.call(_.context),!0;case 2:return _.fn.call(_.context,f),!0;case 3:return _.fn.call(_.context,f,l),!0;case 4:return _.fn.call(_.context,f,l,c),!0;case 5:return _.fn.call(_.context,f,l,c,d),!0;case 6:return _.fn.call(_.context,f,l,c,d,p),!0}for(T=1,b=new Array(m-1);T<m;T++)b[T-1]=arguments[T];_.fn.apply(_.context,b)}else{var w=_.length,y;for(T=0;T<w;T++)switch(_[T].once&&this.removeListener(h,_[T].fn,void 0,!0),m){case 1:_[T].fn.call(_[T].context);break;case 2:_[T].fn.call(_[T].context,f);break;case 3:_[T].fn.call(_[T].context,f,l);break;case 4:_[T].fn.call(_[T].context,f,l,c);break;default:if(!b)for(y=1,b=new Array(m-1);y<m;y++)b[y-1]=arguments[y];_[T].fn.apply(_[T].context,b)}}return!0},o.prototype.on=function(h,f,l){return a(this,h,f,l,!1)},o.prototype.once=function(h,f,l){return a(this,h,f,l,!0)},o.prototype.removeListener=function(h,f,l,c){var d=e?e+h:h;if(!this._events[d])return this;if(!f)return s(this,d),this;var p=this._events[d];if(p.fn)p.fn===f&&(!c||p.once)&&(!l||p.context===l)&&s(this,d);else{for(var v=0,_=[],m=p.length;v<m;v++)(p[v].fn!==f||c&&!p[v].once||l&&p[v].context!==l)&&_.push(p[v]);_.length?this._events[d]=_.length===1?_[0]:_:s(this,d)}return this},o.prototype.removeAllListeners=function(h){var f;return h?(f=e?e+h:h,this._events[f]&&s(this,f)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=e,o.EventEmitter=o,t.exports=o})(Bl);var bi=Bl.exports,hu={exports:{}};hu.exports=Ma;hu.exports.default=Ma;function Ma(t,r,e){e=e||2;var n=r&&r.length,i=n?r[0]*e:t.length,a=Ll(t,0,i,e,!0),s=[];if(!a||a.next===a.prev)return s;var o,u,h,f,l,c,d;if(n&&(a=np(t,r,a,e)),t.length>80*e){o=h=t[0],u=f=t[1];for(var p=e;p<i;p+=e)l=t[p],c=t[p+1],l<o&&(o=l),c<u&&(u=c),l>h&&(h=l),c>f&&(f=c);d=Math.max(h-o,f-u),d=d!==0?1/d:0}return $n(a,s,e,o,u,d),s}function Ll(t,r,e,n,i){var a,s;if(i===Qs(t,r,e,n)>0)for(a=r;a<e;a+=n)s=ch(a,t[a],t[a+1],s);else for(a=e-n;a>=r;a-=n)s=ch(a,t[a],t[a+1],s);return s&&Ga(s,s.next)&&(ei(s),s=s.next),s}function or(t,r){if(!t)return t;r||(r=t);var e=t,n;do if(n=!1,!e.steiner&&(Ga(e,e.next)||kt(e.prev,e,e.next)===0)){if(ei(e),e=r=e.prev,e===e.next)break;n=!0}else e=e.next;while(n||e!==r);return r}function $n(t,r,e,n,i,a,s){if(!!t){!s&&a&&up(t,n,i,a);for(var o=t,u,h;t.prev!==t.next;){if(u=t.prev,h=t.next,a?tp(t,n,i,a):$d(t)){r.push(u.i/e),r.push(t.i/e),r.push(h.i/e),ei(t),t=h.next,o=h.next;continue}if(t=h,t===o){s?s===1?(t=ep(or(t),r,e),$n(t,r,e,n,i,a,2)):s===2&&rp(t,r,e,n,i,a):$n(or(t),r,e,n,i,a,1);break}}}}function $d(t){var r=t.prev,e=t,n=t.next;if(kt(r,e,n)>=0)return!1;for(var i=t.next.next;i!==t.prev;){if(Jr(r.x,r.y,e.x,e.y,n.x,n.y,i.x,i.y)&&kt(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function tp(t,r,e,n){var i=t.prev,a=t,s=t.next;if(kt(i,a,s)>=0)return!1;for(var o=i.x<a.x?i.x<s.x?i.x:s.x:a.x<s.x?a.x:s.x,u=i.y<a.y?i.y<s.y?i.y:s.y:a.y<s.y?a.y:s.y,h=i.x>a.x?i.x>s.x?i.x:s.x:a.x>s.x?a.x:s.x,f=i.y>a.y?i.y>s.y?i.y:s.y:a.y>s.y?a.y:s.y,l=Zs(o,u,r,e,n),c=Zs(h,f,r,e,n),d=t.prevZ,p=t.nextZ;d&&d.z>=l&&p&&p.z<=c;){if(d!==t.prev&&d!==t.next&&Jr(i.x,i.y,a.x,a.y,s.x,s.y,d.x,d.y)&&kt(d.prev,d,d.next)>=0||(d=d.prevZ,p!==t.prev&&p!==t.next&&Jr(i.x,i.y,a.x,a.y,s.x,s.y,p.x,p.y)&&kt(p.prev,p,p.next)>=0))return!1;p=p.nextZ}for(;d&&d.z>=l;){if(d!==t.prev&&d!==t.next&&Jr(i.x,i.y,a.x,a.y,s.x,s.y,d.x,d.y)&&kt(d.prev,d,d.next)>=0)return!1;d=d.prevZ}for(;p&&p.z<=c;){if(p!==t.prev&&p!==t.next&&Jr(i.x,i.y,a.x,a.y,s.x,s.y,p.x,p.y)&&kt(p.prev,p,p.next)>=0)return!1;p=p.nextZ}return!0}function ep(t,r,e){var n=t;do{var i=n.prev,a=n.next.next;!Ga(i,a)&&Ml(i,n,n.next,a)&&ti(i,a)&&ti(a,i)&&(r.push(i.i/e),r.push(n.i/e),r.push(a.i/e),ei(n),ei(n.next),n=t=a),n=n.next}while(n!==t);return or(n)}function rp(t,r,e,n,i,a){var s=t;do{for(var o=s.next.next;o!==s.prev;){if(s.i!==o.i&&lp(s,o)){var u=Gl(s,o);s=or(s,s.next),u=or(u,u.next),$n(s,r,e,n,i,a),$n(u,r,e,n,i,a);return}o=o.next}s=s.next}while(s!==t)}function np(t,r,e,n){var i=[],a,s,o,u,h;for(a=0,s=r.length;a<s;a++)o=r[a]*n,u=a<s-1?r[a+1]*n:t.length,h=Ll(t,o,u,n,!1),h===h.next&&(h.steiner=!0),i.push(fp(h));for(i.sort(ip),a=0;a<i.length;a++)e=ap(i[a],e),e=or(e,e.next);return e}function ip(t,r){return t.x-r.x}function ap(t,r){var e=sp(t,r);if(!e)return r;var n=Gl(e,t),i=or(e,e.next);return or(n,n.next),r===e?i:r}function sp(t,r){var e=r,n=t.x,i=t.y,a=-1/0,s;do{if(i<=e.y&&i>=e.next.y&&e.next.y!==e.y){var o=e.x+(i-e.y)*(e.next.x-e.x)/(e.next.y-e.y);if(o<=n&&o>a){if(a=o,o===n){if(i===e.y)return e;if(i===e.next.y)return e.next}s=e.x<e.next.x?e:e.next}}e=e.next}while(e!==r);if(!s)return null;if(n===a)return s;var u=s,h=s.x,f=s.y,l=1/0,c;e=s;do n>=e.x&&e.x>=h&&n!==e.x&&Jr(i<f?n:a,i,h,f,i<f?a:n,i,e.x,e.y)&&(c=Math.abs(i-e.y)/(n-e.x),ti(e,t)&&(c<l||c===l&&(e.x>s.x||e.x===s.x&&op(s,e)))&&(s=e,l=c)),e=e.next;while(e!==u);return s}function op(t,r){return kt(t.prev,t,r.prev)<0&&kt(r.next,t,t.next)<0}function up(t,r,e,n){var i=t;do i.z===null&&(i.z=Zs(i.x,i.y,r,e,n)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,hp(i)}function hp(t){var r,e,n,i,a,s,o,u,h=1;do{for(e=t,t=null,a=null,s=0;e;){for(s++,n=e,o=0,r=0;r<h&&(o++,n=n.nextZ,!!n);r++);for(u=h;o>0||u>0&&n;)o!==0&&(u===0||!n||e.z<=n.z)?(i=e,e=e.nextZ,o--):(i=n,n=n.nextZ,u--),a?a.nextZ=i:t=i,i.prevZ=a,a=i;e=n}a.nextZ=null,h*=2}while(s>1);return t}function Zs(t,r,e,n,i){return t=32767*(t-e)*i,r=32767*(r-n)*i,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,r=(r|r<<8)&16711935,r=(r|r<<4)&252645135,r=(r|r<<2)&858993459,r=(r|r<<1)&1431655765,t|r<<1}function fp(t){var r=t,e=t;do(r.x<e.x||r.x===e.x&&r.y<e.y)&&(e=r),r=r.next;while(r!==t);return e}function Jr(t,r,e,n,i,a,s,o){return(i-s)*(r-o)-(t-s)*(a-o)>=0&&(t-s)*(n-o)-(e-s)*(r-o)>=0&&(e-s)*(a-o)-(i-s)*(n-o)>=0}function lp(t,r){return t.next.i!==r.i&&t.prev.i!==r.i&&!cp(t,r)&&(ti(t,r)&&ti(r,t)&&dp(t,r)&&(kt(t.prev,t,r.prev)||kt(t,r.prev,r))||Ga(t,r)&&kt(t.prev,t,t.next)>0&&kt(r.prev,r,r.next)>0)}function kt(t,r,e){return(r.y-t.y)*(e.x-r.x)-(r.x-t.x)*(e.y-r.y)}function Ga(t,r){return t.x===r.x&&t.y===r.y}function Ml(t,r,e,n){var i=Bi(kt(t,r,e)),a=Bi(kt(t,r,n)),s=Bi(kt(e,n,t)),o=Bi(kt(e,n,r));return!!(i!==a&&s!==o||i===0&&Fi(t,e,r)||a===0&&Fi(t,n,r)||s===0&&Fi(e,t,n)||o===0&&Fi(e,r,n))}function Fi(t,r,e){return r.x<=Math.max(t.x,e.x)&&r.x>=Math.min(t.x,e.x)&&r.y<=Math.max(t.y,e.y)&&r.y>=Math.min(t.y,e.y)}function Bi(t){return t>0?1:t<0?-1:0}function cp(t,r){var e=t;do{if(e.i!==t.i&&e.next.i!==t.i&&e.i!==r.i&&e.next.i!==r.i&&Ml(e,e.next,t,r))return!0;e=e.next}while(e!==t);return!1}function ti(t,r){return kt(t.prev,t,t.next)<0?kt(t,r,t.next)>=0&&kt(t,t.prev,r)>=0:kt(t,r,t.prev)<0||kt(t,t.next,r)<0}function dp(t,r){var e=t,n=!1,i=(t.x+r.x)/2,a=(t.y+r.y)/2;do e.y>a!=e.next.y>a&&e.next.y!==e.y&&i<(e.next.x-e.x)*(a-e.y)/(e.next.y-e.y)+e.x&&(n=!n),e=e.next;while(e!==t);return n}function Gl(t,r){var e=new Js(t.i,t.x,t.y),n=new Js(r.i,r.x,r.y),i=t.next,a=r.prev;return t.next=r,r.prev=t,e.next=i,i.prev=e,n.next=e,e.prev=n,a.next=n,n.prev=a,n}function ch(t,r,e,n){var i=new Js(t,r,e);return n?(i.next=n.next,i.prev=n,n.next.prev=i,n.next=i):(i.prev=i,i.next=i),i}function ei(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function Js(t,r,e){this.i=t,this.x=r,this.y=e,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}Ma.deviation=function(t,r,e,n){var i=r&&r.length,a=i?r[0]*e:t.length,s=Math.abs(Qs(t,0,a,e));if(i)for(var o=0,u=r.length;o<u;o++){var h=r[o]*e,f=o<u-1?r[o+1]*e:t.length;s-=Math.abs(Qs(t,h,f,e))}var l=0;for(o=0;o<n.length;o+=3){var c=n[o]*e,d=n[o+1]*e,p=n[o+2]*e;l+=Math.abs((t[c]-t[p])*(t[d+1]-t[c+1])-(t[c]-t[d])*(t[p+1]-t[c+1]))}return s===0&&l===0?0:Math.abs((l-s)/s)};function Qs(t,r,e,n){for(var i=0,a=r,s=e-n;a<e;a+=n)i+=(t[s]-t[a])*(t[a+1]+t[s+1]),s=a;return i}Ma.flatten=function(t){for(var r=t[0][0].length,e={vertices:[],holes:[],dimensions:r},n=0,i=0;i<t.length;i++){for(var a=0;a<t[i].length;a++)for(var s=0;s<r;s++)e.vertices.push(t[i][a][s]);i>0&&(n+=t[i-1].length,e.holes.push(n))}return e};var Dl=hu.exports,$s={exports:{}};/*! https://mths.be/punycode v1.3.2 by @mathias */(function(t,r){(function(e){var n=r&&!r.nodeType&&r,i=t&&!t.nodeType&&t,a=typeof es=="object"&&es;(a.global===a||a.window===a||a.self===a)&&(e=a);var s,o=2147483647,u=36,h=1,f=26,l=38,c=700,d=72,p=128,v="-",_=/^xn--/,m=/[^\x20-\x7E]/,b=/[\x2E\u3002\uFF0E\uFF61]/g,T={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},w=u-h,y=Math.floor,g=String.fromCharCode,N;function P(B){throw RangeError(T[B])}function C(B,S){for(var K=B.length,tt=[];K--;)tt[K]=S(B[K]);return tt}function O(B,S){var K=B.split("@"),tt="";K.length>1&&(tt=K[0]+"@",B=K[1]),B=B.replace(b,".");var nt=B.split("."),et=C(nt,S).join(".");return tt+et}function H(B){for(var S=[],K=0,tt=B.length,nt,et;K<tt;)nt=B.charCodeAt(K++),nt>=55296&&nt<=56319&&K<tt?(et=B.charCodeAt(K++),(et&64512)==56320?S.push(((nt&1023)<<10)+(et&1023)+65536):(S.push(nt),K--)):S.push(nt);return S}function k(B){return C(B,function(S){var K="";return S>65535&&(S-=65536,K+=g(S>>>10&1023|55296),S=56320|S&1023),K+=g(S),K}).join("")}function j(B){return B-48<10?B-22:B-65<26?B-65:B-97<26?B-97:u}function Z(B,S){return B+22+75*(B<26)-((S!=0)<<5)}function F(B,S,K){var tt=0;for(B=K?y(B/c):B>>1,B+=y(B/S);B>w*f>>1;tt+=u)B=y(B/w);return y(tt+(w+1)*B/(B+l))}function X(B){var S=[],K=B.length,tt,nt=0,et=p,st=d,it,It,vt,Ct,bt,wt,ot,Nt,At;for(it=B.lastIndexOf(v),it<0&&(it=0),It=0;It<it;++It)B.charCodeAt(It)>=128&&P("not-basic"),S.push(B.charCodeAt(It));for(vt=it>0?it+1:0;vt<K;){for(Ct=nt,bt=1,wt=u;vt>=K&&P("invalid-input"),ot=j(B.charCodeAt(vt++)),(ot>=u||ot>y((o-nt)/bt))&&P("overflow"),nt+=ot*bt,Nt=wt<=st?h:wt>=st+f?f:wt-st,!(ot<Nt);wt+=u)At=u-Nt,bt>y(o/At)&&P("overflow"),bt*=At;tt=S.length+1,st=F(nt-Ct,tt,Ct==0),y(nt/tt)>o-et&&P("overflow"),et+=y(nt/tt),nt%=tt,S.splice(nt++,0,et)}return k(S)}function z(B){var S,K,tt,nt,et,st,it,It,vt,Ct,bt,wt=[],ot,Nt,At,ft;for(B=H(B),ot=B.length,S=p,K=0,et=d,st=0;st<ot;++st)bt=B[st],bt<128&&wt.push(g(bt));for(tt=nt=wt.length,nt&&wt.push(v);tt<ot;){for(it=o,st=0;st<ot;++st)bt=B[st],bt>=S&&bt<it&&(it=bt);for(Nt=tt+1,it-S>y((o-K)/Nt)&&P("overflow"),K+=(it-S)*Nt,S=it,st=0;st<ot;++st)if(bt=B[st],bt<S&&++K>o&&P("overflow"),bt==S){for(It=K,vt=u;Ct=vt<=et?h:vt>=et+f?f:vt-et,!(It<Ct);vt+=u)ft=It-Ct,At=u-Ct,wt.push(g(Z(Ct+ft%At,0))),It=y(ft/At);wt.push(g(Z(It,0))),et=F(K,Nt,tt==nt),K=0,++tt}++K,++S}return wt.join("")}function A(B){return O(B,function(S){return _.test(S)?X(S.slice(4).toLowerCase()):S})}function W(B){return O(B,function(S){return m.test(S)?"xn--"+z(S):S})}if(s={version:"1.3.2",ucs2:{decode:H,encode:k},decode:X,encode:z,toASCII:W,toUnicode:A},n&&i)if(t.exports==n)i.exports=s;else for(N in s)s.hasOwnProperty(N)&&(n[N]=s[N]);else e.punycode=s})(es)})($s,$s.exports);var pp={isString:function(t){return typeof t=="string"},isObject:function(t){return typeof t=="object"&&t!==null},isNull:function(t){return t===null},isNullOrUndefined:function(t){return t==null}},ri={};function vp(t,r){return Object.prototype.hasOwnProperty.call(t,r)}var _p=function(t,r,e,n){r=r||"&",e=e||"=";var i={};if(typeof t!="string"||t.length===0)return i;var a=/\+/g;t=t.split(r);var s=1e3;n&&typeof n.maxKeys=="number"&&(s=n.maxKeys);var o=t.length;s>0&&o>s&&(o=s);for(var u=0;u<o;++u){var h=t[u].replace(a,"%20"),f=h.indexOf(e),l,c,d,p;f>=0?(l=h.substr(0,f),c=h.substr(f+1)):(l=h,c=""),d=decodeURIComponent(l),p=decodeURIComponent(c),vp(i,d)?Array.isArray(i[d])?i[d].push(p):i[d]=[i[d],p]:i[d]=p}return i},Bn=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}},mp=function(t,r,e,n){return r=r||"&",e=e||"=",t===null&&(t=void 0),typeof t=="object"?Object.keys(t).map(function(i){var a=encodeURIComponent(Bn(i))+e;return Array.isArray(t[i])?t[i].map(function(s){return a+encodeURIComponent(Bn(s))}).join(r):a+encodeURIComponent(Bn(t[i]))}).join(r):n?encodeURIComponent(Bn(n))+e+encodeURIComponent(Bn(t)):""};ri.decode=ri.parse=_p;ri.encode=ri.stringify=mp;var gp=$s.exports,Ae=pp,yp=Da,bp=Sp,Tp=Np;function we(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var Ep=/^([a-z0-9.+-]+:)/i,wp=/:[0-9]*$/,xp=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,Ip=["<",">",'"',"`"," ","\r",`
`,"	"],Cp=["{","}","|","\\","^","`"].concat(Ip),to=["'"].concat(Cp),dh=["%","/","?",";","#"].concat(to),ph=["/","?","#"],Rp=255,vh=/^[+a-z0-9A-Z_-]{0,63}$/,Ap=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,Pp={javascript:!0,"javascript:":!0},eo={javascript:!0,"javascript:":!0},en={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},ro=ri;function Da(t,r,e){if(t&&Ae.isObject(t)&&t instanceof we)return t;var n=new we;return n.parse(t,r,e),n}we.prototype.parse=function(t,r,e){if(!Ae.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var n=t.indexOf("?"),i=n!==-1&&n<t.indexOf("#")?"?":"#",a=t.split(i),s=/\\/g;a[0]=a[0].replace(s,"/"),t=a.join(i);var o=t;if(o=o.trim(),!e&&t.split("#").length===1){var u=xp.exec(o);if(u)return this.path=o,this.href=o,this.pathname=u[1],u[2]?(this.search=u[2],r?this.query=ro.parse(this.search.substr(1)):this.query=this.search.substr(1)):r&&(this.search="",this.query={}),this}var h=Ep.exec(o);if(h){h=h[0];var f=h.toLowerCase();this.protocol=f,o=o.substr(h.length)}if(e||h||o.match(/^\/\/[^@\/]+@[^@\/]+/)){var l=o.substr(0,2)==="//";l&&!(h&&eo[h])&&(o=o.substr(2),this.slashes=!0)}if(!eo[h]&&(l||h&&!en[h])){for(var c=-1,d=0;d<ph.length;d++){var p=o.indexOf(ph[d]);p!==-1&&(c===-1||p<c)&&(c=p)}var v,_;c===-1?_=o.lastIndexOf("@"):_=o.lastIndexOf("@",c),_!==-1&&(v=o.slice(0,_),o=o.slice(_+1),this.auth=decodeURIComponent(v)),c=-1;for(var d=0;d<dh.length;d++){var p=o.indexOf(dh[d]);p!==-1&&(c===-1||p<c)&&(c=p)}c===-1&&(c=o.length),this.host=o.slice(0,c),o=o.slice(c),this.parseHost(),this.hostname=this.hostname||"";var m=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!m)for(var b=this.hostname.split(/\./),d=0,T=b.length;d<T;d++){var w=b[d];if(!!w&&!w.match(vh)){for(var y="",g=0,N=w.length;g<N;g++)w.charCodeAt(g)>127?y+="x":y+=w[g];if(!y.match(vh)){var P=b.slice(0,d),C=b.slice(d+1),O=w.match(Ap);O&&(P.push(O[1]),C.unshift(O[2])),C.length&&(o="/"+C.join(".")+o),this.hostname=P.join(".");break}}}this.hostname.length>Rp?this.hostname="":this.hostname=this.hostname.toLowerCase(),m||(this.hostname=gp.toASCII(this.hostname));var H=this.port?":"+this.port:"",k=this.hostname||"";this.host=k+H,this.href+=this.host,m&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),o[0]!=="/"&&(o="/"+o))}if(!Pp[f])for(var d=0,T=to.length;d<T;d++){var j=to[d];if(o.indexOf(j)!==-1){var Z=encodeURIComponent(j);Z===j&&(Z=escape(j)),o=o.split(j).join(Z)}}var F=o.indexOf("#");F!==-1&&(this.hash=o.substr(F),o=o.slice(0,F));var X=o.indexOf("?");if(X!==-1?(this.search=o.substr(X),this.query=o.substr(X+1),r&&(this.query=ro.parse(this.query)),o=o.slice(0,X)):r&&(this.search="",this.query={}),o&&(this.pathname=o),en[f]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var H=this.pathname||"",z=this.search||"";this.path=H+z}return this.href=this.format(),this};function Np(t){return Ae.isString(t)&&(t=Da(t)),t instanceof we?t.format():we.prototype.format.call(t)}we.prototype.format=function(){var t=this.auth||"";t&&(t=encodeURIComponent(t),t=t.replace(/%3A/i,":"),t+="@");var r=this.protocol||"",e=this.pathname||"",n=this.hash||"",i=!1,a="";this.host?i=t+this.host:this.hostname&&(i=t+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&Ae.isObject(this.query)&&Object.keys(this.query).length&&(a=ro.stringify(this.query));var s=this.search||a&&"?"+a||"";return r&&r.substr(-1)!==":"&&(r+=":"),this.slashes||(!r||en[r])&&i!==!1?(i="//"+(i||""),e&&e.charAt(0)!=="/"&&(e="/"+e)):i||(i=""),n&&n.charAt(0)!=="#"&&(n="#"+n),s&&s.charAt(0)!=="?"&&(s="?"+s),e=e.replace(/[?#]/g,function(o){return encodeURIComponent(o)}),s=s.replace("#","%23"),r+i+e+s+n};function Sp(t,r){return Da(t,!1,!0).resolve(r)}we.prototype.resolve=function(t){return this.resolveObject(Da(t,!1,!0)).format()};we.prototype.resolveObject=function(t){if(Ae.isString(t)){var r=new we;r.parse(t,!1,!0),t=r}for(var e=new we,n=Object.keys(this),i=0;i<n.length;i++){var a=n[i];e[a]=this[a]}if(e.hash=t.hash,t.href==="")return e.href=e.format(),e;if(t.slashes&&!t.protocol){for(var s=Object.keys(t),o=0;o<s.length;o++){var u=s[o];u!=="protocol"&&(e[u]=t[u])}return en[e.protocol]&&e.hostname&&!e.pathname&&(e.path=e.pathname="/"),e.href=e.format(),e}if(t.protocol&&t.protocol!==e.protocol){if(!en[t.protocol]){for(var h=Object.keys(t),f=0;f<h.length;f++){var l=h[f];e[l]=t[l]}return e.href=e.format(),e}if(e.protocol=t.protocol,!t.host&&!eo[t.protocol]){for(var T=(t.pathname||"").split("/");T.length&&!(t.host=T.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),T[0]!==""&&T.unshift(""),T.length<2&&T.unshift(""),e.pathname=T.join("/")}else e.pathname=t.pathname;if(e.search=t.search,e.query=t.query,e.host=t.host||"",e.auth=t.auth,e.hostname=t.hostname||t.host,e.port=t.port,e.pathname||e.search){var c=e.pathname||"",d=e.search||"";e.path=c+d}return e.slashes=e.slashes||t.slashes,e.href=e.format(),e}var p=e.pathname&&e.pathname.charAt(0)==="/",v=t.host||t.pathname&&t.pathname.charAt(0)==="/",_=v||p||e.host&&t.pathname,m=_,b=e.pathname&&e.pathname.split("/")||[],T=t.pathname&&t.pathname.split("/")||[],w=e.protocol&&!en[e.protocol];if(w&&(e.hostname="",e.port=null,e.host&&(b[0]===""?b[0]=e.host:b.unshift(e.host)),e.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(T[0]===""?T[0]=t.host:T.unshift(t.host)),t.host=null),_=_&&(T[0]===""||b[0]==="")),v)e.host=t.host||t.host===""?t.host:e.host,e.hostname=t.hostname||t.hostname===""?t.hostname:e.hostname,e.search=t.search,e.query=t.query,b=T;else if(T.length)b||(b=[]),b.pop(),b=b.concat(T),e.search=t.search,e.query=t.query;else if(!Ae.isNullOrUndefined(t.search)){if(w){e.hostname=e.host=b.shift();var y=e.host&&e.host.indexOf("@")>0?e.host.split("@"):!1;y&&(e.auth=y.shift(),e.host=e.hostname=y.shift())}return e.search=t.search,e.query=t.query,(!Ae.isNull(e.pathname)||!Ae.isNull(e.search))&&(e.path=(e.pathname?e.pathname:"")+(e.search?e.search:"")),e.href=e.format(),e}if(!b.length)return e.pathname=null,e.search?e.path="/"+e.search:e.path=null,e.href=e.format(),e;for(var g=b.slice(-1)[0],N=(e.host||t.host||b.length>1)&&(g==="."||g==="..")||g==="",P=0,C=b.length;C>=0;C--)g=b[C],g==="."?b.splice(C,1):g===".."?(b.splice(C,1),P++):P&&(b.splice(C,1),P--);if(!_&&!m)for(;P--;P)b.unshift("..");_&&b[0]!==""&&(!b[0]||b[0].charAt(0)!=="/")&&b.unshift(""),N&&b.join("/").substr(-1)!=="/"&&b.push("");var O=b[0]===""||b[0]&&b[0].charAt(0)==="/";if(w){e.hostname=e.host=O?"":b.length?b.shift():"";var y=e.host&&e.host.indexOf("@")>0?e.host.split("@"):!1;y&&(e.auth=y.shift(),e.host=e.hostname=y.shift())}return _=_||e.host&&b.length,_&&!O&&b.unshift(""),b.length?e.pathname=b.join("/"):(e.pathname=null,e.path=null),(!Ae.isNull(e.pathname)||!Ae.isNull(e.search))&&(e.path=(e.pathname?e.pathname:"")+(e.search?e.search:"")),e.auth=t.auth||e.auth,e.slashes=e.slashes||t.slashes,e.href=e.format(),e};we.prototype.parseHost=function(){var t=this.host,r=wp.exec(t);r&&(r=r[0],r!==":"&&(this.port=r.substr(1)),t=t.substr(0,t.length-r.length)),t&&(this.hostname=t)};/*!
 * @pixi/constants - v6.2.2
 * Compiled Wed, 26 Jan 2022 16:23:27 UTC
 *
 * @pixi/constants is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var qe;(function(t){t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2"})(qe||(qe={}));var ni;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS"})(ni||(ni={}));var _a;(function(t){t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL"})(_a||(_a={}));var ht;(function(t){t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR"})(ht||(ht={}));var Ee;(function(t){t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN"})(Ee||(Ee={}));var $;(function(t){t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.RG=33319]="RG",t[t.RED=6403]="RED",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL"})($||($={}));var Nr;(function(t){t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"})(Nr||(Nr={}));var dt;(function(t){t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.BYTE=5120]="BYTE",t[t.SHORT=5122]="SHORT",t[t.INT=5124]="INT",t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",t[t.HALF_FLOAT=36193]="HALF_FLOAT"})(dt||(dt={}));var ma;(function(t){t[t.FLOAT=0]="FLOAT",t[t.INT=1]="INT",t[t.UINT=2]="UINT"})(ma||(ma={}));var Ve;(function(t){t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR"})(Ve||(Ve={}));var Ke;(function(t){t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"})(Ke||(Ke={}));var ur;(function(t){t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON",t[t.ON_MANUAL=3]="ON_MANUAL"})(ur||(ur={}));var Oe;(function(t){t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",t[t.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA"})(Oe||(Oe={}));var er;(function(t){t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT"})(er||(er={}));var no;(function(t){t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL"})(no||(no={}));var Ne;(function(t){t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp"})(Ne||(Ne={}));var ie;(function(t){t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE"})(ie||(ie={}));var qt;(function(t){t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH"})(qt||(qt={}));var Se;(function(t){t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"})(Se||(Se={}));/*!
 * @pixi/utils - v6.2.2
 * Compiled Wed, 26 Jan 2022 16:23:27 UTC
 *
 * @pixi/utils is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Qr={parse:yp,format:Tp,resolve:bp};at.RETINA_PREFIX=/@([0-9\.]+)x/;at.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1;var _h=!1,mh="6.2.2";function Op(t){var r;if(!_h){if(navigator.userAgent.toLowerCase().indexOf("chrome")>-1){var e=[`
 %c %c %c PixiJS `+mh+" - \u2730 "+t+` \u2730  %c  %c  http://www.pixijs.com/  %c %c \u2665%c\u2665%c\u2665 

`,"background: #ff66a5; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff66a5; background: #030307; padding:5px 0;","background: #ff66a5; padding:5px 0;","background: #ffc3dc; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;"];(r=self.console).log.apply(r,e)}else self.console&&self.console.log("PixiJS "+mh+" - "+t+" - http://www.pixijs.com/");_h=!0}}var os;function Up(){return typeof os=="undefined"&&(os=function(){var r={stencil:!0,failIfMajorPerformanceCaveat:at.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!self.WebGLRenderingContext)return!1;var e=document.createElement("canvas"),n=e.getContext("webgl",r)||e.getContext("experimental-webgl",r),i=!!(n&&n.getContextAttributes().stencil);if(n){var a=n.getExtension("WEBGL_lose_context");a&&a.loseContext()}return n=null,i}catch{return!1}}()),os}var Fp="#f0f8ff",Bp="#faebd7",Lp="#00ffff",Mp="#7fffd4",Gp="#f0ffff",Dp="#f5f5dc",kp="#ffe4c4",Hp="#000000",Xp="#ffebcd",jp="#0000ff",Vp="#8a2be2",zp="#a52a2a",Wp="#deb887",Kp="#5f9ea0",Yp="#7fff00",qp="#d2691e",Zp="#ff7f50",Jp="#6495ed",Qp="#fff8dc",$p="#dc143c",tv="#00ffff",ev="#00008b",rv="#008b8b",nv="#b8860b",iv="#a9a9a9",av="#006400",sv="#a9a9a9",ov="#bdb76b",uv="#8b008b",hv="#556b2f",fv="#ff8c00",lv="#9932cc",cv="#8b0000",dv="#e9967a",pv="#8fbc8f",vv="#483d8b",_v="#2f4f4f",mv="#2f4f4f",gv="#00ced1",yv="#9400d3",bv="#ff1493",Tv="#00bfff",Ev="#696969",wv="#696969",xv="#1e90ff",Iv="#b22222",Cv="#fffaf0",Rv="#228b22",Av="#ff00ff",Pv="#dcdcdc",Nv="#f8f8ff",Sv="#daa520",Ov="#ffd700",Uv="#808080",Fv="#008000",Bv="#adff2f",Lv="#808080",Mv="#f0fff0",Gv="#ff69b4",Dv="#cd5c5c",kv="#4b0082",Hv="#fffff0",Xv="#f0e68c",jv="#fff0f5",Vv="#e6e6fa",zv="#7cfc00",Wv="#fffacd",Kv="#add8e6",Yv="#f08080",qv="#e0ffff",Zv="#fafad2",Jv="#d3d3d3",Qv="#90ee90",$v="#d3d3d3",t_="#ffb6c1",e_="#ffa07a",r_="#20b2aa",n_="#87cefa",i_="#778899",a_="#778899",s_="#b0c4de",o_="#ffffe0",u_="#00ff00",h_="#32cd32",f_="#faf0e6",l_="#ff00ff",c_="#800000",d_="#66cdaa",p_="#0000cd",v_="#ba55d3",__="#9370db",m_="#3cb371",g_="#7b68ee",y_="#00fa9a",b_="#48d1cc",T_="#c71585",E_="#191970",w_="#f5fffa",x_="#ffe4e1",I_="#ffe4b5",C_="#ffdead",R_="#000080",A_="#fdf5e6",P_="#808000",N_="#6b8e23",S_="#ffa500",O_="#ff4500",U_="#da70d6",F_="#eee8aa",B_="#98fb98",L_="#afeeee",M_="#db7093",G_="#ffefd5",D_="#ffdab9",k_="#cd853f",H_="#ffc0cb",X_="#dda0dd",j_="#b0e0e6",V_="#800080",z_="#663399",W_="#ff0000",K_="#bc8f8f",Y_="#4169e1",q_="#8b4513",Z_="#fa8072",J_="#f4a460",Q_="#2e8b57",$_="#fff5ee",tm="#a0522d",em="#c0c0c0",rm="#87ceeb",nm="#6a5acd",im="#708090",am="#708090",sm="#fffafa",om="#00ff7f",um="#4682b4",hm="#d2b48c",fm="#008080",lm="#d8bfd8",cm="#ff6347",dm="#40e0d0",pm="#ee82ee",vm="#f5deb3",_m="#ffffff",mm="#f5f5f5",gm="#ffff00",ym="#9acd32",bm={aliceblue:Fp,antiquewhite:Bp,aqua:Lp,aquamarine:Mp,azure:Gp,beige:Dp,bisque:kp,black:Hp,blanchedalmond:Xp,blue:jp,blueviolet:Vp,brown:zp,burlywood:Wp,cadetblue:Kp,chartreuse:Yp,chocolate:qp,coral:Zp,cornflowerblue:Jp,cornsilk:Qp,crimson:$p,cyan:tv,darkblue:ev,darkcyan:rv,darkgoldenrod:nv,darkgray:iv,darkgreen:av,darkgrey:sv,darkkhaki:ov,darkmagenta:uv,darkolivegreen:hv,darkorange:fv,darkorchid:lv,darkred:cv,darksalmon:dv,darkseagreen:pv,darkslateblue:vv,darkslategray:_v,darkslategrey:mv,darkturquoise:gv,darkviolet:yv,deeppink:bv,deepskyblue:Tv,dimgray:Ev,dimgrey:wv,dodgerblue:xv,firebrick:Iv,floralwhite:Cv,forestgreen:Rv,fuchsia:Av,gainsboro:Pv,ghostwhite:Nv,goldenrod:Sv,gold:Ov,gray:Uv,green:Fv,greenyellow:Bv,grey:Lv,honeydew:Mv,hotpink:Gv,indianred:Dv,indigo:kv,ivory:Hv,khaki:Xv,lavenderblush:jv,lavender:Vv,lawngreen:zv,lemonchiffon:Wv,lightblue:Kv,lightcoral:Yv,lightcyan:qv,lightgoldenrodyellow:Zv,lightgray:Jv,lightgreen:Qv,lightgrey:$v,lightpink:t_,lightsalmon:e_,lightseagreen:r_,lightskyblue:n_,lightslategray:i_,lightslategrey:a_,lightsteelblue:s_,lightyellow:o_,lime:u_,limegreen:h_,linen:f_,magenta:l_,maroon:c_,mediumaquamarine:d_,mediumblue:p_,mediumorchid:v_,mediumpurple:__,mediumseagreen:m_,mediumslateblue:g_,mediumspringgreen:y_,mediumturquoise:b_,mediumvioletred:T_,midnightblue:E_,mintcream:w_,mistyrose:x_,moccasin:I_,navajowhite:C_,navy:R_,oldlace:A_,olive:P_,olivedrab:N_,orange:S_,orangered:O_,orchid:U_,palegoldenrod:F_,palegreen:B_,paleturquoise:L_,palevioletred:M_,papayawhip:G_,peachpuff:D_,peru:k_,pink:H_,plum:X_,powderblue:j_,purple:V_,rebeccapurple:z_,red:W_,rosybrown:K_,royalblue:Y_,saddlebrown:q_,salmon:Z_,sandybrown:J_,seagreen:Q_,seashell:$_,sienna:tm,silver:em,skyblue:rm,slateblue:nm,slategray:im,slategrey:am,snow:sm,springgreen:om,steelblue:um,tan:hm,teal:fm,thistle:lm,tomato:cm,turquoise:dm,violet:pm,wheat:vm,white:_m,whitesmoke:mm,yellow:gm,yellowgreen:ym};function sn(t,r){return r===void 0&&(r=[]),r[0]=(t>>16&255)/255,r[1]=(t>>8&255)/255,r[2]=(t&255)/255,r}function kl(t){var r=t.toString(16);return r="000000".substr(0,6-r.length)+r,"#"+r}function Hl(t){return typeof t=="string"&&(t=bm[t.toLowerCase()]||t,t[0]==="#"&&(t=t.substr(1))),parseInt(t,16)}function Tm(){for(var t=[],r=[],e=0;e<32;e++)t[e]=e,r[e]=e;t[ht.NORMAL_NPM]=ht.NORMAL,t[ht.ADD_NPM]=ht.ADD,t[ht.SCREEN_NPM]=ht.SCREEN,r[ht.NORMAL]=ht.NORMAL_NPM,r[ht.ADD]=ht.ADD_NPM,r[ht.SCREEN]=ht.SCREEN_NPM;var n=[];return n.push(r),n.push(t),n}var Xl=Tm();function jl(t,r){return Xl[r?1:0][t]}function Em(t,r,e,n){return e=e||new Float32Array(4),n||n===void 0?(e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r):(e[0]=t[0],e[1]=t[1],e[2]=t[2]),e[3]=r,e}function fu(t,r){if(r===1)return(r*255<<24)+t;if(r===0)return 0;var e=t>>16&255,n=t>>8&255,i=t&255;return e=e*r+.5|0,n=n*r+.5|0,i=i*r+.5|0,(r*255<<24)+(e<<16)+(n<<8)+i}function Vl(t,r,e,n){return e=e||new Float32Array(4),e[0]=(t>>16&255)/255,e[1]=(t>>8&255)/255,e[2]=(t&255)/255,(n||n===void 0)&&(e[0]*=r,e[1]*=r,e[2]*=r),e[3]=r,e}function wm(t,r){r===void 0&&(r=null);var e=t*6;if(r=r||new Uint16Array(e),r.length!==e)throw new Error("Out buffer length is incorrect, got "+r.length+" and expected "+e);for(var n=0,i=0;n<e;n+=6,i+=4)r[n+0]=i+0,r[n+1]=i+1,r[n+2]=i+2,r[n+3]=i+0,r[n+4]=i+2,r[n+5]=i+3;return r}function zl(t){if(t.BYTES_PER_ELEMENT===4)return t instanceof Float32Array?"Float32Array":t instanceof Uint32Array?"Uint32Array":"Int32Array";if(t.BYTES_PER_ELEMENT===2){if(t instanceof Uint16Array)return"Uint16Array"}else if(t.BYTES_PER_ELEMENT===1&&t instanceof Uint8Array)return"Uint8Array";return null}function ga(t){return t+=t===0?1:0,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t+1}function gh(t){return!(t&t-1)&&!!t}function yh(t){var r=(t>65535?1:0)<<4;t>>>=r;var e=(t>255?1:0)<<3;return t>>>=e,r|=e,e=(t>15?1:0)<<2,t>>>=e,r|=e,e=(t>3?1:0)<<1,t>>>=e,r|=e,r|t>>1}function rn(t,r,e){var n=t.length,i;if(!(r>=n||e===0)){e=r+e>n?n-r:e;var a=n-e;for(i=r;i<a;++i)t[i]=t[i+e];t.length=a}}function $r(t){return t===0?0:t<0?-1:1}var xm=0;function Br(){return++xm}var bh={};function Lr(t,r,e){if(e===void 0&&(e=3),!bh[r]){var n=new Error().stack;typeof n=="undefined"?console.warn("PixiJS Deprecation Warning: ",r+`
Deprecated since v`+t):(n=n.split(`
`).splice(e).join(`
`),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",r+`
Deprecated since v`+t),console.warn(n),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",r+`
Deprecated since v`+t),console.warn(n))),bh[r]=!0}}var Th={},ke=Object.create(null),gr=Object.create(null),Eh=function(){function t(r,e,n){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.resolution=n||at.RESOLUTION,this.resize(r,e)}return t.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},t.prototype.resize=function(r,e){this.canvas.width=Math.round(r*this.resolution),this.canvas.height=Math.round(e*this.resolution)},t.prototype.destroy=function(){this.context=null,this.canvas=null},Object.defineProperty(t.prototype,"width",{get:function(){return this.canvas.width},set:function(r){this.canvas.width=Math.round(r)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.canvas.height},set:function(r){this.canvas.height=Math.round(r)},enumerable:!1,configurable:!0}),t}();function Im(t){var r=t.width,e=t.height,n=t.getContext("2d"),i=n.getImageData(0,0,r,e),a=i.data,s=a.length,o={top:null,left:null,right:null,bottom:null},u=null,h,f,l;for(h=0;h<s;h+=4)a[h+3]!==0&&(f=h/4%r,l=~~(h/4/r),o.top===null&&(o.top=l),(o.left===null||f<o.left)&&(o.left=f),(o.right===null||o.right<f)&&(o.right=f+1),(o.bottom===null||o.bottom<l)&&(o.bottom=l));return o.top!==null&&(r=o.right-o.left,e=o.bottom-o.top+1,u=n.getImageData(o.left,o.top,r,e)),{height:e,width:r,data:u}}var Li;function Cm(t,r){if(r===void 0&&(r=self.location),t.indexOf("data:")===0)return"";r=r||self.location,Li||(Li=document.createElement("a")),Li.href=t;var e=Qr.parse(Li.href),n=!e.port&&r.port===""||e.port===r.port;return e.hostname!==r.hostname||!n||e.protocol!==r.protocol?"anonymous":""}function ya(t,r){var e=at.RETINA_PREFIX.exec(t);return e?parseFloat(e[1]):r!==void 0?r:1}/*!
 * @pixi/math - v6.2.2
 * Compiled Wed, 26 Jan 2022 16:23:27 UTC
 *
 * @pixi/math is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var ba=Math.PI*2,Rm=180/Math.PI,Am=Math.PI/180,Vt;(function(t){t[t.POLY=0]="POLY",t[t.RECT=1]="RECT",t[t.CIRC=2]="CIRC",t[t.ELIP=3]="ELIP",t[t.RREC=4]="RREC"})(Vt||(Vt={}));var Pt=function(){function t(r,e,n,i){r===void 0&&(r=0),e===void 0&&(e=0),n===void 0&&(n=0),i===void 0&&(i=0),this.x=Number(r),this.y=Number(e),this.width=Number(n),this.height=Number(i),this.type=Vt.RECT}return Object.defineProperty(t.prototype,"left",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"top",{get:function(){return this.y},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bottom",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(t,"EMPTY",{get:function(){return new t(0,0,0,0)},enumerable:!1,configurable:!0}),t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.copyFrom=function(r){return this.x=r.x,this.y=r.y,this.width=r.width,this.height=r.height,this},t.prototype.copyTo=function(r){return r.x=this.x,r.y=this.y,r.width=this.width,r.height=this.height,r},t.prototype.contains=function(r,e){return this.width<=0||this.height<=0?!1:r>=this.x&&r<this.x+this.width&&e>=this.y&&e<this.y+this.height},t.prototype.pad=function(r,e){return r===void 0&&(r=0),e===void 0&&(e=r),this.x-=r,this.y-=e,this.width+=r*2,this.height+=e*2,this},t.prototype.fit=function(r){var e=Math.max(this.x,r.x),n=Math.min(this.x+this.width,r.x+r.width),i=Math.max(this.y,r.y),a=Math.min(this.y+this.height,r.y+r.height);return this.x=e,this.width=Math.max(n-e,0),this.y=i,this.height=Math.max(a-i,0),this},t.prototype.ceil=function(r,e){r===void 0&&(r=1),e===void 0&&(e=.001);var n=Math.ceil((this.x+this.width-e)*r)/r,i=Math.ceil((this.y+this.height-e)*r)/r;return this.x=Math.floor((this.x+e)*r)/r,this.y=Math.floor((this.y+e)*r)/r,this.width=n-this.x,this.height=i-this.y,this},t.prototype.enlarge=function(r){var e=Math.min(this.x,r.x),n=Math.max(this.x+this.width,r.x+r.width),i=Math.min(this.y,r.y),a=Math.max(this.y+this.height,r.y+r.height);return this.x=e,this.width=n-e,this.y=i,this.height=a-i,this},t.prototype.toString=function(){return"[@pixi/math:Rectangle x="+this.x+" y="+this.y+" width="+this.width+" height="+this.height+"]"},t}(),Pm=function(){function t(r,e,n){r===void 0&&(r=0),e===void 0&&(e=0),n===void 0&&(n=0),this.x=r,this.y=e,this.radius=n,this.type=Vt.CIRC}return t.prototype.clone=function(){return new t(this.x,this.y,this.radius)},t.prototype.contains=function(r,e){if(this.radius<=0)return!1;var n=this.radius*this.radius,i=this.x-r,a=this.y-e;return i*=i,a*=a,i+a<=n},t.prototype.getBounds=function(){return new Pt(this.x-this.radius,this.y-this.radius,this.radius*2,this.radius*2)},t.prototype.toString=function(){return"[@pixi/math:Circle x="+this.x+" y="+this.y+" radius="+this.radius+"]"},t}(),Nm=function(){function t(r,e,n,i){r===void 0&&(r=0),e===void 0&&(e=0),n===void 0&&(n=0),i===void 0&&(i=0),this.x=r,this.y=e,this.width=n,this.height=i,this.type=Vt.ELIP}return t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.contains=function(r,e){if(this.width<=0||this.height<=0)return!1;var n=(r-this.x)/this.width,i=(e-this.y)/this.height;return n*=n,i*=i,n+i<=1},t.prototype.getBounds=function(){return new Pt(this.x-this.width,this.y-this.height,this.width,this.height)},t.prototype.toString=function(){return"[@pixi/math:Ellipse x="+this.x+" y="+this.y+" width="+this.width+" height="+this.height+"]"},t}(),ua=function(){function t(){for(var r=arguments,e=[],n=0;n<arguments.length;n++)e[n]=r[n];var i=Array.isArray(e[0])?e[0]:e;if(typeof i[0]!="number"){for(var a=[],s=0,o=i.length;s<o;s++)a.push(i[s].x,i[s].y);i=a}this.points=i,this.type=Vt.POLY,this.closeStroke=!0}return t.prototype.clone=function(){var r=this.points.slice(),e=new t(r);return e.closeStroke=this.closeStroke,e},t.prototype.contains=function(r,e){for(var n=!1,i=this.points.length/2,a=0,s=i-1;a<i;s=a++){var o=this.points[a*2],u=this.points[a*2+1],h=this.points[s*2],f=this.points[s*2+1],l=u>e!=f>e&&r<(h-o)*((e-u)/(f-u))+o;l&&(n=!n)}return n},t.prototype.toString=function(){return"[@pixi/math:Polygon"+("closeStroke="+this.closeStroke)+("points="+this.points.reduce(function(r,e){return r+", "+e},"")+"]")},t}(),Sm=function(){function t(r,e,n,i,a){r===void 0&&(r=0),e===void 0&&(e=0),n===void 0&&(n=0),i===void 0&&(i=0),a===void 0&&(a=20),this.x=r,this.y=e,this.width=n,this.height=i,this.radius=a,this.type=Vt.RREC}return t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height,this.radius)},t.prototype.contains=function(r,e){if(this.width<=0||this.height<=0)return!1;if(r>=this.x&&r<=this.x+this.width&&e>=this.y&&e<=this.y+this.height){var n=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(e>=this.y+n&&e<=this.y+this.height-n||r>=this.x+n&&r<=this.x+this.width-n)return!0;var i=r-(this.x+n),a=e-(this.y+n),s=n*n;if(i*i+a*a<=s||(i=r-(this.x+this.width-n),i*i+a*a<=s)||(a=e-(this.y+this.height-n),i*i+a*a<=s)||(i=r-(this.x+n),i*i+a*a<=s))return!0}return!1},t.prototype.toString=function(){return"[@pixi/math:RoundedRectangle x="+this.x+" y="+this.y+("width="+this.width+" height="+this.height+" radius="+this.radius+"]")},t}(),zt=function(){function t(r,e){r===void 0&&(r=0),e===void 0&&(e=0),this.x=0,this.y=0,this.x=r,this.y=e}return t.prototype.clone=function(){return new t(this.x,this.y)},t.prototype.copyFrom=function(r){return this.set(r.x,r.y),this},t.prototype.copyTo=function(r){return r.set(this.x,this.y),r},t.prototype.equals=function(r){return r.x===this.x&&r.y===this.y},t.prototype.set=function(r,e){return r===void 0&&(r=0),e===void 0&&(e=r),this.x=r,this.y=e,this},t.prototype.toString=function(){return"[@pixi/math:Point x="+this.x+" y="+this.y+"]"},t}(),tn=function(){function t(r,e,n,i){n===void 0&&(n=0),i===void 0&&(i=0),this._x=n,this._y=i,this.cb=r,this.scope=e}return t.prototype.clone=function(r,e){return r===void 0&&(r=this.cb),e===void 0&&(e=this.scope),new t(r,e,this._x,this._y)},t.prototype.set=function(r,e){return r===void 0&&(r=0),e===void 0&&(e=r),(this._x!==r||this._y!==e)&&(this._x=r,this._y=e,this.cb.call(this.scope)),this},t.prototype.copyFrom=function(r){return(this._x!==r.x||this._y!==r.y)&&(this._x=r.x,this._y=r.y,this.cb.call(this.scope)),this},t.prototype.copyTo=function(r){return r.set(this._x,this._y),r},t.prototype.equals=function(r){return r.x===this._x&&r.y===this._y},t.prototype.toString=function(){return"[@pixi/math:ObservablePoint x="+0+" y="+0+" scope="+this.scope+"]"},Object.defineProperty(t.prototype,"x",{get:function(){return this._x},set:function(r){this._x!==r&&(this._x=r,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y},set:function(r){this._y!==r&&(this._y=r,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),t}(),Wt=function(){function t(r,e,n,i,a,s){r===void 0&&(r=1),e===void 0&&(e=0),n===void 0&&(n=0),i===void 0&&(i=1),a===void 0&&(a=0),s===void 0&&(s=0),this.array=null,this.a=r,this.b=e,this.c=n,this.d=i,this.tx=a,this.ty=s}return t.prototype.fromArray=function(r){this.a=r[0],this.b=r[1],this.c=r[3],this.d=r[4],this.tx=r[2],this.ty=r[5]},t.prototype.set=function(r,e,n,i,a,s){return this.a=r,this.b=e,this.c=n,this.d=i,this.tx=a,this.ty=s,this},t.prototype.toArray=function(r,e){this.array||(this.array=new Float32Array(9));var n=e||this.array;return r?(n[0]=this.a,n[1]=this.b,n[2]=0,n[3]=this.c,n[4]=this.d,n[5]=0,n[6]=this.tx,n[7]=this.ty,n[8]=1):(n[0]=this.a,n[1]=this.c,n[2]=this.tx,n[3]=this.b,n[4]=this.d,n[5]=this.ty,n[6]=0,n[7]=0,n[8]=1),n},t.prototype.apply=function(r,e){e=e||new zt;var n=r.x,i=r.y;return e.x=this.a*n+this.c*i+this.tx,e.y=this.b*n+this.d*i+this.ty,e},t.prototype.applyInverse=function(r,e){e=e||new zt;var n=1/(this.a*this.d+this.c*-this.b),i=r.x,a=r.y;return e.x=this.d*n*i+-this.c*n*a+(this.ty*this.c-this.tx*this.d)*n,e.y=this.a*n*a+-this.b*n*i+(-this.ty*this.a+this.tx*this.b)*n,e},t.prototype.translate=function(r,e){return this.tx+=r,this.ty+=e,this},t.prototype.scale=function(r,e){return this.a*=r,this.d*=e,this.c*=r,this.b*=e,this.tx*=r,this.ty*=e,this},t.prototype.rotate=function(r){var e=Math.cos(r),n=Math.sin(r),i=this.a,a=this.c,s=this.tx;return this.a=i*e-this.b*n,this.b=i*n+this.b*e,this.c=a*e-this.d*n,this.d=a*n+this.d*e,this.tx=s*e-this.ty*n,this.ty=s*n+this.ty*e,this},t.prototype.append=function(r){var e=this.a,n=this.b,i=this.c,a=this.d;return this.a=r.a*e+r.b*i,this.b=r.a*n+r.b*a,this.c=r.c*e+r.d*i,this.d=r.c*n+r.d*a,this.tx=r.tx*e+r.ty*i+this.tx,this.ty=r.tx*n+r.ty*a+this.ty,this},t.prototype.setTransform=function(r,e,n,i,a,s,o,u,h){return this.a=Math.cos(o+h)*a,this.b=Math.sin(o+h)*a,this.c=-Math.sin(o-u)*s,this.d=Math.cos(o-u)*s,this.tx=r-(n*this.a+i*this.c),this.ty=e-(n*this.b+i*this.d),this},t.prototype.prepend=function(r){var e=this.tx;if(r.a!==1||r.b!==0||r.c!==0||r.d!==1){var n=this.a,i=this.c;this.a=n*r.a+this.b*r.c,this.b=n*r.b+this.b*r.d,this.c=i*r.a+this.d*r.c,this.d=i*r.b+this.d*r.d}return this.tx=e*r.a+this.ty*r.c+r.tx,this.ty=e*r.b+this.ty*r.d+r.ty,this},t.prototype.decompose=function(r){var e=this.a,n=this.b,i=this.c,a=this.d,s=r.pivot,o=-Math.atan2(-i,a),u=Math.atan2(n,e),h=Math.abs(o+u);return h<1e-5||Math.abs(ba-h)<1e-5?(r.rotation=u,r.skew.x=r.skew.y=0):(r.rotation=0,r.skew.x=o,r.skew.y=u),r.scale.x=Math.sqrt(e*e+n*n),r.scale.y=Math.sqrt(i*i+a*a),r.position.x=this.tx+(s.x*e+s.y*i),r.position.y=this.ty+(s.x*n+s.y*a),r},t.prototype.invert=function(){var r=this.a,e=this.b,n=this.c,i=this.d,a=this.tx,s=r*i-e*n;return this.a=i/s,this.b=-e/s,this.c=-n/s,this.d=r/s,this.tx=(n*this.ty-i*a)/s,this.ty=-(r*this.ty-e*a)/s,this},t.prototype.identity=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this},t.prototype.clone=function(){var r=new t;return r.a=this.a,r.b=this.b,r.c=this.c,r.d=this.d,r.tx=this.tx,r.ty=this.ty,r},t.prototype.copyTo=function(r){return r.a=this.a,r.b=this.b,r.c=this.c,r.d=this.d,r.tx=this.tx,r.ty=this.ty,r},t.prototype.copyFrom=function(r){return this.a=r.a,this.b=r.b,this.c=r.c,this.d=r.d,this.tx=r.tx,this.ty=r.ty,this},t.prototype.toString=function(){return"[@pixi/math:Matrix a="+this.a+" b="+this.b+" c="+this.c+" d="+this.d+" tx="+this.tx+" ty="+this.ty+"]"},Object.defineProperty(t,"IDENTITY",{get:function(){return new t},enumerable:!1,configurable:!0}),Object.defineProperty(t,"TEMP_MATRIX",{get:function(){return new t},enumerable:!1,configurable:!0}),t}(),wr=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],xr=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],Ir=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],Cr=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],io=[],Wl=[],Mi=Math.sign;function Om(){for(var t=0;t<16;t++){var r=[];io.push(r);for(var e=0;e<16;e++)for(var n=Mi(wr[t]*wr[e]+Ir[t]*xr[e]),i=Mi(xr[t]*wr[e]+Cr[t]*xr[e]),a=Mi(wr[t]*Ir[e]+Ir[t]*Cr[e]),s=Mi(xr[t]*Ir[e]+Cr[t]*Cr[e]),o=0;o<16;o++)if(wr[o]===n&&xr[o]===i&&Ir[o]===a&&Cr[o]===s){r.push(o);break}}for(var t=0;t<16;t++){var u=new Wt;u.set(wr[t],xr[t],Ir[t],Cr[t],0,0),Wl.push(u)}}Om();var Dt={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:function(t){return wr[t]},uY:function(t){return xr[t]},vX:function(t){return Ir[t]},vY:function(t){return Cr[t]},inv:function(t){return t&8?t&15:-t&7},add:function(t,r){return io[t][r]},sub:function(t,r){return io[t][Dt.inv(r)]},rotate180:function(t){return t^4},isVertical:function(t){return(t&3)===2},byDirection:function(t,r){return Math.abs(t)*2<=Math.abs(r)?r>=0?Dt.S:Dt.N:Math.abs(r)*2<=Math.abs(t)?t>0?Dt.E:Dt.W:r>0?t>0?Dt.SE:Dt.SW:t>0?Dt.NE:Dt.NW},matrixAppendRotationInv:function(t,r,e,n){e===void 0&&(e=0),n===void 0&&(n=0);var i=Wl[Dt.inv(r)];i.tx=e,i.ty=n,t.append(i)}},Kl=function(){function t(){this.worldTransform=new Wt,this.localTransform=new Wt,this.position=new tn(this.onChange,this,0,0),this.scale=new tn(this.onChange,this,1,1),this.pivot=new tn(this.onChange,this,0,0),this.skew=new tn(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}return t.prototype.onChange=function(){this._localID++},t.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++},t.prototype.toString=function(){return"[@pixi/math:Transform "+("position=("+this.position.x+", "+this.position.y+") ")+("rotation="+this.rotation+" ")+("scale=("+this.scale.x+", "+this.scale.y+") ")+("skew=("+this.skew.x+", "+this.skew.y+") ")+"]"},t.prototype.updateLocalTransform=function(){var r=this.localTransform;this._localID!==this._currentLocalID&&(r.a=this._cx*this.scale.x,r.b=this._sx*this.scale.x,r.c=this._cy*this.scale.y,r.d=this._sy*this.scale.y,r.tx=this.position.x-(this.pivot.x*r.a+this.pivot.y*r.c),r.ty=this.position.y-(this.pivot.x*r.b+this.pivot.y*r.d),this._currentLocalID=this._localID,this._parentID=-1)},t.prototype.updateTransform=function(r){var e=this.localTransform;if(this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==r._worldID){var n=r.worldTransform,i=this.worldTransform;i.a=e.a*n.a+e.b*n.c,i.b=e.a*n.b+e.b*n.d,i.c=e.c*n.a+e.d*n.c,i.d=e.c*n.b+e.d*n.d,i.tx=e.tx*n.a+e.ty*n.c+n.tx,i.ty=e.tx*n.b+e.ty*n.d+n.ty,this._parentID=r._worldID,this._worldID++}},t.prototype.setFromMatrix=function(r){r.decompose(this),this._localID++},Object.defineProperty(t.prototype,"rotation",{get:function(){return this._rotation},set:function(r){this._rotation!==r&&(this._rotation=r,this.updateSkew())},enumerable:!1,configurable:!0}),t.IDENTITY=new t,t}();/*!
 * @pixi/display - v6.2.2
 * Compiled Wed, 26 Jan 2022 16:23:27 UTC
 *
 * @pixi/display is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */at.SORTABLE_CHILDREN=!1;var ii=function(){function t(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}return t.prototype.isEmpty=function(){return this.minX>this.maxX||this.minY>this.maxY},t.prototype.clear=function(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0},t.prototype.getRectangle=function(r){return this.minX>this.maxX||this.minY>this.maxY?Pt.EMPTY:(r=r||new Pt(0,0,1,1),r.x=this.minX,r.y=this.minY,r.width=this.maxX-this.minX,r.height=this.maxY-this.minY,r)},t.prototype.addPoint=function(r){this.minX=Math.min(this.minX,r.x),this.maxX=Math.max(this.maxX,r.x),this.minY=Math.min(this.minY,r.y),this.maxY=Math.max(this.maxY,r.y)},t.prototype.addPointMatrix=function(r,e){var n=r.a,i=r.b,a=r.c,s=r.d,o=r.tx,u=r.ty,h=n*e.x+a*e.y+o,f=i*e.x+s*e.y+u;this.minX=Math.min(this.minX,h),this.maxX=Math.max(this.maxX,h),this.minY=Math.min(this.minY,f),this.maxY=Math.max(this.maxY,f)},t.prototype.addQuad=function(r){var e=this.minX,n=this.minY,i=this.maxX,a=this.maxY,s=r[0],o=r[1];e=s<e?s:e,n=o<n?o:n,i=s>i?s:i,a=o>a?o:a,s=r[2],o=r[3],e=s<e?s:e,n=o<n?o:n,i=s>i?s:i,a=o>a?o:a,s=r[4],o=r[5],e=s<e?s:e,n=o<n?o:n,i=s>i?s:i,a=o>a?o:a,s=r[6],o=r[7],e=s<e?s:e,n=o<n?o:n,i=s>i?s:i,a=o>a?o:a,this.minX=e,this.minY=n,this.maxX=i,this.maxY=a},t.prototype.addFrame=function(r,e,n,i,a){this.addFrameMatrix(r.worldTransform,e,n,i,a)},t.prototype.addFrameMatrix=function(r,e,n,i,a){var s=r.a,o=r.b,u=r.c,h=r.d,f=r.tx,l=r.ty,c=this.minX,d=this.minY,p=this.maxX,v=this.maxY,_=s*e+u*n+f,m=o*e+h*n+l;c=_<c?_:c,d=m<d?m:d,p=_>p?_:p,v=m>v?m:v,_=s*i+u*n+f,m=o*i+h*n+l,c=_<c?_:c,d=m<d?m:d,p=_>p?_:p,v=m>v?m:v,_=s*e+u*a+f,m=o*e+h*a+l,c=_<c?_:c,d=m<d?m:d,p=_>p?_:p,v=m>v?m:v,_=s*i+u*a+f,m=o*i+h*a+l,c=_<c?_:c,d=m<d?m:d,p=_>p?_:p,v=m>v?m:v,this.minX=c,this.minY=d,this.maxX=p,this.maxY=v},t.prototype.addVertexData=function(r,e,n){for(var i=this.minX,a=this.minY,s=this.maxX,o=this.maxY,u=e;u<n;u+=2){var h=r[u],f=r[u+1];i=h<i?h:i,a=f<a?f:a,s=h>s?h:s,o=f>o?f:o}this.minX=i,this.minY=a,this.maxX=s,this.maxY=o},t.prototype.addVertices=function(r,e,n,i){this.addVerticesMatrix(r.worldTransform,e,n,i)},t.prototype.addVerticesMatrix=function(r,e,n,i,a,s){a===void 0&&(a=0),s===void 0&&(s=a);for(var o=r.a,u=r.b,h=r.c,f=r.d,l=r.tx,c=r.ty,d=this.minX,p=this.minY,v=this.maxX,_=this.maxY,m=n;m<i;m+=2){var b=e[m],T=e[m+1],w=o*b+h*T+l,y=f*T+u*b+c;d=Math.min(d,w-a),v=Math.max(v,w+a),p=Math.min(p,y-s),_=Math.max(_,y+s)}this.minX=d,this.minY=p,this.maxX=v,this.maxY=_},t.prototype.addBounds=function(r){var e=this.minX,n=this.minY,i=this.maxX,a=this.maxY;this.minX=r.minX<e?r.minX:e,this.minY=r.minY<n?r.minY:n,this.maxX=r.maxX>i?r.maxX:i,this.maxY=r.maxY>a?r.maxY:a},t.prototype.addBoundsMask=function(r,e){var n=r.minX>e.minX?r.minX:e.minX,i=r.minY>e.minY?r.minY:e.minY,a=r.maxX<e.maxX?r.maxX:e.maxX,s=r.maxY<e.maxY?r.maxY:e.maxY;if(n<=a&&i<=s){var o=this.minX,u=this.minY,h=this.maxX,f=this.maxY;this.minX=n<o?n:o,this.minY=i<u?i:u,this.maxX=a>h?a:h,this.maxY=s>f?s:f}},t.prototype.addBoundsMatrix=function(r,e){this.addFrameMatrix(e,r.minX,r.minY,r.maxX,r.maxY)},t.prototype.addBoundsArea=function(r,e){var n=r.minX>e.x?r.minX:e.x,i=r.minY>e.y?r.minY:e.y,a=r.maxX<e.x+e.width?r.maxX:e.x+e.width,s=r.maxY<e.y+e.height?r.maxY:e.y+e.height;if(n<=a&&i<=s){var o=this.minX,u=this.minY,h=this.maxX,f=this.maxY;this.minX=n<o?n:o,this.minY=i<u?i:u,this.maxX=a>h?a:h,this.maxY=s>f?s:f}},t.prototype.pad=function(r,e){r===void 0&&(r=0),e===void 0&&(e=r),this.isEmpty()||(this.minX-=r,this.maxX+=r,this.minY-=e,this.maxY+=e)},t.prototype.addFramePad=function(r,e,n,i,a,s){r-=a,e-=s,n+=a,i+=s,this.minX=this.minX<r?this.minX:r,this.maxX=this.maxX>n?this.maxX:n,this.minY=this.minY<e?this.minY:e,this.maxY=this.maxY>i?this.maxY:i},t}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var ao=function(t,r){return ao=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)n.hasOwnProperty(i)&&(e[i]=n[i])},ao(t,r)};function lu(t,r){ao(t,r);function e(){this.constructor=t}t.prototype=r===null?Object.create(r):(e.prototype=r.prototype,new e)}var Kt=function(t){lu(r,t);function r(){var e=t.call(this)||this;return e.tempDisplayObjectParent=null,e.transform=new Kl,e.alpha=1,e.visible=!0,e.renderable=!0,e.parent=null,e.worldAlpha=1,e._lastSortedIndex=0,e._zIndex=0,e.filterArea=null,e.filters=null,e._enabledFilters=null,e._bounds=new ii,e._localBounds=null,e._boundsID=0,e._boundsRect=null,e._localBoundsRect=null,e._mask=null,e._maskRefCount=0,e._destroyed=!1,e.isSprite=!1,e.isMask=!1,e}return r.mixin=function(e){for(var n=Object.keys(e),i=0;i<n.length;++i){var a=n[i];Object.defineProperty(r.prototype,a,Object.getOwnPropertyDescriptor(e,a))}},Object.defineProperty(r.prototype,"destroyed",{get:function(){return this._destroyed},enumerable:!1,configurable:!0}),r.prototype._recursivePostUpdateTransform=function(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)},r.prototype.updateTransform=function(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha},r.prototype.getBounds=function(e,n){return e||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),n||(this._boundsRect||(this._boundsRect=new Pt),n=this._boundsRect),this._bounds.getRectangle(n)},r.prototype.getLocalBounds=function(e){e||(this._localBoundsRect||(this._localBoundsRect=new Pt),e=this._localBoundsRect),this._localBounds||(this._localBounds=new ii);var n=this.transform,i=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform;var a=this._bounds,s=this._boundsID;this._bounds=this._localBounds;var o=this.getBounds(!1,e);return this.parent=i,this.transform=n,this._bounds=a,this._bounds.updateID+=this._boundsID-s,o},r.prototype.toGlobal=function(e,n,i){return i===void 0&&(i=!1),i||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(e,n)},r.prototype.toLocal=function(e,n,i,a){return n&&(e=n.toGlobal(e,i,a)),a||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(e,i)},r.prototype.setParent=function(e){if(!e||!e.addChild)throw new Error("setParent: Argument must be a Container");return e.addChild(this),e},r.prototype.setTransform=function(e,n,i,a,s,o,u,h,f){return e===void 0&&(e=0),n===void 0&&(n=0),i===void 0&&(i=1),a===void 0&&(a=1),s===void 0&&(s=0),o===void 0&&(o=0),u===void 0&&(u=0),h===void 0&&(h=0),f===void 0&&(f=0),this.position.x=e,this.position.y=n,this.scale.x=i||1,this.scale.y=a||1,this.rotation=s,this.skew.x=o,this.skew.y=u,this.pivot.x=h,this.pivot.y=f,this},r.prototype.destroy=function(e){this.parent&&this.parent.removeChild(this),this.emit("destroyed"),this.removeAllListeners(),this.transform=null,this.parent=null,this._bounds=null,this.mask=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.interactive=!1,this.interactiveChildren=!1,this._destroyed=!0},Object.defineProperty(r.prototype,"_tempDisplayObjectParent",{get:function(){return this.tempDisplayObjectParent===null&&(this.tempDisplayObjectParent=new Yl),this.tempDisplayObjectParent},enumerable:!1,configurable:!0}),r.prototype.enableTempParent=function(){var e=this.parent;return this.parent=this._tempDisplayObjectParent,e},r.prototype.disableTempParent=function(e){this.parent=e},Object.defineProperty(r.prototype,"x",{get:function(){return this.position.x},set:function(e){this.transform.position.x=e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"y",{get:function(){return this.position.y},set:function(e){this.transform.position.y=e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"worldTransform",{get:function(){return this.transform.worldTransform},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"localTransform",{get:function(){return this.transform.localTransform},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"position",{get:function(){return this.transform.position},set:function(e){this.transform.position.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"scale",{get:function(){return this.transform.scale},set:function(e){this.transform.scale.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"pivot",{get:function(){return this.transform.pivot},set:function(e){this.transform.pivot.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"skew",{get:function(){return this.transform.skew},set:function(e){this.transform.skew.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"rotation",{get:function(){return this.transform.rotation},set:function(e){this.transform.rotation=e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"angle",{get:function(){return this.transform.rotation*Rm},set:function(e){this.transform.rotation=e*Am},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"zIndex",{get:function(){return this._zIndex},set:function(e){this._zIndex=e,this.parent&&(this.parent.sortDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"worldVisible",{get:function(){var e=this;do{if(!e.visible)return!1;e=e.parent}while(e);return!0},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"mask",{get:function(){return this._mask},set:function(e){if(this._mask!==e){if(this._mask){var n=this._mask.maskObject||this._mask;n._maskRefCount--,n._maskRefCount===0&&(n.renderable=!0,n.isMask=!1)}if(this._mask=e,this._mask){var n=this._mask.maskObject||this._mask;n._maskRefCount===0&&(n.renderable=!1,n.isMask=!0),n._maskRefCount++}}},enumerable:!1,configurable:!0}),r}(bi),Yl=function(t){lu(r,t);function r(){var e=t!==null&&t.apply(this,arguments)||this;return e.sortDirty=null,e}return r}(Kt);Kt.prototype.displayObjectUpdateTransform=Kt.prototype.updateTransform;/*!
 * @pixi/constants - v6.2.2
 * Compiled Wed, 26 Jan 2022 16:23:27 UTC
 *
 * @pixi/constants is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var wh;(function(t){t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2"})(wh||(wh={}));var xh;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS"})(xh||(xh={}));var Ih;(function(t){t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL"})(Ih||(Ih={}));var Ch;(function(t){t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR"})(Ch||(Ch={}));var Rh;(function(t){t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN"})(Rh||(Rh={}));var Ah;(function(t){t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.RG=33319]="RG",t[t.RED=6403]="RED",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL"})(Ah||(Ah={}));var Ph;(function(t){t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"})(Ph||(Ph={}));var Nh;(function(t){t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.BYTE=5120]="BYTE",t[t.SHORT=5122]="SHORT",t[t.INT=5124]="INT",t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",t[t.HALF_FLOAT=36193]="HALF_FLOAT"})(Nh||(Nh={}));var Sh;(function(t){t[t.FLOAT=0]="FLOAT",t[t.INT=1]="INT",t[t.UINT=2]="UINT"})(Sh||(Sh={}));var Oh;(function(t){t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR"})(Oh||(Oh={}));var Uh;(function(t){t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"})(Uh||(Uh={}));var Fh;(function(t){t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON",t[t.ON_MANUAL=3]="ON_MANUAL"})(Fh||(Fh={}));var Bh;(function(t){t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",t[t.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA"})(Bh||(Bh={}));var Lh;(function(t){t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT"})(Lh||(Lh={}));var Mh;(function(t){t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL"})(Mh||(Mh={}));var Gh;(function(t){t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp"})(Gh||(Gh={}));var so;(function(t){t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE"})(so||(so={}));var Dh;(function(t){t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH"})(Dh||(Dh={}));var kh;(function(t){t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"})(kh||(kh={}));function Um(t,r){return t.zIndex===r.zIndex?t._lastSortedIndex-r._lastSortedIndex:t.zIndex-r.zIndex}var Ie=function(t){lu(r,t);function r(){var e=t.call(this)||this;return e.children=[],e.sortableChildren=at.SORTABLE_CHILDREN,e.sortDirty=!1,e}return r.prototype.onChildrenChange=function(e){},r.prototype.addChild=function(){for(var e=arguments,n=[],i=0;i<arguments.length;i++)n[i]=e[i];if(n.length>1)for(var a=0;a<n.length;a++)this.addChild(n[a]);else{var s=n[0];s.parent&&s.parent.removeChild(s),s.parent=this,this.sortDirty=!0,s.transform._parentID=-1,this.children.push(s),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",s,this,this.children.length-1),s.emit("added",this)}return n[0]},r.prototype.addChildAt=function(e,n){if(n<0||n>this.children.length)throw new Error(e+"addChildAt: The index "+n+" supplied is out of bounds "+this.children.length);return e.parent&&e.parent.removeChild(e),e.parent=this,this.sortDirty=!0,e.transform._parentID=-1,this.children.splice(n,0,e),this._boundsID++,this.onChildrenChange(n),e.emit("added",this),this.emit("childAdded",e,this,n),e},r.prototype.swapChildren=function(e,n){if(e!==n){var i=this.getChildIndex(e),a=this.getChildIndex(n);this.children[i]=n,this.children[a]=e,this.onChildrenChange(i<a?i:a)}},r.prototype.getChildIndex=function(e){var n=this.children.indexOf(e);if(n===-1)throw new Error("The supplied DisplayObject must be a child of the caller");return n},r.prototype.setChildIndex=function(e,n){if(n<0||n>=this.children.length)throw new Error("The index "+n+" supplied is out of bounds "+this.children.length);var i=this.getChildIndex(e);rn(this.children,i,1),this.children.splice(n,0,e),this.onChildrenChange(n)},r.prototype.getChildAt=function(e){if(e<0||e>=this.children.length)throw new Error("getChildAt: Index ("+e+") does not exist.");return this.children[e]},r.prototype.removeChild=function(){for(var e=arguments,n=[],i=0;i<arguments.length;i++)n[i]=e[i];if(n.length>1)for(var a=0;a<n.length;a++)this.removeChild(n[a]);else{var s=n[0],o=this.children.indexOf(s);if(o===-1)return null;s.parent=null,s.transform._parentID=-1,rn(this.children,o,1),this._boundsID++,this.onChildrenChange(o),s.emit("removed",this),this.emit("childRemoved",s,this,o)}return n[0]},r.prototype.removeChildAt=function(e){var n=this.getChildAt(e);return n.parent=null,n.transform._parentID=-1,rn(this.children,e,1),this._boundsID++,this.onChildrenChange(e),n.emit("removed",this),this.emit("childRemoved",n,this,e),n},r.prototype.removeChildren=function(e,n){e===void 0&&(e=0),n===void 0&&(n=this.children.length);var i=e,a=n,s=a-i,o;if(s>0&&s<=a){o=this.children.splice(i,s);for(var u=0;u<o.length;++u)o[u].parent=null,o[u].transform&&(o[u].transform._parentID=-1);this._boundsID++,this.onChildrenChange(e);for(var u=0;u<o.length;++u)o[u].emit("removed",this),this.emit("childRemoved",o[u],this,u);return o}else if(s===0&&this.children.length===0)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},r.prototype.sortChildren=function(){for(var e=!1,n=0,i=this.children.length;n<i;++n){var a=this.children[n];a._lastSortedIndex=n,!e&&a.zIndex!==0&&(e=!0)}e&&this.children.length>1&&this.children.sort(Um),this.sortDirty=!1},r.prototype.updateTransform=function(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(var e=0,n=this.children.length;e<n;++e){var i=this.children[e];i.visible&&i.updateTransform()}},r.prototype.calculateBounds=function(){this._bounds.clear(),this._calculateBounds();for(var e=0;e<this.children.length;e++){var n=this.children[e];if(!(!n.visible||!n.renderable))if(n.calculateBounds(),n._mask){var i=n._mask.maskObject||n._mask;i.calculateBounds(),this._bounds.addBoundsMask(n._bounds,i._bounds)}else n.filterArea?this._bounds.addBoundsArea(n._bounds,n.filterArea):this._bounds.addBounds(n._bounds)}this._bounds.updateID=this._boundsID},r.prototype.getLocalBounds=function(e,n){n===void 0&&(n=!1);var i=t.prototype.getLocalBounds.call(this,e);if(!n)for(var a=0,s=this.children.length;a<s;++a){var o=this.children[a];o.visible&&o.updateTransform()}return i},r.prototype._calculateBounds=function(){},r.prototype.render=function(e){if(!(!this.visible||this.worldAlpha<=0||!this.renderable))if(this._mask||this.filters&&this.filters.length)this.renderAdvanced(e);else{this._render(e);for(var n=0,i=this.children.length;n<i;++n)this.children[n].render(e)}},r.prototype.renderAdvanced=function(e){var n=this.filters,i=this._mask;if(n){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(var a=0;a<n.length;a++)n[a].enabled&&this._enabledFilters.push(n[a])}var s=n&&this._enabledFilters&&this._enabledFilters.length||i&&(!i.isMaskData||i.enabled&&(i.autoDetect||i.type!==so.NONE));s&&e.batch.flush(),n&&this._enabledFilters&&this._enabledFilters.length&&e.filter.push(this,this._enabledFilters),i&&e.mask.push(this,this._mask),this._render(e);for(var a=0,o=this.children.length;a<o;a++)this.children[a].render(e);s&&e.batch.flush(),i&&e.mask.pop(this),n&&this._enabledFilters&&this._enabledFilters.length&&e.filter.pop()},r.prototype._render=function(e){},r.prototype.destroy=function(e){t.prototype.destroy.call(this),this.sortDirty=!1;var n=typeof e=="boolean"?e:e&&e.children,i=this.removeChildren(0,this.children.length);if(n)for(var a=0;a<i.length;++a)i[a].destroy(e)},Object.defineProperty(r.prototype,"width",{get:function(){return this.scale.x*this.getLocalBounds().width},set:function(e){var n=this.getLocalBounds().width;n!==0?this.scale.x=e/n:this.scale.x=1,this._width=e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"height",{get:function(){return this.scale.y*this.getLocalBounds().height},set:function(e){var n=this.getLocalBounds().height;n!==0?this.scale.y=e/n:this.scale.y=1,this._height=e},enumerable:!1,configurable:!0}),r}(Kt);Ie.prototype.containerUpdateTransform=Ie.prototype.updateTransform;/*!
 * @pixi/accessibility - v6.2.2
 * Compiled Wed, 26 Jan 2022 16:23:27 UTC
 *
 * @pixi/accessibility is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Fm={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,renderId:-1};Kt.mixin(Fm);var Bm=9,Gi=100,Lm=0,Mm=0,Hh=2,Xh=1,Gm=-1e3,Dm=-1e3,km=2,Hm=function(){function t(r){this.debug=!1,this._isActive=!1,this._isMobileAccessibility=!1,this.pool=[],this.renderId=0,this.children=[],this.androidUpdateCount=0,this.androidUpdateFrequency=500,this._hookDiv=null,(Pe.tablet||Pe.phone)&&this.createTouchHook();var e=document.createElement("div");e.style.width=Gi+"px",e.style.height=Gi+"px",e.style.position="absolute",e.style.top=Lm+"px",e.style.left=Mm+"px",e.style.zIndex=Hh.toString(),this.div=e,this.renderer=r,this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),self.addEventListener("keydown",this._onKeyDown,!1)}return Object.defineProperty(t.prototype,"isActive",{get:function(){return this._isActive},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isMobileAccessibility",{get:function(){return this._isMobileAccessibility},enumerable:!1,configurable:!0}),t.prototype.createTouchHook=function(){var r=this,e=document.createElement("button");e.style.width=Xh+"px",e.style.height=Xh+"px",e.style.position="absolute",e.style.top=Gm+"px",e.style.left=Dm+"px",e.style.zIndex=km.toString(),e.style.backgroundColor="#FF0000",e.title="select to enable accessibility for this content",e.addEventListener("focus",function(){r._isMobileAccessibility=!0,r.activate(),r.destroyTouchHook()}),document.body.appendChild(e),this._hookDiv=e},t.prototype.destroyTouchHook=function(){!this._hookDiv||(document.body.removeChild(this._hookDiv),this._hookDiv=null)},t.prototype.activate=function(){var r;this._isActive||(this._isActive=!0,self.document.addEventListener("mousemove",this._onMouseMove,!0),self.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),(r=this.renderer.view.parentNode)===null||r===void 0||r.appendChild(this.div))},t.prototype.deactivate=function(){var r;!this._isActive||this._isMobileAccessibility||(this._isActive=!1,self.document.removeEventListener("mousemove",this._onMouseMove,!0),self.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),(r=this.div.parentNode)===null||r===void 0||r.removeChild(this.div))},t.prototype.updateAccessibleObjects=function(r){if(!(!r.visible||!r.accessibleChildren)){r.accessible&&r.interactive&&(r._accessibleActive||this.addChild(r),r.renderId=this.renderId);var e=r.children;if(e)for(var n=0;n<e.length;n++)this.updateAccessibleObjects(e[n])}},t.prototype.update=function(){var r=performance.now();if(!(Pe.android.device&&r<this.androidUpdateCount)&&(this.androidUpdateCount=r+this.androidUpdateFrequency,!!this.renderer.renderingToScreen)){this.renderer._lastObjectRendered&&this.updateAccessibleObjects(this.renderer._lastObjectRendered);var e=this.renderer.view.getBoundingClientRect(),n=e.left,i=e.top,a=e.width,s=e.height,o=this.renderer,u=o.width,h=o.height,f=o.resolution,l=a/u*f,c=s/h*f,d=this.div;d.style.left=n+"px",d.style.top=i+"px",d.style.width=u+"px",d.style.height=h+"px";for(var p=0;p<this.children.length;p++){var v=this.children[p];if(v.renderId!==this.renderId)v._accessibleActive=!1,rn(this.children,p,1),this.div.removeChild(v._accessibleDiv),this.pool.push(v._accessibleDiv),v._accessibleDiv=null,p--;else{d=v._accessibleDiv;var _=v.hitArea,m=v.worldTransform;v.hitArea?(d.style.left=(m.tx+_.x*m.a)*l+"px",d.style.top=(m.ty+_.y*m.d)*c+"px",d.style.width=_.width*m.a*l+"px",d.style.height=_.height*m.d*c+"px"):(_=v.getBounds(),this.capHitArea(_),d.style.left=_.x*l+"px",d.style.top=_.y*c+"px",d.style.width=_.width*l+"px",d.style.height=_.height*c+"px",d.title!==v.accessibleTitle&&v.accessibleTitle!==null&&(d.title=v.accessibleTitle),d.getAttribute("aria-label")!==v.accessibleHint&&v.accessibleHint!==null&&d.setAttribute("aria-label",v.accessibleHint)),(v.accessibleTitle!==d.title||v.tabIndex!==d.tabIndex)&&(d.title=v.accessibleTitle,d.tabIndex=v.tabIndex,this.debug&&this.updateDebugHTML(d))}}this.renderId++}},t.prototype.updateDebugHTML=function(r){r.innerHTML="type: "+r.type+"</br> title : "+r.title+"</br> tabIndex: "+r.tabIndex},t.prototype.capHitArea=function(r){r.x<0&&(r.width+=r.x,r.x=0),r.y<0&&(r.height+=r.y,r.y=0);var e=this.renderer,n=e.width,i=e.height;r.x+r.width>n&&(r.width=n-r.x),r.y+r.height>i&&(r.height=i-r.y)},t.prototype.addChild=function(r){var e=this.pool.pop();e||(e=document.createElement("button"),e.style.width=Gi+"px",e.style.height=Gi+"px",e.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",e.style.position="absolute",e.style.zIndex=Hh.toString(),e.style.borderStyle="none",navigator.userAgent.toLowerCase().indexOf("chrome")>-1?e.setAttribute("aria-live","off"):e.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?e.setAttribute("aria-relevant","additions"):e.setAttribute("aria-relevant","text"),e.addEventListener("click",this._onClick.bind(this)),e.addEventListener("focus",this._onFocus.bind(this)),e.addEventListener("focusout",this._onFocusOut.bind(this))),e.style.pointerEvents=r.accessiblePointerEvents,e.type=r.accessibleType,r.accessibleTitle&&r.accessibleTitle!==null?e.title=r.accessibleTitle:(!r.accessibleHint||r.accessibleHint===null)&&(e.title="displayObject "+r.tabIndex),r.accessibleHint&&r.accessibleHint!==null&&e.setAttribute("aria-label",r.accessibleHint),this.debug&&this.updateDebugHTML(e),r._accessibleActive=!0,r._accessibleDiv=e,e.displayObject=r,this.children.push(r),this.div.appendChild(r._accessibleDiv),r._accessibleDiv.tabIndex=r.tabIndex},t.prototype._onClick=function(r){var e=this.renderer.plugins.interaction,n=r.target.displayObject,i=e.eventData;e.dispatchEvent(n,"click",i),e.dispatchEvent(n,"pointertap",i),e.dispatchEvent(n,"tap",i)},t.prototype._onFocus=function(r){r.target.getAttribute("aria-live")||r.target.setAttribute("aria-live","assertive");var e=this.renderer.plugins.interaction,n=r.target.displayObject,i=e.eventData;e.dispatchEvent(n,"mouseover",i)},t.prototype._onFocusOut=function(r){r.target.getAttribute("aria-live")||r.target.setAttribute("aria-live","polite");var e=this.renderer.plugins.interaction,n=r.target.displayObject,i=e.eventData;e.dispatchEvent(n,"mouseout",i)},t.prototype._onKeyDown=function(r){r.keyCode===Bm&&this.activate()},t.prototype._onMouseMove=function(r){r.movementX===0&&r.movementY===0||this.deactivate()},t.prototype.destroy=function(){this.destroyTouchHook(),this.div=null,self.document.removeEventListener("mousemove",this._onMouseMove,!0),self.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null},t}();/*!
 * @pixi/ticker - v6.2.2
 * Compiled Wed, 26 Jan 2022 16:23:27 UTC
 *
 * @pixi/ticker is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */at.TARGET_FPMS=.06;var Ze;(function(t){t[t.INTERACTION=50]="INTERACTION",t[t.HIGH=25]="HIGH",t[t.NORMAL=0]="NORMAL",t[t.LOW=-25]="LOW",t[t.UTILITY=-50]="UTILITY"})(Ze||(Ze={}));var us=function(){function t(r,e,n,i){e===void 0&&(e=null),n===void 0&&(n=0),i===void 0&&(i=!1),this.next=null,this.previous=null,this._destroyed=!1,this.fn=r,this.context=e,this.priority=n,this.once=i}return t.prototype.match=function(r,e){return e===void 0&&(e=null),this.fn===r&&this.context===e},t.prototype.emit=function(r){this.fn&&(this.context?this.fn.call(this.context,r):this.fn(r));var e=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),e},t.prototype.connect=function(r){this.previous=r,r.next&&(r.next.previous=this),this.next=r.next,r.next=this},t.prototype.destroy=function(r){r===void 0&&(r=!1),this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);var e=this.next;return this.next=r?null:e,this.previous=null,e},t}(),ne=function(){function t(){var r=this;this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new us(null,null,1/0),this.deltaMS=1/at.TARGET_FPMS,this.elapsedMS=1/at.TARGET_FPMS,this._tick=function(e){r._requestId=null,r.started&&(r.update(e),r.started&&r._requestId===null&&r._head.next&&(r._requestId=requestAnimationFrame(r._tick)))}}return t.prototype._requestIfNeeded=function(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))},t.prototype._cancelIfNeeded=function(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)},t.prototype._startIfPossible=function(){this.started?this._requestIfNeeded():this.autoStart&&this.start()},t.prototype.add=function(r,e,n){return n===void 0&&(n=Ze.NORMAL),this._addListener(new us(r,e,n))},t.prototype.addOnce=function(r,e,n){return n===void 0&&(n=Ze.NORMAL),this._addListener(new us(r,e,n,!0))},t.prototype._addListener=function(r){var e=this._head.next,n=this._head;if(!e)r.connect(n);else{for(;e;){if(r.priority>e.priority){r.connect(n);break}n=e,e=e.next}r.previous||r.connect(n)}return this._startIfPossible(),this},t.prototype.remove=function(r,e){for(var n=this._head.next;n;)n.match(r,e)?n=n.destroy():n=n.next;return this._head.next||this._cancelIfNeeded(),this},Object.defineProperty(t.prototype,"count",{get:function(){if(!this._head)return 0;for(var r=0,e=this._head;e=e.next;)r++;return r},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.started||(this.started=!0,this._requestIfNeeded())},t.prototype.stop=function(){this.started&&(this.started=!1,this._cancelIfNeeded())},t.prototype.destroy=function(){if(!this._protected){this.stop();for(var r=this._head.next;r;)r=r.destroy(!0);this._head.destroy(),this._head=null}},t.prototype.update=function(r){r===void 0&&(r=performance.now());var e;if(r>this.lastTime){if(e=this.elapsedMS=r-this.lastTime,e>this._maxElapsedMS&&(e=this._maxElapsedMS),e*=this.speed,this._minElapsedMS){var n=r-this._lastFrame|0;if(n<this._minElapsedMS)return;this._lastFrame=r-n%this._minElapsedMS}this.deltaMS=e,this.deltaTime=this.deltaMS*at.TARGET_FPMS;for(var i=this._head,a=i.next;a;)a=a.emit(this.deltaTime);i.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=r},Object.defineProperty(t.prototype,"FPS",{get:function(){return 1e3/this.elapsedMS},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"minFPS",{get:function(){return 1e3/this._maxElapsedMS},set:function(r){var e=Math.min(this.maxFPS,r),n=Math.min(Math.max(0,e)/1e3,at.TARGET_FPMS);this._maxElapsedMS=1/n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxFPS",{get:function(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0},set:function(r){if(r===0)this._minElapsedMS=0;else{var e=Math.max(this.minFPS,r);this._minElapsedMS=1/(e/1e3)}},enumerable:!1,configurable:!0}),Object.defineProperty(t,"shared",{get:function(){if(!t._shared){var r=t._shared=new t;r.autoStart=!0,r._protected=!0}return t._shared},enumerable:!1,configurable:!0}),Object.defineProperty(t,"system",{get:function(){if(!t._system){var r=t._system=new t;r.autoStart=!0,r._protected=!0}return t._system},enumerable:!1,configurable:!0}),t}(),Xm=function(){function t(){}return t.init=function(r){var e=this;r=Object.assign({autoStart:!0,sharedTicker:!1},r),Object.defineProperty(this,"ticker",{set:function(n){this._ticker&&this._ticker.remove(this.render,this),this._ticker=n,n&&n.add(this.render,this,Ze.LOW)},get:function(){return this._ticker}}),this.stop=function(){e._ticker.stop()},this.start=function(){e._ticker.start()},this._ticker=null,this.ticker=r.sharedTicker?ne.shared:new ne,r.autoStart&&this.start()},t.destroy=function(){if(this._ticker){var r=this._ticker;this.ticker=null,r.destroy()}},t}();/*!
 * @pixi/interaction - v6.2.2
 * Compiled Wed, 26 Jan 2022 16:23:27 UTC
 *
 * @pixi/interaction is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var jh=function(){function t(){this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0,this.global=new zt,this.target=null,this.originalEvent=null,this.identifier=null,this.isPrimary=!1,this.button=0,this.buttons=0,this.width=0,this.height=0,this.tiltX=0,this.tiltY=0,this.pointerType=null,this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0}return Object.defineProperty(t.prototype,"pointerId",{get:function(){return this.identifier},enumerable:!1,configurable:!0}),t.prototype.getLocalPosition=function(r,e,n){return r.worldTransform.applyInverse(n||this.global,e)},t.prototype.copyEvent=function(r){"isPrimary"in r&&r.isPrimary&&(this.isPrimary=!0),this.button="button"in r&&r.button;var e="buttons"in r&&r.buttons;this.buttons=Number.isInteger(e)?e:"which"in r&&r.which,this.width="width"in r&&r.width,this.height="height"in r&&r.height,this.tiltX="tiltX"in r&&r.tiltX,this.tiltY="tiltY"in r&&r.tiltY,this.pointerType="pointerType"in r&&r.pointerType,this.pressure="pressure"in r&&r.pressure,this.rotationAngle="rotationAngle"in r&&r.rotationAngle,this.twist="twist"in r&&r.twist||0,this.tangentialPressure="tangentialPressure"in r&&r.tangentialPressure||0},t.prototype.reset=function(){this.isPrimary=!1},t}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var oo=function(t,r){return oo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)n.hasOwnProperty(i)&&(e[i]=n[i])},oo(t,r)};function jm(t,r){oo(t,r);function e(){this.constructor=t}t.prototype=r===null?Object.create(r):(e.prototype=r.prototype,new e)}var Vm=function(){function t(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.target=null,this.currentTarget=null,this.type=null,this.data=null}return t.prototype.stopPropagation=function(){this.stopped=!0,this.stopPropagationHint=!0,this.stopsPropagatingAt=this.currentTarget},t.prototype.reset=function(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.currentTarget=null,this.target=null},t}(),hs=function(){function t(r){this._pointerId=r,this._flags=t.FLAGS.NONE}return t.prototype._doSet=function(r,e){e?this._flags=this._flags|r:this._flags=this._flags&~r},Object.defineProperty(t.prototype,"pointerId",{get:function(){return this._pointerId},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flags",{get:function(){return this._flags},set:function(r){this._flags=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"none",{get:function(){return this._flags===t.FLAGS.NONE},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"over",{get:function(){return(this._flags&t.FLAGS.OVER)!==0},set:function(r){this._doSet(t.FLAGS.OVER,r)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rightDown",{get:function(){return(this._flags&t.FLAGS.RIGHT_DOWN)!==0},set:function(r){this._doSet(t.FLAGS.RIGHT_DOWN,r)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"leftDown",{get:function(){return(this._flags&t.FLAGS.LEFT_DOWN)!==0},set:function(r){this._doSet(t.FLAGS.LEFT_DOWN,r)},enumerable:!1,configurable:!0}),t.FLAGS=Object.freeze({NONE:0,OVER:1<<0,LEFT_DOWN:1<<1,RIGHT_DOWN:1<<2}),t}(),zm=function(){function t(){this._tempPoint=new zt}return t.prototype.recursiveFindHit=function(r,e,n,i,a){if(!e||!e.visible)return!1;var s=r.data.global;a=e.interactive||a;var o=!1,u=a,h=!0;if(e.hitArea?(i&&(e.worldTransform.applyInverse(s,this._tempPoint),e.hitArea.contains(this._tempPoint.x,this._tempPoint.y)?o=!0:(i=!1,h=!1)),u=!1):e._mask&&i&&(e._mask.containsPoint&&e._mask.containsPoint(s)||(i=!1)),h&&e.interactiveChildren&&e.children)for(var f=e.children,l=f.length-1;l>=0;l--){var c=f[l],d=this.recursiveFindHit(r,c,n,i,u);if(d){if(!c.parent)continue;u=!1,d&&(r.target&&(i=!1),o=!0)}}return a&&(i&&!r.target&&!e.hitArea&&e.containsPoint&&e.containsPoint(s)&&(o=!0),e.interactive&&(o&&!r.target&&(r.target=e),n&&n(r,e,!!o))),o},t.prototype.findHit=function(r,e,n,i){this.recursiveFindHit(r,e,n,i,!1)},t}(),Wm={interactive:!1,interactiveChildren:!0,hitArea:null,get buttonMode(){return this.cursor==="pointer"},set buttonMode(t){t?this.cursor="pointer":this.cursor==="pointer"&&(this.cursor=null)},cursor:null,get trackedPointers(){return this._trackedPointers===void 0&&(this._trackedPointers={}),this._trackedPointers},_trackedPointers:void 0};Kt.mixin(Wm);var Di=1,ki={target:null,data:{global:null}},Km=function(t){jm(r,t);function r(e,n){var i=t.call(this)||this;return n=n||{},i.renderer=e,i.autoPreventDefault=n.autoPreventDefault!==void 0?n.autoPreventDefault:!0,i.interactionFrequency=n.interactionFrequency||10,i.mouse=new jh,i.mouse.identifier=Di,i.mouse.global.set(-999999),i.activeInteractionData={},i.activeInteractionData[Di]=i.mouse,i.interactionDataPool=[],i.eventData=new Vm,i.interactionDOMElement=null,i.moveWhenInside=!1,i.eventsAdded=!1,i.tickerAdded=!1,i.mouseOverRenderer=!("PointerEvent"in self),i.supportsTouchEvents="ontouchstart"in self,i.supportsPointerEvents=!!self.PointerEvent,i.onPointerUp=i.onPointerUp.bind(i),i.processPointerUp=i.processPointerUp.bind(i),i.onPointerCancel=i.onPointerCancel.bind(i),i.processPointerCancel=i.processPointerCancel.bind(i),i.onPointerDown=i.onPointerDown.bind(i),i.processPointerDown=i.processPointerDown.bind(i),i.onPointerMove=i.onPointerMove.bind(i),i.processPointerMove=i.processPointerMove.bind(i),i.onPointerOut=i.onPointerOut.bind(i),i.processPointerOverOut=i.processPointerOverOut.bind(i),i.onPointerOver=i.onPointerOver.bind(i),i.cursorStyles={default:"inherit",pointer:"pointer"},i.currentCursorMode=null,i.cursor=null,i.resolution=1,i.delayedEvents=[],i.search=new zm,i._tempDisplayObject=new Yl,i._eventListenerOptions={capture:!0,passive:!1},i._useSystemTicker=n.useSystemTicker!==void 0?n.useSystemTicker:!0,i.setTargetElement(i.renderer.view,i.renderer.resolution),i}return Object.defineProperty(r.prototype,"useSystemTicker",{get:function(){return this._useSystemTicker},set:function(e){this._useSystemTicker=e,e?this.addTickerListener():this.removeTickerListener()},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"lastObjectRendered",{get:function(){return this.renderer._lastObjectRendered||this._tempDisplayObject},enumerable:!1,configurable:!0}),r.prototype.hitTest=function(e,n){return ki.target=null,ki.data.global=e,n||(n=this.lastObjectRendered),this.processInteractive(ki,n,null,!0),ki.target},r.prototype.setTargetElement=function(e,n){n===void 0&&(n=1),this.removeTickerListener(),this.removeEvents(),this.interactionDOMElement=e,this.resolution=n,this.addEvents(),this.addTickerListener()},r.prototype.addTickerListener=function(){this.tickerAdded||!this.interactionDOMElement||!this._useSystemTicker||(ne.system.add(this.tickerUpdate,this,Ze.INTERACTION),this.tickerAdded=!0)},r.prototype.removeTickerListener=function(){!this.tickerAdded||(ne.system.remove(this.tickerUpdate,this),this.tickerAdded=!1)},r.prototype.addEvents=function(){if(!(this.eventsAdded||!this.interactionDOMElement)){var e=this.interactionDOMElement.style;self.navigator.msPointerEnabled?(e.msContentZooming="none",e.msTouchAction="none"):this.supportsPointerEvents&&(e.touchAction="none"),this.supportsPointerEvents?(self.document.addEventListener("pointermove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.addEventListener("pointerdown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.addEventListener("pointerleave",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.addEventListener("pointerover",this.onPointerOver,this._eventListenerOptions),self.addEventListener("pointercancel",this.onPointerCancel,this._eventListenerOptions),self.addEventListener("pointerup",this.onPointerUp,this._eventListenerOptions)):(self.document.addEventListener("mousemove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.addEventListener("mousedown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.addEventListener("mouseout",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.addEventListener("mouseover",this.onPointerOver,this._eventListenerOptions),self.addEventListener("mouseup",this.onPointerUp,this._eventListenerOptions)),this.supportsTouchEvents&&(this.interactionDOMElement.addEventListener("touchstart",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.addEventListener("touchcancel",this.onPointerCancel,this._eventListenerOptions),this.interactionDOMElement.addEventListener("touchend",this.onPointerUp,this._eventListenerOptions),this.interactionDOMElement.addEventListener("touchmove",this.onPointerMove,this._eventListenerOptions)),this.eventsAdded=!0}},r.prototype.removeEvents=function(){if(!(!this.eventsAdded||!this.interactionDOMElement)){var e=this.interactionDOMElement.style;self.navigator.msPointerEnabled?(e.msContentZooming="",e.msTouchAction=""):this.supportsPointerEvents&&(e.touchAction=""),this.supportsPointerEvents?(self.document.removeEventListener("pointermove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("pointerdown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("pointerleave",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("pointerover",this.onPointerOver,this._eventListenerOptions),self.removeEventListener("pointercancel",this.onPointerCancel,this._eventListenerOptions),self.removeEventListener("pointerup",this.onPointerUp,this._eventListenerOptions)):(self.document.removeEventListener("mousemove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("mousedown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("mouseout",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("mouseover",this.onPointerOver,this._eventListenerOptions),self.removeEventListener("mouseup",this.onPointerUp,this._eventListenerOptions)),this.supportsTouchEvents&&(this.interactionDOMElement.removeEventListener("touchstart",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("touchcancel",this.onPointerCancel,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("touchend",this.onPointerUp,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("touchmove",this.onPointerMove,this._eventListenerOptions)),this.interactionDOMElement=null,this.eventsAdded=!1}},r.prototype.tickerUpdate=function(e){this._deltaTime+=e,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.update())},r.prototype.update=function(){if(!!this.interactionDOMElement){if(this._didMove){this._didMove=!1;return}this.cursor=null;for(var e in this.activeInteractionData)if(this.activeInteractionData.hasOwnProperty(e)){var n=this.activeInteractionData[e];if(n.originalEvent&&n.pointerType!=="touch"){var i=this.configureInteractionEventForDOMEvent(this.eventData,n.originalEvent,n);this.processInteractive(i,this.lastObjectRendered,this.processPointerOverOut,!0)}}this.setCursorMode(this.cursor)}},r.prototype.setCursorMode=function(e){e=e||"default";var n=!0;if(self.OffscreenCanvas&&this.interactionDOMElement instanceof OffscreenCanvas&&(n=!1),this.currentCursorMode!==e){this.currentCursorMode=e;var i=this.cursorStyles[e];if(i)switch(typeof i){case"string":n&&(this.interactionDOMElement.style.cursor=i);break;case"function":i(e);break;case"object":n&&Object.assign(this.interactionDOMElement.style,i);break}else n&&typeof e=="string"&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,e)&&(this.interactionDOMElement.style.cursor=e)}},r.prototype.dispatchEvent=function(e,n,i){(!i.stopPropagationHint||e===i.stopsPropagatingAt)&&(i.currentTarget=e,i.type=n,e.emit(n,i),e[n]&&e[n](i))},r.prototype.delayDispatchEvent=function(e,n,i){this.delayedEvents.push({displayObject:e,eventString:n,eventData:i})},r.prototype.mapPositionToPoint=function(e,n,i){var a;this.interactionDOMElement.parentElement?a=this.interactionDOMElement.getBoundingClientRect():a={x:0,y:0,width:this.interactionDOMElement.width,height:this.interactionDOMElement.height,left:0,top:0};var s=1/this.resolution;e.x=(n-a.left)*(this.interactionDOMElement.width/a.width)*s,e.y=(i-a.top)*(this.interactionDOMElement.height/a.height)*s},r.prototype.processInteractive=function(e,n,i,a){var s=this.search.findHit(e,n,i,a),o=this.delayedEvents;if(!o.length)return s;e.stopPropagationHint=!1;var u=o.length;this.delayedEvents=[];for(var h=0;h<u;h++){var f=o[h],l=f.displayObject,c=f.eventString,d=f.eventData;d.stopsPropagatingAt===l&&(d.stopPropagationHint=!0),this.dispatchEvent(l,c,d)}return s},r.prototype.onPointerDown=function(e){if(!(this.supportsTouchEvents&&e.pointerType==="touch")){var n=this.normalizeToPointerData(e);if(this.autoPreventDefault&&n[0].isNormalized){var i=e.cancelable||!("cancelable"in e);i&&e.preventDefault()}for(var a=n.length,s=0;s<a;s++){var o=n[s],u=this.getInteractionDataForPointerId(o),h=this.configureInteractionEventForDOMEvent(this.eventData,o,u);if(h.data.originalEvent=e,this.processInteractive(h,this.lastObjectRendered,this.processPointerDown,!0),this.emit("pointerdown",h),o.pointerType==="touch")this.emit("touchstart",h);else if(o.pointerType==="mouse"||o.pointerType==="pen"){var f=o.button===2;this.emit(f?"rightdown":"mousedown",this.eventData)}}}},r.prototype.processPointerDown=function(e,n,i){var a=e.data,s=e.data.identifier;if(i){if(n.trackedPointers[s]||(n.trackedPointers[s]=new hs(s)),this.dispatchEvent(n,"pointerdown",e),a.pointerType==="touch")this.dispatchEvent(n,"touchstart",e);else if(a.pointerType==="mouse"||a.pointerType==="pen"){var o=a.button===2;o?n.trackedPointers[s].rightDown=!0:n.trackedPointers[s].leftDown=!0,this.dispatchEvent(n,o?"rightdown":"mousedown",e)}}},r.prototype.onPointerComplete=function(e,n,i){for(var a=this.normalizeToPointerData(e),s=a.length,o=e.target!==this.interactionDOMElement?"outside":"",u=0;u<s;u++){var h=a[u],f=this.getInteractionDataForPointerId(h),l=this.configureInteractionEventForDOMEvent(this.eventData,h,f);if(l.data.originalEvent=e,this.processInteractive(l,this.lastObjectRendered,i,n||!o),this.emit(n?"pointercancel":"pointerup"+o,l),h.pointerType==="mouse"||h.pointerType==="pen"){var c=h.button===2;this.emit(c?"rightup"+o:"mouseup"+o,l)}else h.pointerType==="touch"&&(this.emit(n?"touchcancel":"touchend"+o,l),this.releaseInteractionDataForPointerId(h.pointerId))}},r.prototype.onPointerCancel=function(e){this.supportsTouchEvents&&e.pointerType==="touch"||this.onPointerComplete(e,!0,this.processPointerCancel)},r.prototype.processPointerCancel=function(e,n){var i=e.data,a=e.data.identifier;n.trackedPointers[a]!==void 0&&(delete n.trackedPointers[a],this.dispatchEvent(n,"pointercancel",e),i.pointerType==="touch"&&this.dispatchEvent(n,"touchcancel",e))},r.prototype.onPointerUp=function(e){this.supportsTouchEvents&&e.pointerType==="touch"||this.onPointerComplete(e,!1,this.processPointerUp)},r.prototype.processPointerUp=function(e,n,i){var a=e.data,s=e.data.identifier,o=n.trackedPointers[s],u=a.pointerType==="touch",h=a.pointerType==="mouse"||a.pointerType==="pen",f=!1;if(h){var l=a.button===2,c=hs.FLAGS,d=l?c.RIGHT_DOWN:c.LEFT_DOWN,p=o!==void 0&&o.flags&d;i?(this.dispatchEvent(n,l?"rightup":"mouseup",e),p&&(this.dispatchEvent(n,l?"rightclick":"click",e),f=!0)):p&&this.dispatchEvent(n,l?"rightupoutside":"mouseupoutside",e),o&&(l?o.rightDown=!1:o.leftDown=!1)}i?(this.dispatchEvent(n,"pointerup",e),u&&this.dispatchEvent(n,"touchend",e),o&&((!h||f)&&this.dispatchEvent(n,"pointertap",e),u&&(this.dispatchEvent(n,"tap",e),o.over=!1))):o&&(this.dispatchEvent(n,"pointerupoutside",e),u&&this.dispatchEvent(n,"touchendoutside",e)),o&&o.none&&delete n.trackedPointers[s]},r.prototype.onPointerMove=function(e){if(!(this.supportsTouchEvents&&e.pointerType==="touch")){var n=this.normalizeToPointerData(e);(n[0].pointerType==="mouse"||n[0].pointerType==="pen")&&(this._didMove=!0,this.cursor=null);for(var i=n.length,a=0;a<i;a++){var s=n[a],o=this.getInteractionDataForPointerId(s),u=this.configureInteractionEventForDOMEvent(this.eventData,s,o);u.data.originalEvent=e,this.processInteractive(u,this.lastObjectRendered,this.processPointerMove,!0),this.emit("pointermove",u),s.pointerType==="touch"&&this.emit("touchmove",u),(s.pointerType==="mouse"||s.pointerType==="pen")&&this.emit("mousemove",u)}n[0].pointerType==="mouse"&&this.setCursorMode(this.cursor)}},r.prototype.processPointerMove=function(e,n,i){var a=e.data,s=a.pointerType==="touch",o=a.pointerType==="mouse"||a.pointerType==="pen";o&&this.processPointerOverOut(e,n,i),(!this.moveWhenInside||i)&&(this.dispatchEvent(n,"pointermove",e),s&&this.dispatchEvent(n,"touchmove",e),o&&this.dispatchEvent(n,"mousemove",e))},r.prototype.onPointerOut=function(e){if(!(this.supportsTouchEvents&&e.pointerType==="touch")){var n=this.normalizeToPointerData(e),i=n[0];i.pointerType==="mouse"&&(this.mouseOverRenderer=!1,this.setCursorMode(null));var a=this.getInteractionDataForPointerId(i),s=this.configureInteractionEventForDOMEvent(this.eventData,i,a);s.data.originalEvent=i,this.processInteractive(s,this.lastObjectRendered,this.processPointerOverOut,!1),this.emit("pointerout",s),i.pointerType==="mouse"||i.pointerType==="pen"?this.emit("mouseout",s):this.releaseInteractionDataForPointerId(a.identifier)}},r.prototype.processPointerOverOut=function(e,n,i){var a=e.data,s=e.data.identifier,o=a.pointerType==="mouse"||a.pointerType==="pen",u=n.trackedPointers[s];i&&!u&&(u=n.trackedPointers[s]=new hs(s)),u!==void 0&&(i&&this.mouseOverRenderer?(u.over||(u.over=!0,this.delayDispatchEvent(n,"pointerover",e),o&&this.delayDispatchEvent(n,"mouseover",e)),o&&this.cursor===null&&(this.cursor=n.cursor)):u.over&&(u.over=!1,this.dispatchEvent(n,"pointerout",this.eventData),o&&this.dispatchEvent(n,"mouseout",e),u.none&&delete n.trackedPointers[s]))},r.prototype.onPointerOver=function(e){var n=this.normalizeToPointerData(e),i=n[0],a=this.getInteractionDataForPointerId(i),s=this.configureInteractionEventForDOMEvent(this.eventData,i,a);s.data.originalEvent=i,i.pointerType==="mouse"&&(this.mouseOverRenderer=!0),this.emit("pointerover",s),(i.pointerType==="mouse"||i.pointerType==="pen")&&this.emit("mouseover",s)},r.prototype.getInteractionDataForPointerId=function(e){var n=e.pointerId,i;return n===Di||e.pointerType==="mouse"?i=this.mouse:this.activeInteractionData[n]?i=this.activeInteractionData[n]:(i=this.interactionDataPool.pop()||new jh,i.identifier=n,this.activeInteractionData[n]=i),i.copyEvent(e),i},r.prototype.releaseInteractionDataForPointerId=function(e){var n=this.activeInteractionData[e];n&&(delete this.activeInteractionData[e],n.reset(),this.interactionDataPool.push(n))},r.prototype.configureInteractionEventForDOMEvent=function(e,n,i){return e.data=i,this.mapPositionToPoint(i.global,n.clientX,n.clientY),n.pointerType==="touch"&&(n.globalX=i.global.x,n.globalY=i.global.y),i.originalEvent=n,e.reset(),e},r.prototype.normalizeToPointerData=function(e){var n=[];if(this.supportsTouchEvents&&e instanceof TouchEvent)for(var i=0,a=e.changedTouches.length;i<a;i++){var s=e.changedTouches[i];typeof s.button=="undefined"&&(s.button=e.touches.length?1:0),typeof s.buttons=="undefined"&&(s.buttons=e.touches.length?1:0),typeof s.isPrimary=="undefined"&&(s.isPrimary=e.touches.length===1&&e.type==="touchstart"),typeof s.width=="undefined"&&(s.width=s.radiusX||1),typeof s.height=="undefined"&&(s.height=s.radiusY||1),typeof s.tiltX=="undefined"&&(s.tiltX=0),typeof s.tiltY=="undefined"&&(s.tiltY=0),typeof s.pointerType=="undefined"&&(s.pointerType="touch"),typeof s.pointerId=="undefined"&&(s.pointerId=s.identifier||0),typeof s.pressure=="undefined"&&(s.pressure=s.force||.5),typeof s.twist=="undefined"&&(s.twist=0),typeof s.tangentialPressure=="undefined"&&(s.tangentialPressure=0),typeof s.layerX=="undefined"&&(s.layerX=s.offsetX=s.clientX),typeof s.layerY=="undefined"&&(s.layerY=s.offsetY=s.clientY),s.isNormalized=!0,n.push(s)}else if(!self.MouseEvent||e instanceof MouseEvent&&(!this.supportsPointerEvents||!(e instanceof self.PointerEvent))){var o=e;typeof o.isPrimary=="undefined"&&(o.isPrimary=!0),typeof o.width=="undefined"&&(o.width=1),typeof o.height=="undefined"&&(o.height=1),typeof o.tiltX=="undefined"&&(o.tiltX=0),typeof o.tiltY=="undefined"&&(o.tiltY=0),typeof o.pointerType=="undefined"&&(o.pointerType="mouse"),typeof o.pointerId=="undefined"&&(o.pointerId=Di),typeof o.pressure=="undefined"&&(o.pressure=.5),typeof o.twist=="undefined"&&(o.twist=0),typeof o.tangentialPressure=="undefined"&&(o.tangentialPressure=0),o.isNormalized=!0,n.push(o)}else n.push(e);return n},r.prototype.destroy=function(){this.removeEvents(),this.removeTickerListener(),this.removeAllListeners(),this.renderer=null,this.mouse=null,this.eventData=null,this.interactionDOMElement=null,this.onPointerDown=null,this.processPointerDown=null,this.onPointerUp=null,this.processPointerUp=null,this.onPointerCancel=null,this.processPointerCancel=null,this.onPointerMove=null,this.processPointerMove=null,this.onPointerOut=null,this.processPointerOverOut=null,this.onPointerOver=null,this.search=null},r}(bi);/*!
 * @pixi/runner - v6.2.2
 * Compiled Wed, 26 Jan 2022 16:23:27 UTC
 *
 * @pixi/runner is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var ae=function(){function t(r){this.items=[],this._name=r,this._aliasCount=0}return t.prototype.emit=function(r,e,n,i,a,s,o,u){if(arguments.length>8)throw new Error("max arguments reached");var h=this,f=h.name,l=h.items;this._aliasCount++;for(var c=0,d=l.length;c<d;c++)l[c][f](r,e,n,i,a,s,o,u);return l===this.items&&this._aliasCount--,this},t.prototype.ensureNonAliasedItems=function(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))},t.prototype.add=function(r){return r[this._name]&&(this.ensureNonAliasedItems(),this.remove(r),this.items.push(r)),this},t.prototype.remove=function(r){var e=this.items.indexOf(r);return e!==-1&&(this.ensureNonAliasedItems(),this.items.splice(e,1)),this},t.prototype.contains=function(r){return this.items.indexOf(r)!==-1},t.prototype.removeAll=function(){return this.ensureNonAliasedItems(),this.items.length=0,this},t.prototype.destroy=function(){this.removeAll(),this.items=null,this._name=null},Object.defineProperty(t.prototype,"empty",{get:function(){return this.items.length===0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this._name},enumerable:!1,configurable:!0}),t}();Object.defineProperties(ae.prototype,{dispatch:{value:ae.prototype.emit},run:{value:ae.prototype.emit}});/*!
 * @pixi/core - v6.2.2
 * Compiled Wed, 26 Jan 2022 16:23:27 UTC
 *
 * @pixi/core is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */at.PREFER_ENV=Pe.any?qe.WEBGL:qe.WEBGL2;at.STRICT_TEXTURE_CACHE=!1;var Ta=[];function cu(t,r){if(!t)return null;var e="";if(typeof t=="string"){var n=/\.(\w{3,4})(?:$|\?|#)/i.exec(t);n&&(e=n[1].toLowerCase())}for(var i=Ta.length-1;i>=0;--i){var a=Ta[i];if(a.test&&a.test(t,e))return new a(t,r)}throw new Error("Unrecognized source type to auto-detect Resource")}/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var uo=function(t,r){return uo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)n.hasOwnProperty(i)&&(e[i]=n[i])},uo(t,r)};function Lt(t,r){uo(t,r);function e(){this.constructor=t}t.prototype=r===null?Object.create(r):(e.prototype=r.prototype,new e)}var ho=function(){return ho=Object.assign||function(r){for(var e=arguments,n,i=1,a=arguments.length;i<a;i++){n=e[i];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])}return r},ho.apply(this,arguments)};function Ym(t,r){var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&r.indexOf(n)<0&&(e[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)r.indexOf(n[i])<0&&(e[n[i]]=t[n[i]]);return e}var on=function(){function t(r,e){r===void 0&&(r=0),e===void 0&&(e=0),this._width=r,this._height=e,this.destroyed=!1,this.internal=!1,this.onResize=new ae("setRealSize"),this.onUpdate=new ae("update"),this.onError=new ae("onError")}return t.prototype.bind=function(r){this.onResize.add(r),this.onUpdate.add(r),this.onError.add(r),(this._width||this._height)&&this.onResize.emit(this._width,this._height)},t.prototype.unbind=function(r){this.onResize.remove(r),this.onUpdate.remove(r),this.onError.remove(r)},t.prototype.resize=function(r,e){(r!==this._width||e!==this._height)&&(this._width=r,this._height=e,this.onResize.emit(r,e))},Object.defineProperty(t.prototype,"valid",{get:function(){return!!this._width&&!!this._height},enumerable:!1,configurable:!0}),t.prototype.update=function(){this.destroyed||this.onUpdate.emit()},t.prototype.load=function(){return Promise.resolve(this)},Object.defineProperty(t.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},enumerable:!1,configurable:!0}),t.prototype.style=function(r,e,n){return!1},t.prototype.dispose=function(){},t.prototype.destroy=function(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)},t.test=function(r,e){return!1},t}(),Ti=function(t){Lt(r,t);function r(e,n){var i=this,a=n||{},s=a.width,o=a.height;if(!s||!o)throw new Error("BufferResource width or height invalid");return i=t.call(this,s,o)||this,i.data=e,i}return r.prototype.upload=function(e,n,i){var a=e.gl;a.pixelStorei(a.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n.alphaMode===Oe.UNPACK);var s=n.realWidth,o=n.realHeight;return i.width===s&&i.height===o?a.texSubImage2D(n.target,0,0,0,s,o,n.format,i.type,this.data):(i.width=s,i.height=o,a.texImage2D(n.target,0,i.internalFormat,s,o,0,n.format,i.type,this.data)),!0},r.prototype.dispose=function(){this.data=null},r.test=function(e){return e instanceof Float32Array||e instanceof Uint8Array||e instanceof Uint32Array},r}(on),qm={scaleMode:Ve.NEAREST,format:$.RGBA,alphaMode:Oe.NPM},St=function(t){Lt(r,t);function r(e,n){e===void 0&&(e=null),n===void 0&&(n=null);var i=t.call(this)||this;n=n||{};var a=n.alphaMode,s=n.mipmap,o=n.anisotropicLevel,u=n.scaleMode,h=n.width,f=n.height,l=n.wrapMode,c=n.format,d=n.type,p=n.target,v=n.resolution,_=n.resourceOptions;return e&&!(e instanceof on)&&(e=cu(e,_),e.internal=!0),i.resolution=v||at.RESOLUTION,i.width=Math.round((h||0)*i.resolution)/i.resolution,i.height=Math.round((f||0)*i.resolution)/i.resolution,i._mipmap=s!==void 0?s:at.MIPMAP_TEXTURES,i.anisotropicLevel=o!==void 0?o:at.ANISOTROPIC_LEVEL,i._wrapMode=l||at.WRAP_MODE,i._scaleMode=u!==void 0?u:at.SCALE_MODE,i.format=c||$.RGBA,i.type=d||dt.UNSIGNED_BYTE,i.target=p||Nr.TEXTURE_2D,i.alphaMode=a!==void 0?a:Oe.UNPACK,i.uid=Br(),i.touched=0,i.isPowerOfTwo=!1,i._refreshPOT(),i._glTextures={},i.dirtyId=0,i.dirtyStyleId=0,i.cacheId=null,i.valid=h>0&&f>0,i.textureCacheIds=[],i.destroyed=!1,i.resource=null,i._batchEnabled=0,i._batchLocation=0,i.parentTextureArray=null,i.setResource(e),i}return Object.defineProperty(r.prototype,"realWidth",{get:function(){return Math.round(this.width*this.resolution)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"realHeight",{get:function(){return Math.round(this.height*this.resolution)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"mipmap",{get:function(){return this._mipmap},set:function(e){this._mipmap!==e&&(this._mipmap=e,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"scaleMode",{get:function(){return this._scaleMode},set:function(e){this._scaleMode!==e&&(this._scaleMode=e,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"wrapMode",{get:function(){return this._wrapMode},set:function(e){this._wrapMode!==e&&(this._wrapMode=e,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),r.prototype.setStyle=function(e,n){var i;return e!==void 0&&e!==this.scaleMode&&(this.scaleMode=e,i=!0),n!==void 0&&n!==this.mipmap&&(this.mipmap=n,i=!0),i&&this.dirtyStyleId++,this},r.prototype.setSize=function(e,n,i){return i=i||this.resolution,this.setRealSize(e*i,n*i,i)},r.prototype.setRealSize=function(e,n,i){return this.resolution=i||this.resolution,this.width=Math.round(e)/this.resolution,this.height=Math.round(n)/this.resolution,this._refreshPOT(),this.update(),this},r.prototype._refreshPOT=function(){this.isPowerOfTwo=gh(this.realWidth)&&gh(this.realHeight)},r.prototype.setResolution=function(e){var n=this.resolution;return n===e?this:(this.resolution=e,this.valid&&(this.width=Math.round(this.width*n)/e,this.height=Math.round(this.height*n)/e,this.emit("update",this)),this._refreshPOT(),this)},r.prototype.setResource=function(e){if(this.resource===e)return this;if(this.resource)throw new Error("Resource can be set only once");return e.bind(this),this.resource=e,this},r.prototype.update=function(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))},r.prototype.onError=function(e){this.emit("error",this,e)},r.prototype.destroy=function(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete gr[this.cacheId],delete ke[this.cacheId],this.cacheId=null),this.dispose(),r.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0},r.prototype.dispose=function(){this.emit("dispose",this)},r.prototype.castToBaseTexture=function(){return this},r.from=function(e,n,i){i===void 0&&(i=at.STRICT_TEXTURE_CACHE);var a=typeof e=="string",s=null;if(a)s=e;else{if(!e._pixiId){var o=n&&n.pixiIdPrefix||"pixiid";e._pixiId=o+"_"+Br()}s=e._pixiId}var u=gr[s];if(a&&i&&!u)throw new Error('The cacheId "'+s+'" does not exist in BaseTextureCache.');return u||(u=new r(e,n),u.cacheId=s,r.addToCache(u,s)),u},r.fromBuffer=function(e,n,i,a){e=e||new Float32Array(n*i*4);var s=new Ti(e,{width:n,height:i}),o=e instanceof Float32Array?dt.FLOAT:dt.UNSIGNED_BYTE;return new r(s,Object.assign(qm,a||{width:n,height:i,type:o}))},r.addToCache=function(e,n){n&&(e.textureCacheIds.indexOf(n)===-1&&e.textureCacheIds.push(n),gr[n]&&console.warn("BaseTexture added to the cache with an id ["+n+"] that already had an entry"),gr[n]=e)},r.removeFromCache=function(e){if(typeof e=="string"){var n=gr[e];if(n){var i=n.textureCacheIds.indexOf(e);return i>-1&&n.textureCacheIds.splice(i,1),delete gr[e],n}}else if(e&&e.textureCacheIds){for(var a=0;a<e.textureCacheIds.length;++a)delete gr[e.textureCacheIds[a]];return e.textureCacheIds.length=0,e}return null},r._globalBatch=0,r}(bi),du=function(t){Lt(r,t);function r(e,n){var i=this,a=n||{},s=a.width,o=a.height;i=t.call(this,s,o)||this,i.items=[],i.itemDirtyIds=[];for(var u=0;u<e;u++){var h=new St;i.items.push(h),i.itemDirtyIds.push(-2)}return i.length=e,i._load=null,i.baseTexture=null,i}return r.prototype.initFromArray=function(e,n){for(var i=0;i<this.length;i++)!e[i]||(e[i].castToBaseTexture?this.addBaseTextureAt(e[i].castToBaseTexture(),i):e[i]instanceof on?this.addResourceAt(e[i],i):this.addResourceAt(cu(e[i],n),i))},r.prototype.dispose=function(){for(var e=0,n=this.length;e<n;e++)this.items[e].destroy();this.items=null,this.itemDirtyIds=null,this._load=null},r.prototype.addResourceAt=function(e,n){if(!this.items[n])throw new Error("Index "+n+" is out of bounds");return e.valid&&!this.valid&&this.resize(e.width,e.height),this.items[n].setResource(e),this},r.prototype.bind=function(e){if(this.baseTexture!==null)throw new Error("Only one base texture per TextureArray is allowed");t.prototype.bind.call(this,e);for(var n=0;n<this.length;n++)this.items[n].parentTextureArray=e,this.items[n].on("update",e.update,e)},r.prototype.unbind=function(e){t.prototype.unbind.call(this,e);for(var n=0;n<this.length;n++)this.items[n].parentTextureArray=null,this.items[n].off("update",e.update,e)},r.prototype.load=function(){var e=this;if(this._load)return this._load;var n=this.items.map(function(a){return a.resource}).filter(function(a){return a}),i=n.map(function(a){return a.load()});return this._load=Promise.all(i).then(function(){var a=e.items[0],s=a.realWidth,o=a.realHeight;return e.resize(s,o),Promise.resolve(e)}),this._load},r}(on),ql=function(t){Lt(r,t);function r(e,n){var i=this,a=n||{},s=a.width,o=a.height,u,h;return Array.isArray(e)?(u=e,h=e.length):h=e,i=t.call(this,h,{width:s,height:o})||this,u&&i.initFromArray(u,n),i}return r.prototype.addBaseTextureAt=function(e,n){if(e.resource)this.addResourceAt(e.resource,n);else throw new Error("ArrayResource does not support RenderTexture");return this},r.prototype.bind=function(e){t.prototype.bind.call(this,e),e.target=Nr.TEXTURE_2D_ARRAY},r.prototype.upload=function(e,n,i){var a=this,s=a.length,o=a.itemDirtyIds,u=a.items,h=e.gl;i.dirtyId<0&&h.texImage3D(h.TEXTURE_2D_ARRAY,0,i.internalFormat,this._width,this._height,s,0,n.format,i.type,null);for(var f=0;f<s;f++){var l=u[f];o[f]<l.dirtyId&&(o[f]=l.dirtyId,l.valid&&h.texSubImage3D(h.TEXTURE_2D_ARRAY,0,0,0,f,l.resource.width,l.resource.height,1,n.format,i.type,l.resource.source))}return!0},r}(du),Je=function(t){Lt(r,t);function r(e){var n=this,i=e,a=i.naturalWidth||i.videoWidth||i.width,s=i.naturalHeight||i.videoHeight||i.height;return n=t.call(this,a,s)||this,n.source=e,n.noSubImage=!1,n}return r.crossOrigin=function(e,n,i){i===void 0&&n.indexOf("data:")!==0?e.crossOrigin=Cm(n):i!==!1&&(e.crossOrigin=typeof i=="string"?i:"anonymous")},r.prototype.upload=function(e,n,i,a){var s=e.gl,o=n.realWidth,u=n.realHeight;return a=a||this.source,s.pixelStorei(s.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n.alphaMode===Oe.UNPACK),!this.noSubImage&&n.target===s.TEXTURE_2D&&i.width===o&&i.height===u?s.texSubImage2D(s.TEXTURE_2D,0,0,0,n.format,i.type,a):(i.width=o,i.height=u,s.texImage2D(n.target,0,i.internalFormat,n.format,i.type,a)),!0},r.prototype.update=function(){if(!this.destroyed){var e=this.source,n=e.naturalWidth||e.videoWidth||e.width,i=e.naturalHeight||e.videoHeight||e.height;this.resize(n,i),t.prototype.update.call(this)}},r.prototype.dispose=function(){this.source=null},r}(on),pu=function(t){Lt(r,t);function r(e){return t.call(this,e)||this}return r.test=function(e){var n=self.OffscreenCanvas;return n&&e instanceof n?!0:self.HTMLCanvasElement&&e instanceof HTMLCanvasElement},r}(Je),Zl=function(t){Lt(r,t);function r(e,n){var i=this,a=n||{},s=a.width,o=a.height,u=a.autoLoad,h=a.linkBaseTexture;if(e&&e.length!==r.SIDES)throw new Error("Invalid length. Got "+e.length+", expected 6");i=t.call(this,6,{width:s,height:o})||this;for(var f=0;f<r.SIDES;f++)i.items[f].target=Nr.TEXTURE_CUBE_MAP_POSITIVE_X+f;return i.linkBaseTexture=h!==!1,e&&i.initFromArray(e,n),u!==!1&&i.load(),i}return r.prototype.bind=function(e){t.prototype.bind.call(this,e),e.target=Nr.TEXTURE_CUBE_MAP},r.prototype.addBaseTextureAt=function(e,n,i){if(!this.items[n])throw new Error("Index "+n+" is out of bounds");if(!this.linkBaseTexture||e.parentTextureArray||Object.keys(e._glTextures).length>0)if(e.resource)this.addResourceAt(e.resource,n);else throw new Error("CubeResource does not support copying of renderTexture.");else e.target=Nr.TEXTURE_CUBE_MAP_POSITIVE_X+n,e.parentTextureArray=this.baseTexture,this.items[n]=e;return e.valid&&!this.valid&&this.resize(e.realWidth,e.realHeight),this.items[n]=e,this},r.prototype.upload=function(e,n,i){for(var a=this.itemDirtyIds,s=0;s<r.SIDES;s++){var o=this.items[s];a[s]<o.dirtyId&&(o.valid&&o.resource?(o.resource.upload(e,o,i),a[s]=o.dirtyId):a[s]<-1&&(e.gl.texImage2D(o.target,0,i.internalFormat,n.realWidth,n.realHeight,0,n.format,i.type,null),a[s]=-1))}return!0},r.test=function(e){return Array.isArray(e)&&e.length===r.SIDES},r.SIDES=6,r}(du),vu=function(t){Lt(r,t);function r(e,n){var i=this;if(n=n||{},!(e instanceof HTMLImageElement)){var a=new Image;Je.crossOrigin(a,e,n.crossorigin),a.src=e,e=a}return i=t.call(this,e)||this,!e.complete&&!!i._width&&!!i._height&&(i._width=0,i._height=0),i.url=e.src,i._process=null,i.preserveBitmap=!1,i.createBitmap=(n.createBitmap!==void 0?n.createBitmap:at.CREATE_IMAGE_BITMAP)&&!!self.createImageBitmap,i.alphaMode=typeof n.alphaMode=="number"?n.alphaMode:null,i.bitmap=null,i._load=null,n.autoLoad!==!1&&i.load(),i}return r.prototype.load=function(e){var n=this;return this._load?this._load:(e!==void 0&&(this.createBitmap=e),this._load=new Promise(function(i,a){var s=n.source;n.url=s.src;var o=function(){n.destroyed||(s.onload=null,s.onerror=null,n.resize(s.width,s.height),n._load=null,n.createBitmap?i(n.process()):i(n))};s.complete&&s.src?o():(s.onload=o,s.onerror=function(u){a(u),n.onError.emit(u)})}),this._load)},r.prototype.process=function(){var e=this,n=this.source;if(this._process!==null)return this._process;if(this.bitmap!==null||!self.createImageBitmap)return Promise.resolve(this);var i=self.createImageBitmap,a=!n.crossOrigin||n.crossOrigin==="anonymous";return this._process=fetch(n.src,{mode:a?"cors":"no-cors"}).then(function(s){return s.blob()}).then(function(s){return i(s,0,0,n.width,n.height,{premultiplyAlpha:e.alphaMode===Oe.UNPACK?"premultiply":"none"})}).then(function(s){return e.destroyed?Promise.reject():(e.bitmap=s,e.update(),e._process=null,Promise.resolve(e))}),this._process},r.prototype.upload=function(e,n,i){if(typeof this.alphaMode=="number"&&(n.alphaMode=this.alphaMode),!this.createBitmap)return t.prototype.upload.call(this,e,n,i);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(t.prototype.upload.call(this,e,n,i,this.bitmap),!this.preserveBitmap){var a=!0,s=n._glTextures;for(var o in s){var u=s[o];if(u!==i&&u.dirtyId!==n.dirtyId){a=!1;break}}a&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0},r.prototype.dispose=function(){this.source.onload=null,this.source.onerror=null,t.prototype.dispose.call(this),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null},r.test=function(e){return typeof e=="string"||e instanceof HTMLImageElement},r}(Je),Jl=function(t){Lt(r,t);function r(e,n){var i=this;return n=n||{},i=t.call(this,document.createElement("canvas"))||this,i._width=0,i._height=0,i.svg=e,i.scale=n.scale||1,i._overrideWidth=n.width,i._overrideHeight=n.height,i._resolve=null,i._crossorigin=n.crossorigin,i._load=null,n.autoLoad!==!1&&i.load(),i}return r.prototype.load=function(){var e=this;return this._load?this._load:(this._load=new Promise(function(n){if(e._resolve=function(){e.resize(e.source.width,e.source.height),n(e)},r.SVG_XML.test(e.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");e.svg="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(e.svg)))}e._loadSvg()}),this._load)},r.prototype._loadSvg=function(){var e=this,n=new Image;Je.crossOrigin(n,this.svg,this._crossorigin),n.src=this.svg,n.onerror=function(i){!e._resolve||(n.onerror=null,e.onError.emit(i))},n.onload=function(){if(!!e._resolve){var i=n.width,a=n.height;if(!i||!a)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");var s=i*e.scale,o=a*e.scale;(e._overrideWidth||e._overrideHeight)&&(s=e._overrideWidth||e._overrideHeight/a*i,o=e._overrideHeight||e._overrideWidth/i*a),s=Math.round(s),o=Math.round(o);var u=e.source;u.width=s,u.height=o,u._pixiId="canvas_"+Br(),u.getContext("2d").drawImage(n,0,0,i,a,0,0,s,o),e._resolve(),e._resolve=null}}},r.getSize=function(e){var n=r.SVG_SIZE.exec(e),i={};return n&&(i[n[1]]=Math.round(parseFloat(n[3])),i[n[5]]=Math.round(parseFloat(n[7]))),i},r.prototype.dispose=function(){t.prototype.dispose.call(this),this._resolve=null,this._crossorigin=null},r.test=function(e,n){return n==="svg"||typeof e=="string"&&/^data:image\/svg\+xml(;(charset=utf8|utf8))?;base64/.test(e)||typeof e=="string"&&r.SVG_XML.test(e)},r.SVG_XML=/^(<\?xml[^?]+\?>)?\s*(<!--[^(-->)]*-->)?\s*\<svg/m,r.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i,r}(Je),Ql=function(t){Lt(r,t);function r(e,n){var i=this;if(n=n||{},!(e instanceof HTMLVideoElement)){var a=document.createElement("video");a.setAttribute("preload","auto"),a.setAttribute("webkit-playsinline",""),a.setAttribute("playsinline",""),typeof e=="string"&&(e=[e]);var s=e[0].src||e[0];Je.crossOrigin(a,s,n.crossorigin);for(var o=0;o<e.length;++o){var u=document.createElement("source"),h=e[o],f=h.src,l=h.mime;f=f||e[o];var c=f.split("?").shift().toLowerCase(),d=c.substr(c.lastIndexOf(".")+1);l=l||r.MIME_TYPES[d]||"video/"+d,u.src=f,u.type=l,a.appendChild(u)}e=a}return i=t.call(this,e)||this,i.noSubImage=!0,i._autoUpdate=!0,i._isConnectedToTicker=!1,i._updateFPS=n.updateFPS||0,i._msToNextUpdate=0,i.autoPlay=n.autoPlay!==!1,i._load=null,i._resolve=null,i._onCanPlay=i._onCanPlay.bind(i),i._onError=i._onError.bind(i),n.autoLoad!==!1&&i.load(),i}return r.prototype.update=function(e){if(!this.destroyed){var n=ne.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-n),(!this._updateFPS||this._msToNextUpdate<=0)&&(t.prototype.update.call(this),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}},r.prototype.load=function(){var e=this;if(this._load)return this._load;var n=this.source;return(n.readyState===n.HAVE_ENOUGH_DATA||n.readyState===n.HAVE_FUTURE_DATA)&&n.width&&n.height&&(n.complete=!0),n.addEventListener("play",this._onPlayStart.bind(this)),n.addEventListener("pause",this._onPlayStop.bind(this)),this._isSourceReady()?this._onCanPlay():(n.addEventListener("canplay",this._onCanPlay),n.addEventListener("canplaythrough",this._onCanPlay),n.addEventListener("error",this._onError,!0)),this._load=new Promise(function(i){e.valid?i(e):(e._resolve=i,n.load())}),this._load},r.prototype._onError=function(e){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(e)},r.prototype._isSourcePlaying=function(){var e=this.source;return e.currentTime>0&&e.paused===!1&&e.ended===!1&&e.readyState>2},r.prototype._isSourceReady=function(){var e=this.source;return e.readyState===3||e.readyState===4},r.prototype._onPlayStart=function(){this.valid||this._onCanPlay(),this.autoUpdate&&!this._isConnectedToTicker&&(ne.shared.add(this.update,this),this._isConnectedToTicker=!0)},r.prototype._onPlayStop=function(){this._isConnectedToTicker&&(ne.shared.remove(this.update,this),this._isConnectedToTicker=!1)},r.prototype._onCanPlay=function(){var e=this.source;e.removeEventListener("canplay",this._onCanPlay),e.removeEventListener("canplaythrough",this._onCanPlay);var n=this.valid;this.resize(e.videoWidth,e.videoHeight),!n&&this._resolve&&(this._resolve(this),this._resolve=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&e.play()},r.prototype.dispose=function(){this._isConnectedToTicker&&(ne.shared.remove(this.update,this),this._isConnectedToTicker=!1);var e=this.source;e&&(e.removeEventListener("error",this._onError,!0),e.pause(),e.src="",e.load()),t.prototype.dispose.call(this)},Object.defineProperty(r.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(e){e!==this._autoUpdate&&(this._autoUpdate=e,!this._autoUpdate&&this._isConnectedToTicker?(ne.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._isSourcePlaying()&&(ne.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"updateFPS",{get:function(){return this._updateFPS},set:function(e){e!==this._updateFPS&&(this._updateFPS=e)},enumerable:!1,configurable:!0}),r.test=function(e,n){return self.HTMLVideoElement&&e instanceof HTMLVideoElement||r.TYPES.indexOf(n)>-1},r.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"],r.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"},r}(Je),$l=function(t){Lt(r,t);function r(e){return t.call(this,e)||this}return r.test=function(e){return!!self.createImageBitmap&&e instanceof ImageBitmap},r}(Je);Ta.push(vu,$l,pu,Ql,Jl,Ti,Zl,ql);var tc={__proto__:null,Resource:on,BaseImageResource:Je,INSTALLED:Ta,autoDetectResource:cu,AbstractMultiResource:du,ArrayResource:ql,BufferResource:Ti,CanvasResource:pu,CubeResource:Zl,ImageResource:vu,SVGResource:Jl,VideoResource:Ql,ImageBitmapResource:$l},Zm=function(t){Lt(r,t);function r(){return t!==null&&t.apply(this,arguments)||this}return r.prototype.upload=function(e,n,i){var a=e.gl;a.pixelStorei(a.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n.alphaMode===Oe.UNPACK);var s=n.realWidth,o=n.realHeight;return i.width===s&&i.height===o?a.texSubImage2D(n.target,0,0,0,s,o,n.format,i.type,this.data):(i.width=s,i.height=o,a.texImage2D(n.target,0,i.internalFormat,s,o,0,n.format,i.type,this.data)),!0},r}(Ti),fo=function(){function t(r,e){this.width=Math.round(r||100),this.height=Math.round(e||100),this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new ae("disposeFramebuffer"),this.multisample=qt.NONE}return Object.defineProperty(t.prototype,"colorTexture",{get:function(){return this.colorTextures[0]},enumerable:!1,configurable:!0}),t.prototype.addColorTexture=function(r,e){return r===void 0&&(r=0),this.colorTextures[r]=e||new St(null,{scaleMode:Ve.NEAREST,resolution:1,mipmap:ur.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this},t.prototype.addDepthTexture=function(r){return this.depthTexture=r||new St(new Zm(null,{width:this.width,height:this.height}),{scaleMode:Ve.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:ur.OFF,format:$.DEPTH_COMPONENT,type:dt.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this},t.prototype.enableDepth=function(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this},t.prototype.enableStencil=function(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this},t.prototype.resize=function(r,e){if(r=Math.round(r),e=Math.round(e),!(r===this.width&&e===this.height)){this.width=r,this.height=e,this.dirtyId++,this.dirtySize++;for(var n=0;n<this.colorTextures.length;n++){var i=this.colorTextures[n],a=i.resolution;i.setSize(r/a,e/a)}if(this.depthTexture){var a=this.depthTexture.resolution;this.depthTexture.setSize(r/a,e/a)}}},t.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},t.prototype.destroyDepthTexture=function(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)},t}(),ec=function(t){Lt(r,t);function r(e){var n=this;if(typeof e=="number"){var i=arguments[0],a=arguments[1],s=arguments[2],o=arguments[3];e={width:i,height:a,scaleMode:s,resolution:o}}return e.width=e.width||100,e.height=e.height||100,e.multisample=e.multisample!==void 0?e.multisample:qt.NONE,n=t.call(this,null,e)||this,n.mipmap=ur.OFF,n.valid=!0,n.clearColor=[0,0,0,0],n.framebuffer=new fo(n.realWidth,n.realHeight).addColorTexture(0,n),n.framebuffer.multisample=e.multisample,n.maskStack=[],n.filterStack=[{}],n}return r.prototype.resize=function(e,n){this.framebuffer.resize(e*this.resolution,n*this.resolution),this.setRealSize(this.framebuffer.width,this.framebuffer.height)},r.prototype.dispose=function(){this.framebuffer.dispose(),t.prototype.dispose.call(this)},r.prototype.destroy=function(){t.prototype.destroy.call(this),this.framebuffer.destroyDepthTexture(),this.framebuffer=null},r}(St),rc=function(){function t(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}return t.prototype.set=function(r,e,n){var i=e.width,a=e.height;if(n){var s=r.width/2/i,o=r.height/2/a,u=r.x/i+s,h=r.y/a+o;n=Dt.add(n,Dt.NW),this.x0=u+s*Dt.uX(n),this.y0=h+o*Dt.uY(n),n=Dt.add(n,2),this.x1=u+s*Dt.uX(n),this.y1=h+o*Dt.uY(n),n=Dt.add(n,2),this.x2=u+s*Dt.uX(n),this.y2=h+o*Dt.uY(n),n=Dt.add(n,2),this.x3=u+s*Dt.uX(n),this.y3=h+o*Dt.uY(n)}else this.x0=r.x/i,this.y0=r.y/a,this.x1=(r.x+r.width)/i,this.y1=r.y/a,this.x2=(r.x+r.width)/i,this.y2=(r.y+r.height)/a,this.x3=r.x/i,this.y3=(r.y+r.height)/a;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3},t.prototype.toString=function(){return"[@pixi/core:TextureUvs "+("x0="+this.x0+" y0="+this.y0+" ")+("x1="+this.x1+" y1="+this.y1+" x2="+this.x2+" ")+("y2="+this.y2+" x3="+this.x3+" y3="+this.y3)+"]"},t}(),Vh=new rc,mt=function(t){Lt(r,t);function r(e,n,i,a,s,o){var u=t.call(this)||this;if(u.noFrame=!1,n||(u.noFrame=!0,n=new Pt(0,0,1,1)),e instanceof r&&(e=e.baseTexture),u.baseTexture=e,u._frame=n,u.trim=a,u.valid=!1,u._uvs=Vh,u.uvMatrix=null,u.orig=i||n,u._rotate=Number(s||0),s===!0)u._rotate=2;else if(u._rotate%2!==0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");return u.defaultAnchor=o?new zt(o.x,o.y):new zt(0,0),u._updateID=0,u.textureCacheIds=[],e.valid?u.noFrame?e.valid&&u.onBaseTextureUpdated(e):u.frame=n:e.once("loaded",u.onBaseTextureUpdated,u),u.noFrame&&e.on("update",u.onBaseTextureUpdated,u),u}return r.prototype.update=function(){this.baseTexture.resource&&this.baseTexture.resource.update()},r.prototype.onBaseTextureUpdated=function(e){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=e.width,this._frame.height=e.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)},r.prototype.destroy=function(e){if(this.baseTexture){if(e){var n=this.baseTexture.resource;n&&n.url&&ke[n.url]&&r.removeFromCache(n.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,r.removeFromCache(this),this.textureCacheIds=null},r.prototype.clone=function(){var e=this._frame.clone(),n=this._frame===this.orig?e:this.orig.clone(),i=new r(this.baseTexture,!this.noFrame&&e,n,this.trim&&this.trim.clone(),this.rotate,this.defaultAnchor);return this.noFrame&&(i._frame=e),i},r.prototype.updateUvs=function(){this._uvs===Vh&&(this._uvs=new rc),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++},r.from=function(e,n,i){n===void 0&&(n={}),i===void 0&&(i=at.STRICT_TEXTURE_CACHE);var a=typeof e=="string",s=null;if(a)s=e;else if(e instanceof St){if(!e.cacheId){var o=n&&n.pixiIdPrefix||"pixiid";e.cacheId=o+"-"+Br(),St.addToCache(e,e.cacheId)}s=e.cacheId}else{if(!e._pixiId){var o=n&&n.pixiIdPrefix||"pixiid";e._pixiId=o+"_"+Br()}s=e._pixiId}var u=ke[s];if(a&&i&&!u)throw new Error('The cacheId "'+s+'" does not exist in TextureCache.');return!u&&!(e instanceof St)?(n.resolution||(n.resolution=ya(e)),u=new r(new St(e,n)),u.baseTexture.cacheId=s,St.addToCache(u.baseTexture,s),r.addToCache(u,s)):!u&&e instanceof St&&(u=new r(e),r.addToCache(u,s)),u},r.fromURL=function(e,n){var i=Object.assign({autoLoad:!1},n==null?void 0:n.resourceOptions),a=r.from(e,Object.assign({resourceOptions:i},n),!1),s=a.baseTexture.resource;return a.baseTexture.valid?Promise.resolve(a):s.load().then(function(){return Promise.resolve(a)})},r.fromBuffer=function(e,n,i,a){return new r(St.fromBuffer(e,n,i,a))},r.fromLoader=function(e,n,i,a){var s=new St(e,Object.assign({scaleMode:at.SCALE_MODE,resolution:ya(n)},a)),o=s.resource;o instanceof vu&&(o.url=n);var u=new r(s);return i||(i=n),St.addToCache(u.baseTexture,i),r.addToCache(u,i),i!==n&&(St.addToCache(u.baseTexture,n),r.addToCache(u,n)),u.baseTexture.valid?Promise.resolve(u):new Promise(function(h){u.baseTexture.once("loaded",function(){return h(u)})})},r.addToCache=function(e,n){n&&(e.textureCacheIds.indexOf(n)===-1&&e.textureCacheIds.push(n),ke[n]&&console.warn("Texture added to the cache with an id ["+n+"] that already had an entry"),ke[n]=e)},r.removeFromCache=function(e){if(typeof e=="string"){var n=ke[e];if(n){var i=n.textureCacheIds.indexOf(e);return i>-1&&n.textureCacheIds.splice(i,1),delete ke[e],n}}else if(e&&e.textureCacheIds){for(var a=0;a<e.textureCacheIds.length;++a)ke[e.textureCacheIds[a]]===e&&delete ke[e.textureCacheIds[a]];return e.textureCacheIds.length=0,e}return null},Object.defineProperty(r.prototype,"resolution",{get:function(){return this.baseTexture.resolution},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"frame",{get:function(){return this._frame},set:function(e){this._frame=e,this.noFrame=!1;var n=e.x,i=e.y,a=e.width,s=e.height,o=n+a>this.baseTexture.width,u=i+s>this.baseTexture.height;if(o||u){var h=o&&u?"and":"or",f="X: "+n+" + "+a+" = "+(n+a)+" > "+this.baseTexture.width,l="Y: "+i+" + "+s+" = "+(i+s)+" > "+this.baseTexture.height;throw new Error("Texture Error: frame does not fit inside the base Texture dimensions: "+(f+" "+h+" "+l))}this.valid=a&&s&&this.baseTexture.valid,!this.trim&&!this.rotate&&(this.orig=e),this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"rotate",{get:function(){return this._rotate},set:function(e){this._rotate=e,this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"width",{get:function(){return this.orig.width},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"height",{get:function(){return this.orig.height},enumerable:!1,configurable:!0}),r.prototype.castToBaseTexture=function(){return this.baseTexture},r}(bi);function Jm(){var t=document.createElement("canvas");t.width=16,t.height=16;var r=t.getContext("2d");return r.fillStyle="white",r.fillRect(0,0,16,16),new mt(new St(new pu(t)))}function ka(t){t.destroy=function(){},t.on=function(){},t.once=function(){},t.emit=function(){}}mt.EMPTY=new mt(new St);ka(mt.EMPTY);ka(mt.EMPTY.baseTexture);mt.WHITE=Jm();ka(mt.WHITE);ka(mt.WHITE.baseTexture);var Mr=function(t){Lt(r,t);function r(e,n){var i=t.call(this,e,n)||this;return i.valid=!0,i.filterFrame=null,i.filterPoolKey=null,i.updateUvs(),i}return Object.defineProperty(r.prototype,"framebuffer",{get:function(){return this.baseTexture.framebuffer},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"multisample",{get:function(){return this.framebuffer.multisample},set:function(e){this.framebuffer.multisample=e},enumerable:!1,configurable:!0}),r.prototype.resize=function(e,n,i){i===void 0&&(i=!0);var a=this.baseTexture.resolution,s=Math.round(e*a)/a,o=Math.round(n*a)/a;this.valid=s>0&&o>0,this._frame.width=this.orig.width=s,this._frame.height=this.orig.height=o,i&&this.baseTexture.resize(s,o),this.updateUvs()},r.prototype.setResolution=function(e){var n=this.baseTexture;n.resolution!==e&&(n.setResolution(e),this.resize(n.width,n.height,!1))},r.create=function(e){for(var n=arguments,i=[],a=1;a<arguments.length;a++)i[a-1]=n[a];return typeof e=="number"&&(Lr("6.0.0","Arguments (width, height, scaleMode, resolution) have been deprecated."),e={width:e,height:i[0],scaleMode:i[1],resolution:i[2]}),new r(new ec(e))},r}(mt),Qm=function(){function t(r){this.texturePool={},this.textureOptions=r||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}return t.prototype.createTexture=function(r,e,n){n===void 0&&(n=qt.NONE);var i=new ec(Object.assign({width:r,height:e,resolution:1,multisample:n},this.textureOptions));return new Mr(i)},t.prototype.getOptimalTexture=function(r,e,n,i){n===void 0&&(n=1),i===void 0&&(i=qt.NONE);var a;r=Math.ceil(r*n),e=Math.ceil(e*n),!this.enableFullScreen||r!==this._pixelsWidth||e!==this._pixelsHeight?(r=ga(r),e=ga(e),a=((r&65535)<<16|e&65535)>>>0,i>1&&(a+=i*4294967296)):a=i>1?-i:-1,this.texturePool[a]||(this.texturePool[a]=[]);var s=this.texturePool[a].pop();return s||(s=this.createTexture(r,e,i)),s.filterPoolKey=a,s.setResolution(n),s},t.prototype.getFilterTexture=function(r,e,n){var i=this.getOptimalTexture(r.width,r.height,e||r.resolution,n||qt.NONE);return i.filterFrame=r.filterFrame,i},t.prototype.returnTexture=function(r){var e=r.filterPoolKey;r.filterFrame=null,this.texturePool[e].push(r)},t.prototype.returnFilterTexture=function(r){this.returnTexture(r)},t.prototype.clear=function(r){if(r=r!==!1,r)for(var e in this.texturePool){var n=this.texturePool[e];if(n)for(var i=0;i<n.length;i++)n[i].destroy(!0)}this.texturePool={}},t.prototype.setScreenSize=function(r){if(!(r.width===this._pixelsWidth&&r.height===this._pixelsHeight)){this.enableFullScreen=r.width>0&&r.height>0;for(var e in this.texturePool)if(Number(e)<0){var n=this.texturePool[e];if(n)for(var i=0;i<n.length;i++)n[i].destroy(!0);this.texturePool[e]=[]}this._pixelsWidth=r.width,this._pixelsHeight=r.height}},t.SCREEN_KEY=-1,t}(),zh=function(){function t(r,e,n,i,a,s,o){e===void 0&&(e=0),n===void 0&&(n=!1),i===void 0&&(i=dt.FLOAT),this.buffer=r,this.size=e,this.normalized=n,this.type=i,this.stride=a,this.start=s,this.instance=o}return t.prototype.destroy=function(){this.buffer=null},t.from=function(r,e,n,i,a){return new t(r,e,n,i,a)},t}(),$m=0,Jt=function(){function t(r,e,n){e===void 0&&(e=!0),n===void 0&&(n=!1),this.data=r||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=n,this.static=e,this.id=$m++,this.disposeRunner=new ae("disposeBuffer")}return t.prototype.update=function(r){r instanceof Array&&(r=new Float32Array(r)),this.data=r||this.data,this._updateID++},t.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},t.prototype.destroy=function(){this.dispose(),this.data=null},Object.defineProperty(t.prototype,"index",{get:function(){return this.type===Se.ELEMENT_ARRAY_BUFFER},set:function(r){this.type=r?Se.ELEMENT_ARRAY_BUFFER:Se.ARRAY_BUFFER},enumerable:!1,configurable:!0}),t.from=function(r){return r instanceof Array&&(r=new Float32Array(r)),new t(r)},t}(),tg={Float32Array,Uint32Array,Int32Array,Uint8Array};function eg(t,r){for(var e=0,n=0,i={},a=0;a<t.length;a++)n+=r[a],e+=t[a].length;for(var s=new ArrayBuffer(e*4),o=null,u=0,a=0;a<t.length;a++){var h=r[a],f=t[a],l=zl(f);i[l]||(i[l]=new tg[l](s)),o=i[l];for(var c=0;c<f.length;c++){var d=(c/h|0)*n+u,p=c%h;o[d+p]=f[c]}u+=h}return new Float32Array(s)}var Wh={5126:4,5123:2,5121:1},rg=0,ng={Float32Array,Uint32Array,Int32Array,Uint8Array,Uint16Array},Ei=function(){function t(r,e){r===void 0&&(r=[]),e===void 0&&(e={}),this.buffers=r,this.indexBuffer=null,this.attributes=e,this.glVertexArrayObjects={},this.id=rg++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new ae("disposeGeometry"),this.refCount=0}return t.prototype.addAttribute=function(r,e,n,i,a,s,o,u){if(n===void 0&&(n=0),i===void 0&&(i=!1),u===void 0&&(u=!1),!e)throw new Error("You must pass a buffer when creating an attribute");e instanceof Jt||(e instanceof Array&&(e=new Float32Array(e)),e=new Jt(e));var h=r.split("|");if(h.length>1){for(var f=0;f<h.length;f++)this.addAttribute(h[f],e,n,i,a);return this}var l=this.buffers.indexOf(e);return l===-1&&(this.buffers.push(e),l=this.buffers.length-1),this.attributes[r]=new zh(l,n,i,a,s,o,u),this.instanced=this.instanced||u,this},t.prototype.getAttribute=function(r){return this.attributes[r]},t.prototype.getBuffer=function(r){return this.buffers[this.getAttribute(r).buffer]},t.prototype.addIndex=function(r){return r instanceof Jt||(r instanceof Array&&(r=new Uint16Array(r)),r=new Jt(r)),r.type=Se.ELEMENT_ARRAY_BUFFER,this.indexBuffer=r,this.buffers.indexOf(r)===-1&&this.buffers.push(r),this},t.prototype.getIndex=function(){return this.indexBuffer},t.prototype.interleave=function(){if(this.buffers.length===1||this.buffers.length===2&&this.indexBuffer)return this;var r=[],e=[],n=new Jt,i;for(i in this.attributes){var a=this.attributes[i],s=this.buffers[a.buffer];r.push(s.data),e.push(a.size*Wh[a.type]/4),a.buffer=0}for(n.data=eg(r,e),i=0;i<this.buffers.length;i++)this.buffers[i]!==this.indexBuffer&&this.buffers[i].destroy();return this.buffers=[n],this.indexBuffer&&this.buffers.push(this.indexBuffer),this},t.prototype.getSize=function(){for(var r in this.attributes){var e=this.attributes[r],n=this.buffers[e.buffer];return n.data.length/(e.stride/4||e.size)}return 0},t.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},t.prototype.destroy=function(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null},t.prototype.clone=function(){for(var r=new t,e=0;e<this.buffers.length;e++)r.buffers[e]=new Jt(this.buffers[e].data.slice(0));for(var e in this.attributes){var n=this.attributes[e];r.attributes[e]=new zh(n.buffer,n.size,n.normalized,n.type,n.stride,n.start,n.instance)}return this.indexBuffer&&(r.indexBuffer=r.buffers[this.buffers.indexOf(this.indexBuffer)],r.indexBuffer.type=Se.ELEMENT_ARRAY_BUFFER),r},t.merge=function(r){for(var e=new t,n=[],i=[],a=[],s,o=0;o<r.length;o++){s=r[o];for(var u=0;u<s.buffers.length;u++)i[u]=i[u]||0,i[u]+=s.buffers[u].data.length,a[u]=0}for(var o=0;o<s.buffers.length;o++)n[o]=new ng[zl(s.buffers[o].data)](i[o]),e.buffers[o]=new Jt(n[o]);for(var o=0;o<r.length;o++){s=r[o];for(var u=0;u<s.buffers.length;u++)n[u].set(s.buffers[u].data,a[u]),a[u]+=s.buffers[u].data.length}if(e.attributes=s.attributes,s.indexBuffer){e.indexBuffer=e.buffers[s.buffers.indexOf(s.indexBuffer)],e.indexBuffer.type=Se.ELEMENT_ARRAY_BUFFER;for(var h=0,f=0,l=0,c=0,o=0;o<s.buffers.length;o++)if(s.buffers[o]!==s.indexBuffer){c=o;break}for(var o in s.attributes){var d=s.attributes[o];(d.buffer|0)===c&&(f+=d.size*Wh[d.type]/4)}for(var o=0;o<r.length;o++){for(var p=r[o].indexBuffer.data,u=0;u<p.length;u++)e.indexBuffer.data[u+l]+=h;h+=r[o].buffers[c].data.length/f,l+=p.length}}return e},t}(),ig=function(t){Lt(r,t);function r(){var e=t.call(this)||this;return e.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2]),e}return r}(Ei),nc=function(t){Lt(r,t);function r(){var e=t.call(this)||this;return e.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),e.uvs=new Float32Array([0,0,1,0,1,1,0,1]),e.vertexBuffer=new Jt(e.vertices),e.uvBuffer=new Jt(e.uvs),e.addAttribute("aVertexPosition",e.vertexBuffer).addAttribute("aTextureCoord",e.uvBuffer).addIndex([0,1,2,0,2,3]),e}return r.prototype.map=function(e,n){var i=0,a=0;return this.uvs[0]=i,this.uvs[1]=a,this.uvs[2]=i+n.width/e.width,this.uvs[3]=a,this.uvs[4]=i+n.width/e.width,this.uvs[5]=a+n.height/e.height,this.uvs[6]=i,this.uvs[7]=a+n.height/e.height,i=n.x,a=n.y,this.vertices[0]=i,this.vertices[1]=a,this.vertices[2]=i+n.width,this.vertices[3]=a,this.vertices[4]=i+n.width,this.vertices[5]=a+n.height,this.vertices[6]=i,this.vertices[7]=a+n.height,this.invalidate(),this},r.prototype.invalidate=function(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this},r}(Ei),ag=0,Sr=function(){function t(r,e,n){this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=ag++,this.static=!!e,this.ubo=!!n,r instanceof Jt?(this.buffer=r,this.buffer.type=Se.UNIFORM_BUFFER,this.autoManage=!1,this.ubo=!0):(this.uniforms=r,this.ubo&&(this.buffer=new Jt(new Float32Array(1)),this.buffer.type=Se.UNIFORM_BUFFER,this.autoManage=!0))}return t.prototype.update=function(){this.dirtyId++,!this.autoManage&&this.buffer&&this.buffer.update()},t.prototype.add=function(r,e,n){if(!this.ubo)this.uniforms[r]=new t(e,n);else throw new Error("[UniformGroup] uniform groups in ubo mode cannot be modified, or have uniform groups nested in them")},t.from=function(r,e,n){return new t(r,e,n)},t.uboFrom=function(r,e){return new t(r,e!=null?e:!0,!0)},t}(),sg=function(){function t(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.multisample=qt.NONE,this.sourceFrame=new Pt,this.destinationFrame=new Pt,this.bindingSourceFrame=new Pt,this.bindingDestinationFrame=new Pt,this.filters=[],this.transform=null}return t.prototype.clear=function(){this.target=null,this.filters=null,this.renderTexture=null},t}(),Hi=[new zt,new zt,new zt,new zt],fs=new Wt,ic=function(){function t(r){this.renderer=r,this.defaultFilterStack=[{}],this.texturePool=new Qm,this.texturePool.setScreenSize(r.view),this.statePool=[],this.quad=new ig,this.quadUv=new nc,this.tempRect=new Pt,this.activeState={},this.globalUniforms=new Sr({outputFrame:new Pt,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),this.forceClear=!1,this.useMaxPadding=!1}return t.prototype.push=function(r,e){for(var n,i,a=this.renderer,s=this.defaultFilterStack,o=this.statePool.pop()||new sg,u=this.renderer.renderTexture,h=e[0].resolution,f=e[0].multisample,l=e[0].padding,c=e[0].autoFit,d=(n=e[0].legacy)!==null&&n!==void 0?n:!0,p=1;p<e.length;p++){var v=e[p];h=Math.min(h,v.resolution),f=Math.min(f,v.multisample),l=this.useMaxPadding?Math.max(l,v.padding):l+v.padding,c=c&&v.autoFit,d=d||((i=v.legacy)!==null&&i!==void 0?i:!0)}if(s.length===1&&(this.defaultFilterStack[0].renderTexture=u.current),s.push(o),o.resolution=h,o.multisample=f,o.legacy=d,o.target=r,o.sourceFrame.copyFrom(r.filterArea||r.getBounds(!0)),o.sourceFrame.pad(l),c){var _=this.tempRect.copyFrom(u.sourceFrame);a.projection.transform&&this.transformAABB(fs.copyFrom(a.projection.transform).invert(),_),o.sourceFrame.fit(_)}this.roundFrame(o.sourceFrame,u.current?u.current.resolution:a.resolution,u.sourceFrame,u.destinationFrame,a.projection.transform),o.renderTexture=this.getOptimalFilterTexture(o.sourceFrame.width,o.sourceFrame.height,h,f),o.filters=e,o.destinationFrame.width=o.renderTexture.width,o.destinationFrame.height=o.renderTexture.height;var m=this.tempRect;m.x=0,m.y=0,m.width=o.sourceFrame.width,m.height=o.sourceFrame.height,o.renderTexture.filterFrame=o.sourceFrame,o.bindingSourceFrame.copyFrom(u.sourceFrame),o.bindingDestinationFrame.copyFrom(u.destinationFrame),o.transform=a.projection.transform,a.projection.transform=null,u.bind(o.renderTexture,o.sourceFrame,m),a.framebuffer.clear(0,0,0,0)},t.prototype.pop=function(){var r=this.defaultFilterStack,e=r.pop(),n=e.filters;this.activeState=e;var i=this.globalUniforms.uniforms;i.outputFrame=e.sourceFrame,i.resolution=e.resolution;var a=i.inputSize,s=i.inputPixel,o=i.inputClamp;if(a[0]=e.destinationFrame.width,a[1]=e.destinationFrame.height,a[2]=1/a[0],a[3]=1/a[1],s[0]=Math.round(a[0]*e.resolution),s[1]=Math.round(a[1]*e.resolution),s[2]=1/s[0],s[3]=1/s[1],o[0]=.5*s[2],o[1]=.5*s[3],o[2]=e.sourceFrame.width*a[2]-.5*s[2],o[3]=e.sourceFrame.height*a[3]-.5*s[3],e.legacy){var u=i.filterArea;u[0]=e.destinationFrame.width,u[1]=e.destinationFrame.height,u[2]=e.sourceFrame.x,u[3]=e.sourceFrame.y,i.filterClamp=i.inputClamp}this.globalUniforms.update();var h=r[r.length-1];if(this.renderer.framebuffer.blit(),n.length===1)n[0].apply(this,e.renderTexture,h.renderTexture,er.BLEND,e),this.returnFilterTexture(e.renderTexture);else{var f=e.renderTexture,l=this.getOptimalFilterTexture(f.width,f.height,e.resolution);l.filterFrame=f.filterFrame;var c=0;for(c=0;c<n.length-1;++c){c===1&&e.multisample>1&&(l=this.getOptimalFilterTexture(f.width,f.height,e.resolution),l.filterFrame=f.filterFrame),n[c].apply(this,f,l,er.CLEAR,e);var d=f;f=l,l=d}n[c].apply(this,f,h.renderTexture,er.BLEND,e),c>1&&e.multisample>1&&this.returnFilterTexture(e.renderTexture),this.returnFilterTexture(f),this.returnFilterTexture(l)}e.clear(),this.statePool.push(e)},t.prototype.bindAndClear=function(r,e){e===void 0&&(e=er.CLEAR);var n=this.renderer,i=n.renderTexture,a=n.state;if(r===this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?this.renderer.projection.transform=this.activeState.transform:this.renderer.projection.transform=null,r&&r.filterFrame){var s=this.tempRect;s.x=0,s.y=0,s.width=r.filterFrame.width,s.height=r.filterFrame.height,i.bind(r,r.filterFrame,s)}else r!==this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?i.bind(r):this.renderer.renderTexture.bind(r,this.activeState.bindingSourceFrame,this.activeState.bindingDestinationFrame);var o=a.stateId&1||this.forceClear;(e===er.CLEAR||e===er.BLIT&&o)&&this.renderer.framebuffer.clear(0,0,0,0)},t.prototype.applyFilter=function(r,e,n,i){var a=this.renderer;a.state.set(r.state),this.bindAndClear(n,i),r.uniforms.uSampler=e,r.uniforms.filterGlobals=this.globalUniforms,a.shader.bind(r),r.legacy=!!r.program.attributeData.aTextureCoord,r.legacy?(this.quadUv.map(e._frame,e.filterFrame),a.geometry.bind(this.quadUv),a.geometry.draw(Ee.TRIANGLES)):(a.geometry.bind(this.quad),a.geometry.draw(Ee.TRIANGLE_STRIP))},t.prototype.calculateSpriteMatrix=function(r,e){var n=this.activeState,i=n.sourceFrame,a=n.destinationFrame,s=e._texture.orig,o=r.set(a.width,0,0,a.height,i.x,i.y),u=e.worldTransform.copyTo(Wt.TEMP_MATRIX);return u.invert(),o.prepend(u),o.scale(1/s.width,1/s.height),o.translate(e.anchor.x,e.anchor.y),o},t.prototype.destroy=function(){this.renderer=null,this.texturePool.clear(!1)},t.prototype.getOptimalFilterTexture=function(r,e,n,i){return n===void 0&&(n=1),i===void 0&&(i=qt.NONE),this.texturePool.getOptimalTexture(r,e,n,i)},t.prototype.getFilterTexture=function(r,e,n){if(typeof r=="number"){var i=r;r=e,e=i}r=r||this.activeState.renderTexture;var a=this.texturePool.getOptimalTexture(r.width,r.height,e||r.resolution,n||qt.NONE);return a.filterFrame=r.filterFrame,a},t.prototype.returnFilterTexture=function(r){this.texturePool.returnTexture(r)},t.prototype.emptyPool=function(){this.texturePool.clear(!0)},t.prototype.resize=function(){this.texturePool.setScreenSize(this.renderer.view)},t.prototype.transformAABB=function(r,e){var n=Hi[0],i=Hi[1],a=Hi[2],s=Hi[3];n.set(e.left,e.top),i.set(e.left,e.bottom),a.set(e.right,e.top),s.set(e.right,e.bottom),r.apply(n,n),r.apply(i,i),r.apply(a,a),r.apply(s,s);var o=Math.min(n.x,i.x,a.x,s.x),u=Math.min(n.y,i.y,a.y,s.y),h=Math.max(n.x,i.x,a.x,s.x),f=Math.max(n.y,i.y,a.y,s.y);e.x=o,e.y=u,e.width=h-o,e.height=f-u},t.prototype.roundFrame=function(r,e,n,i,a){if(!(r.width<=0||r.height<=0||n.width<=0||n.height<=0)){if(a){var s=a.a,o=a.b,u=a.c,h=a.d;if((Math.abs(o)>1e-4||Math.abs(u)>1e-4)&&(Math.abs(s)>1e-4||Math.abs(h)>1e-4))return}a=a?fs.copyFrom(a):fs.identity(),a.translate(-n.x,-n.y).scale(i.width/n.width,i.height/n.height).translate(i.x,i.y),this.transformAABB(a,r),r.ceil(e),this.transformAABB(a.invert(),r)}},t}(),Ha=function(){function t(r){this.renderer=r}return t.prototype.flush=function(){},t.prototype.destroy=function(){this.renderer=null},t.prototype.start=function(){},t.prototype.stop=function(){this.flush()},t.prototype.render=function(r){},t}(),ac=function(){function t(r){this.renderer=r,this.emptyRenderer=new Ha(r),this.currentRenderer=this.emptyRenderer}return t.prototype.setObjectRenderer=function(r){this.currentRenderer!==r&&(this.currentRenderer.stop(),this.currentRenderer=r,this.currentRenderer.start())},t.prototype.flush=function(){this.setObjectRenderer(this.emptyRenderer)},t.prototype.reset=function(){this.setObjectRenderer(this.emptyRenderer)},t.prototype.copyBoundTextures=function(r,e){for(var n=this.renderer.texture.boundTextures,i=e-1;i>=0;--i)r[i]=n[i]||null,r[i]&&(r[i]._batchLocation=i)},t.prototype.boundArray=function(r,e,n,i){for(var a=r.elements,s=r.ids,o=r.count,u=0,h=0;h<o;h++){var f=a[h],l=f._batchLocation;if(l>=0&&l<i&&e[l]===f){s[h]=l;continue}for(;u<i;){var c=e[u];if(c&&c._batchEnabled===n&&c._batchLocation===u){u++;continue}s[h]=u,f._batchLocation=u,e[u]=f;break}}},t.prototype.destroy=function(){this.renderer=null},t}(),Kh=0,sc=function(){function t(r){this.renderer=r,this.webGLVersion=1,this.extensions={},this.supports={uint32Indices:!1},this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this),r.view.addEventListener("webglcontextlost",this.handleContextLost,!1),r.view.addEventListener("webglcontextrestored",this.handleContextRestored,!1)}return Object.defineProperty(t.prototype,"isLost",{get:function(){return!this.gl||this.gl.isContextLost()},enumerable:!1,configurable:!0}),t.prototype.contextChange=function(r){this.gl=r,this.renderer.gl=r,this.renderer.CONTEXT_UID=Kh++,r.isContextLost()&&r.getExtension("WEBGL_lose_context")&&r.getExtension("WEBGL_lose_context").restoreContext()},t.prototype.initFromContext=function(r){this.gl=r,this.validateContext(r),this.renderer.gl=r,this.renderer.CONTEXT_UID=Kh++,this.renderer.runners.contextChange.emit(r)},t.prototype.initFromOptions=function(r){var e=this.createContext(this.renderer.view,r);this.initFromContext(e)},t.prototype.createContext=function(r,e){var n;if(at.PREFER_ENV>=qe.WEBGL2&&(n=r.getContext("webgl2",e)),n)this.webGLVersion=2;else if(this.webGLVersion=1,n=r.getContext("webgl",e)||r.getContext("experimental-webgl",e),!n)throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=n,this.getExtensions(),this.gl},t.prototype.getExtensions=function(){var r=this.gl,e={anisotropicFiltering:r.getExtension("EXT_texture_filter_anisotropic"),floatTextureLinear:r.getExtension("OES_texture_float_linear"),s3tc:r.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:r.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:r.getExtension("WEBGL_compressed_texture_etc"),etc1:r.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:r.getExtension("WEBGL_compressed_texture_pvrtc")||r.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:r.getExtension("WEBGL_compressed_texture_atc"),astc:r.getExtension("WEBGL_compressed_texture_astc")};this.webGLVersion===1?Object.assign(this.extensions,e,{drawBuffers:r.getExtension("WEBGL_draw_buffers"),depthTexture:r.getExtension("WEBGL_depth_texture"),loseContext:r.getExtension("WEBGL_lose_context"),vertexArrayObject:r.getExtension("OES_vertex_array_object")||r.getExtension("MOZ_OES_vertex_array_object")||r.getExtension("WEBKIT_OES_vertex_array_object"),uint32ElementIndex:r.getExtension("OES_element_index_uint"),floatTexture:r.getExtension("OES_texture_float"),floatTextureLinear:r.getExtension("OES_texture_float_linear"),textureHalfFloat:r.getExtension("OES_texture_half_float"),textureHalfFloatLinear:r.getExtension("OES_texture_half_float_linear")}):this.webGLVersion===2&&Object.assign(this.extensions,e,{colorBufferFloat:r.getExtension("EXT_color_buffer_float")})},t.prototype.handleContextLost=function(r){r.preventDefault()},t.prototype.handleContextRestored=function(){this.renderer.runners.contextChange.emit(this.gl)},t.prototype.destroy=function(){var r=this.renderer.view;this.renderer=null,r.removeEventListener("webglcontextlost",this.handleContextLost),r.removeEventListener("webglcontextrestored",this.handleContextRestored),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()},t.prototype.postrender=function(){this.renderer.renderingToScreen&&this.gl.flush()},t.prototype.validateContext=function(r){var e=r.getContextAttributes(),n="WebGL2RenderingContext"in self&&r instanceof self.WebGL2RenderingContext;n&&(this.webGLVersion=2),e.stencil||console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");var i=n||!!r.getExtension("OES_element_index_uint");this.supports.uint32Indices=i,i||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")},t}(),og=function(){function t(r){this.framebuffer=r,this.stencil=null,this.dirtyId=-1,this.dirtyFormat=-1,this.dirtySize=-1,this.multisample=qt.NONE,this.msaaBuffer=null,this.blitFramebuffer=null,this.mipLevel=0}return t}(),ug=new Pt,oc=function(){function t(r){this.renderer=r,this.managedFramebuffers=[],this.unknownFramebuffer=new fo(10,10),this.msaaSamples=null}return t.prototype.contextChange=function(){var r=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new Pt,this.hasMRT=!0,this.writeDepthTexture=!0,this.disposeAll(!0),this.renderer.context.webGLVersion===1){var e=this.renderer.context.extensions.drawBuffers,n=this.renderer.context.extensions.depthTexture;at.PREFER_ENV===qe.WEBGL_LEGACY&&(e=null,n=null),e?r.drawBuffers=function(i){return e.drawBuffersWEBGL(i)}:(this.hasMRT=!1,r.drawBuffers=function(){}),n||(this.writeDepthTexture=!1)}else this.msaaSamples=r.getInternalformatParameter(r.RENDERBUFFER,r.RGBA8,r.SAMPLES)},t.prototype.bind=function(r,e,n){n===void 0&&(n=0);var i=this.gl;if(r){var a=r.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(r);this.current!==r&&(this.current=r,i.bindFramebuffer(i.FRAMEBUFFER,a.framebuffer)),a.mipLevel!==n&&(r.dirtyId++,r.dirtyFormat++,a.mipLevel=n),a.dirtyId!==r.dirtyId&&(a.dirtyId=r.dirtyId,a.dirtyFormat!==r.dirtyFormat?(a.dirtyFormat=r.dirtyFormat,a.dirtySize=r.dirtySize,this.updateFramebuffer(r,n)):a.dirtySize!==r.dirtySize&&(a.dirtySize=r.dirtySize,this.resizeFramebuffer(r)));for(var s=0;s<r.colorTextures.length;s++){var o=r.colorTextures[s];this.renderer.texture.unbind(o.parentTextureArray||o)}if(r.depthTexture&&this.renderer.texture.unbind(r.depthTexture),e){var u=e.width>>n,h=e.height>>n,f=u/e.width;this.setViewport(e.x*f,e.y*f,u,h)}else{var u=r.width>>n,h=r.height>>n;this.setViewport(0,0,u,h)}}else this.current&&(this.current=null,i.bindFramebuffer(i.FRAMEBUFFER,null)),e?this.setViewport(e.x,e.y,e.width,e.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)},t.prototype.setViewport=function(r,e,n,i){var a=this.viewport;r=Math.round(r),e=Math.round(e),n=Math.round(n),i=Math.round(i),(a.width!==n||a.height!==i||a.x!==r||a.y!==e)&&(a.x=r,a.y=e,a.width=n,a.height=i,this.gl.viewport(r,e,n,i))},Object.defineProperty(t.prototype,"size",{get:function(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}},enumerable:!1,configurable:!0}),t.prototype.clear=function(r,e,n,i,a){a===void 0&&(a=_a.COLOR|_a.DEPTH);var s=this.gl;s.clearColor(r,e,n,i),s.clear(a)},t.prototype.initFramebuffer=function(r){var e=this.gl,n=new og(e.createFramebuffer());return n.multisample=this.detectSamples(r.multisample),r.glFramebuffers[this.CONTEXT_UID]=n,this.managedFramebuffers.push(r),r.disposeRunner.add(this),n},t.prototype.resizeFramebuffer=function(r){var e=this.gl,n=r.glFramebuffers[this.CONTEXT_UID];n.msaaBuffer&&(e.bindRenderbuffer(e.RENDERBUFFER,n.msaaBuffer),e.renderbufferStorageMultisample(e.RENDERBUFFER,n.multisample,e.RGBA8,r.width,r.height)),n.stencil&&(e.bindRenderbuffer(e.RENDERBUFFER,n.stencil),n.msaaBuffer?e.renderbufferStorageMultisample(e.RENDERBUFFER,n.multisample,e.DEPTH24_STENCIL8,r.width,r.height):e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_STENCIL,r.width,r.height));var i=r.colorTextures,a=i.length;e.drawBuffers||(a=Math.min(a,1));for(var s=0;s<a;s++){var o=i[s],u=o.parentTextureArray||o;this.renderer.texture.bind(u,0)}r.depthTexture&&this.writeDepthTexture&&this.renderer.texture.bind(r.depthTexture,0)},t.prototype.updateFramebuffer=function(r,e){var n=this.gl,i=r.glFramebuffers[this.CONTEXT_UID],a=r.colorTextures,s=a.length;n.drawBuffers||(s=Math.min(s,1)),i.multisample>1&&this.canMultisampleFramebuffer(r)?(i.msaaBuffer=i.msaaBuffer||n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,i.msaaBuffer),n.renderbufferStorageMultisample(n.RENDERBUFFER,i.multisample,n.RGBA8,r.width,r.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,i.msaaBuffer)):i.msaaBuffer&&(n.deleteRenderbuffer(i.msaaBuffer),i.msaaBuffer=null,i.blitFramebuffer&&(i.blitFramebuffer.dispose(),i.blitFramebuffer=null));for(var o=[],u=0;u<s;u++){var h=a[u],f=h.parentTextureArray||h;this.renderer.texture.bind(f,0),!(u===0&&i.msaaBuffer)&&(n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+u,h.target,f._glTextures[this.CONTEXT_UID].texture,e),o.push(n.COLOR_ATTACHMENT0+u))}if(o.length>1&&n.drawBuffers(o),r.depthTexture){var l=this.writeDepthTexture;if(l){var c=r.depthTexture;this.renderer.texture.bind(c,0),n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,c._glTextures[this.CONTEXT_UID].texture,e)}}(r.stencil||r.depth)&&!(r.depthTexture&&this.writeDepthTexture)?(i.stencil=i.stencil||n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,i.stencil),i.msaaBuffer?n.renderbufferStorageMultisample(n.RENDERBUFFER,i.multisample,n.DEPTH24_STENCIL8,r.width,r.height):n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_STENCIL,r.width,r.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.RENDERBUFFER,i.stencil)):i.stencil&&(n.deleteRenderbuffer(i.stencil),i.stencil=null)},t.prototype.canMultisampleFramebuffer=function(r){return this.renderer.context.webGLVersion!==1&&r.colorTextures.length<=1&&!r.depthTexture},t.prototype.detectSamples=function(r){var e=this.msaaSamples,n=qt.NONE;if(r<=1||e===null)return n;for(var i=0;i<e.length;i++)if(e[i]<=r){n=e[i];break}return n===1&&(n=qt.NONE),n},t.prototype.blit=function(r,e,n){var i=this,a=i.current,s=i.renderer,o=i.gl,u=i.CONTEXT_UID;if(s.context.webGLVersion===2&&!!a){var h=a.glFramebuffers[u];if(!!h){if(!r){if(!h.msaaBuffer)return;var f=a.colorTextures[0];if(!f)return;h.blitFramebuffer||(h.blitFramebuffer=new fo(a.width,a.height),h.blitFramebuffer.addColorTexture(0,f)),r=h.blitFramebuffer,r.colorTextures[0]!==f&&(r.colorTextures[0]=f,r.dirtyId++,r.dirtyFormat++),(r.width!==a.width||r.height!==a.height)&&(r.width=a.width,r.height=a.height,r.dirtyId++,r.dirtySize++)}e||(e=ug,e.width=a.width,e.height=a.height),n||(n=e);var l=e.width===n.width&&e.height===n.height;this.bind(r),o.bindFramebuffer(o.READ_FRAMEBUFFER,h.framebuffer),o.blitFramebuffer(e.x,e.y,e.width,e.height,n.x,n.y,n.width,n.height,o.COLOR_BUFFER_BIT,l?o.NEAREST:o.LINEAR)}}},t.prototype.disposeFramebuffer=function(r,e){var n=r.glFramebuffers[this.CONTEXT_UID],i=this.gl;if(!!n){delete r.glFramebuffers[this.CONTEXT_UID];var a=this.managedFramebuffers.indexOf(r);a>=0&&this.managedFramebuffers.splice(a,1),r.disposeRunner.remove(this),e||(i.deleteFramebuffer(n.framebuffer),n.msaaBuffer&&i.deleteRenderbuffer(n.msaaBuffer),n.stencil&&i.deleteRenderbuffer(n.stencil)),n.blitFramebuffer&&n.blitFramebuffer.dispose()}},t.prototype.disposeAll=function(r){var e=this.managedFramebuffers;this.managedFramebuffers=[];for(var n=0;n<e.length;n++)this.disposeFramebuffer(e[n],r)},t.prototype.forceStencil=function(){var r=this.current;if(!!r){var e=r.glFramebuffers[this.CONTEXT_UID];if(!(!e||e.stencil)){r.stencil=!0;var n=r.width,i=r.height,a=this.gl,s=a.createRenderbuffer();a.bindRenderbuffer(a.RENDERBUFFER,s),e.msaaBuffer?a.renderbufferStorageMultisample(a.RENDERBUFFER,e.multisample,a.DEPTH24_STENCIL8,n,i):a.renderbufferStorage(a.RENDERBUFFER,a.DEPTH_STENCIL,n,i),e.stencil=s,a.framebufferRenderbuffer(a.FRAMEBUFFER,a.DEPTH_STENCIL_ATTACHMENT,a.RENDERBUFFER,s)}}},t.prototype.reset=function(){this.current=this.unknownFramebuffer,this.viewport=new Pt},t.prototype.destroy=function(){this.renderer=null},t}(),ls={5126:4,5123:2,5121:1},uc=function(){function t(r){this.renderer=r,this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this.canUseUInt32ElementIndex=!1,this.managedGeometries={}}return t.prototype.contextChange=function(){this.disposeAll(!0);var r=this.gl=this.renderer.gl,e=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,e.webGLVersion!==2){var n=this.renderer.context.extensions.vertexArrayObject;at.PREFER_ENV===qe.WEBGL_LEGACY&&(n=null),n?(r.createVertexArray=function(){return n.createVertexArrayOES()},r.bindVertexArray=function(a){return n.bindVertexArrayOES(a)},r.deleteVertexArray=function(a){return n.deleteVertexArrayOES(a)}):(this.hasVao=!1,r.createVertexArray=function(){return null},r.bindVertexArray=function(){return null},r.deleteVertexArray=function(){return null})}if(e.webGLVersion!==2){var i=r.getExtension("ANGLE_instanced_arrays");i?(r.vertexAttribDivisor=function(a,s){return i.vertexAttribDivisorANGLE(a,s)},r.drawElementsInstanced=function(a,s,o,u,h){return i.drawElementsInstancedANGLE(a,s,o,u,h)},r.drawArraysInstanced=function(a,s,o,u){return i.drawArraysInstancedANGLE(a,s,o,u)}):this.hasInstance=!1}this.canUseUInt32ElementIndex=e.webGLVersion===2||!!e.extensions.uint32ElementIndex},t.prototype.bind=function(r,e){e=e||this.renderer.shader.shader;var n=this.gl,i=r.glVertexArrayObjects[this.CONTEXT_UID],a=!1;i||(this.managedGeometries[r.id]=r,r.disposeRunner.add(this),r.glVertexArrayObjects[this.CONTEXT_UID]=i={},a=!0);var s=i[e.program.id]||this.initGeometryVao(r,e,a);this._activeGeometry=r,this._activeVao!==s&&(this._activeVao=s,this.hasVao?n.bindVertexArray(s):this.activateVao(r,e.program)),this.updateBuffers()},t.prototype.reset=function(){this.unbind()},t.prototype.updateBuffers=function(){for(var r=this._activeGeometry,e=this.renderer.buffer,n=0;n<r.buffers.length;n++){var i=r.buffers[n];e.update(i)}},t.prototype.checkCompatibility=function(r,e){var n=r.attributes,i=e.attributeData;for(var a in i)if(!n[a])throw new Error('shader and geometry incompatible, geometry missing the "'+a+'" attribute')},t.prototype.getSignature=function(r,e){var n=r.attributes,i=e.attributeData,a=["g",r.id];for(var s in n)i[s]&&a.push(s,i[s].location);return a.join("-")},t.prototype.initGeometryVao=function(r,e,n){n===void 0&&(n=!0);var i=this.gl,a=this.CONTEXT_UID,s=this.renderer.buffer,o=e.program;o.glPrograms[a]||this.renderer.shader.generateProgram(e),this.checkCompatibility(r,o);var u=this.getSignature(r,o),h=r.glVertexArrayObjects[this.CONTEXT_UID],f=h[u];if(f)return h[o.id]=f,f;var l=r.buffers,c=r.attributes,d={},p={};for(var v in l)d[v]=0,p[v]=0;for(var v in c)!c[v].size&&o.attributeData[v]?c[v].size=o.attributeData[v].size:c[v].size||console.warn("PIXI Geometry attribute '"+v+"' size cannot be determined (likely the bound shader does not have the attribute)"),d[c[v].buffer]+=c[v].size*ls[c[v].type];for(var v in c){var _=c[v],m=_.size;_.stride===void 0&&(d[_.buffer]===m*ls[_.type]?_.stride=0:_.stride=d[_.buffer]),_.start===void 0&&(_.start=p[_.buffer],p[_.buffer]+=m*ls[_.type])}f=i.createVertexArray(),i.bindVertexArray(f);for(var b=0;b<l.length;b++){var T=l[b];s.bind(T),n&&T._glBuffers[a].refCount++}return this.activateVao(r,o),this._activeVao=f,h[o.id]=f,h[u]=f,f},t.prototype.disposeGeometry=function(r,e){var n;if(!!this.managedGeometries[r.id]){delete this.managedGeometries[r.id];var i=r.glVertexArrayObjects[this.CONTEXT_UID],a=this.gl,s=r.buffers,o=(n=this.renderer)===null||n===void 0?void 0:n.buffer;if(r.disposeRunner.remove(this),!!i){if(o)for(var u=0;u<s.length;u++){var h=s[u]._glBuffers[this.CONTEXT_UID];h&&(h.refCount--,h.refCount===0&&!e&&o.dispose(s[u],e))}if(!e){for(var f in i)if(f[0]==="g"){var l=i[f];this._activeVao===l&&this.unbind(),a.deleteVertexArray(l)}}delete r.glVertexArrayObjects[this.CONTEXT_UID]}}},t.prototype.disposeAll=function(r){for(var e=Object.keys(this.managedGeometries),n=0;n<e.length;n++)this.disposeGeometry(this.managedGeometries[e[n]],r)},t.prototype.activateVao=function(r,e){var n=this.gl,i=this.CONTEXT_UID,a=this.renderer.buffer,s=r.buffers,o=r.attributes;r.indexBuffer&&a.bind(r.indexBuffer);var u=null;for(var h in o){var f=o[h],l=s[f.buffer],c=l._glBuffers[i];if(e.attributeData[h]){u!==c&&(a.bind(l),u=c);var d=e.attributeData[h].location;if(n.enableVertexAttribArray(d),n.vertexAttribPointer(d,f.size,f.type||n.FLOAT,f.normalized,f.stride,f.start),f.instance)if(this.hasInstance)n.vertexAttribDivisor(d,1);else throw new Error("geometry error, GPU Instancing is not supported on this device")}}},t.prototype.draw=function(r,e,n,i){var a=this.gl,s=this._activeGeometry;if(s.indexBuffer){var o=s.indexBuffer.data.BYTES_PER_ELEMENT,u=o===2?a.UNSIGNED_SHORT:a.UNSIGNED_INT;o===2||o===4&&this.canUseUInt32ElementIndex?s.instanced?a.drawElementsInstanced(r,e||s.indexBuffer.data.length,u,(n||0)*o,i||1):a.drawElements(r,e||s.indexBuffer.data.length,u,(n||0)*o):console.warn("unsupported index buffer type: uint32")}else s.instanced?a.drawArraysInstanced(r,n,e||s.getSize(),i||1):a.drawArrays(r,n,e||s.getSize());return this},t.prototype.unbind=function(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null},t.prototype.destroy=function(){this.renderer=null},t}(),hg=function(){function t(r){r===void 0&&(r=null),this.type=ie.NONE,this.autoDetect=!0,this.maskObject=r||null,this.pooled=!1,this.isMaskData=!0,this.resolution=null,this.multisample=at.FILTER_MULTISAMPLE,this.enabled=!0,this._filters=null,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._scissorRectLocal=null,this._target=null}return Object.defineProperty(t.prototype,"filter",{get:function(){return this._filters?this._filters[0]:null},set:function(r){r?this._filters?this._filters[0]=r:this._filters=[r]:this._filters=null},enumerable:!1,configurable:!0}),t.prototype.reset=function(){this.pooled&&(this.maskObject=null,this.type=ie.NONE,this.autoDetect=!0),this._target=null,this._scissorRectLocal=null},t.prototype.copyCountersOrReset=function(r){r?(this._stencilCounter=r._stencilCounter,this._scissorCounter=r._scissorCounter,this._scissorRect=r._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)},t}();function Yh(t,r,e){var n=t.createShader(r);return t.shaderSource(n,e),t.compileShader(n),n}function qh(t,r){var e=t.getShaderSource(r).split(`
`).map(function(h,f){return f+": "+h}),n=t.getShaderInfoLog(r),i=n.split(`
`),a={},s=i.map(function(h){return parseFloat(h.replace(/^ERROR\: 0\:([\d]+)\:.*$/,"$1"))}).filter(function(h){return h&&!a[h]?(a[h]=!0,!0):!1}),o=[""];s.forEach(function(h){e[h-1]="%c"+e[h-1]+"%c",o.push("background: #FF0000; color:#FFFFFF; font-size: 10px","font-size: 10px")});var u=e.join(`
`);o[0]=u,console.error(n),console.groupCollapsed("click to view full shader code"),console.warn.apply(console,o),console.groupEnd()}function fg(t,r,e,n){t.getProgramParameter(r,t.LINK_STATUS)||(t.getShaderParameter(e,t.COMPILE_STATUS)||qh(t,e),t.getShaderParameter(n,t.COMPILE_STATUS)||qh(t,n),console.error("PixiJS Error: Could not initialize shader."),t.getProgramInfoLog(r)!==""&&console.warn("PixiJS Warning: gl.getProgramInfoLog()",t.getProgramInfoLog(r)))}function cs(t){for(var r=new Array(t),e=0;e<r.length;e++)r[e]=!1;return r}function hc(t,r){switch(t){case"float":return 0;case"vec2":return new Float32Array(2*r);case"vec3":return new Float32Array(3*r);case"vec4":return new Float32Array(4*r);case"int":case"uint":case"sampler2D":case"sampler2DArray":return 0;case"ivec2":return new Int32Array(2*r);case"ivec3":return new Int32Array(3*r);case"ivec4":return new Int32Array(4*r);case"uvec2":return new Uint32Array(2*r);case"uvec3":return new Uint32Array(3*r);case"uvec4":return new Uint32Array(4*r);case"bool":return!1;case"bvec2":return cs(2*r);case"bvec3":return cs(3*r);case"bvec4":return cs(4*r);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}var fc={},Ln=fc;function lg(){if(Ln===fc||Ln&&Ln.isContextLost()){var t=document.createElement("canvas"),r=void 0;at.PREFER_ENV>=qe.WEBGL2&&(r=t.getContext("webgl2",{})),r||(r=t.getContext("webgl",{})||t.getContext("experimental-webgl",{}),r?r.getExtension("WEBGL_draw_buffers"):r=null),Ln=r}return Ln}var Xi;function cg(){if(!Xi){Xi=Ne.MEDIUM;var t=lg();if(t&&t.getShaderPrecisionFormat){var r=t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT);Xi=r.precision?Ne.HIGH:Ne.MEDIUM}}return Xi}function Zh(t,r,e){if(t.substring(0,9)!=="precision"){var n=r;return r===Ne.HIGH&&e!==Ne.HIGH&&(n=Ne.MEDIUM),"precision "+n+` float;
`+t}else if(e!==Ne.HIGH&&t.substring(0,15)==="precision highp")return t.replace("precision highp","precision mediump");return t}var dg={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,uint:1,uvec2:2,uvec3:3,uvec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function lc(t){return dg[t]}var ji=null,Jh={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",UNSIGNED_INT:"uint",UNSIGNED_INT_VEC2:"uvec2",UNSIGNED_INT_VEC3:"uvec3",UNSIGNED_INT_VEC4:"uvec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function cc(t,r){if(!ji){var e=Object.keys(Jh);ji={};for(var n=0;n<e.length;++n){var i=e[n];ji[t[i]]=Jh[i]}}return ji[r]}var nn=[{test:function(t){return t.type==="float"&&t.size===1},code:function(t){return`
            if(uv["`+t+'"] !== ud["'+t+`"].value)
            {
                ud["`+t+'"].value = uv["'+t+`"]
                gl.uniform1f(ud["`+t+'"].location, uv["'+t+`"])
            }
            `}},{test:function(t){return(t.type==="sampler2D"||t.type==="samplerCube"||t.type==="sampler2DArray")&&t.size===1&&!t.isArray},code:function(t){return`t = syncData.textureCount++;

            renderer.texture.bind(uv["`+t+`"], t);

            if(ud["`+t+`"].value !== t)
            {
                ud["`+t+`"].value = t;
                gl.uniform1i(ud["`+t+`"].location, t);
; // eslint-disable-line max-len
            }`}},{test:function(t,r){return t.type==="mat3"&&t.size===1&&r.a!==void 0},code:function(t){return`
            gl.uniformMatrix3fv(ud["`+t+'"].location, false, uv["'+t+`"].toArray(true));
            `},codeUbo:function(t){return`
                var `+t+"_matrix = uv."+t+`.toArray(true);

                data[offset] = `+t+`_matrix[0];
                data[offset+1] = `+t+`_matrix[1];
                data[offset+2] = `+t+`_matrix[2];
        
                data[offset + 4] = `+t+`_matrix[3];
                data[offset + 5] = `+t+`_matrix[4];
                data[offset + 6] = `+t+`_matrix[5];
        
                data[offset + 8] = `+t+`_matrix[6];
                data[offset + 9] = `+t+`_matrix[7];
                data[offset + 10] = `+t+`_matrix[8];
            `}},{test:function(t,r){return t.type==="vec2"&&t.size===1&&r.x!==void 0},code:function(t){return`
                cv = ud["`+t+`"].value;
                v = uv["`+t+`"];

                if(cv[0] !== v.x || cv[1] !== v.y)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    gl.uniform2f(ud["`+t+`"].location, v.x, v.y);
                }`},codeUbo:function(t){return`
                v = uv.`+t+`;

                data[offset] = v.x;
                data[offset+1] = v.y;
            `}},{test:function(t){return t.type==="vec2"&&t.size===1},code:function(t){return`
                cv = ud["`+t+`"].value;
                v = uv["`+t+`"];

                if(cv[0] !== v[0] || cv[1] !== v[1])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    gl.uniform2f(ud["`+t+`"].location, v[0], v[1]);
                }
            `}},{test:function(t,r){return t.type==="vec4"&&t.size===1&&r.width!==void 0},code:function(t){return`
                cv = ud["`+t+`"].value;
                v = uv["`+t+`"];

                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    cv[2] = v.width;
                    cv[3] = v.height;
                    gl.uniform4f(ud["`+t+`"].location, v.x, v.y, v.width, v.height)
                }`},codeUbo:function(t){return`
                    v = uv.`+t+`;

                    data[offset] = v.x;
                    data[offset+1] = v.y;
                    data[offset+2] = v.width;
                    data[offset+3] = v.height;
                `}},{test:function(t){return t.type==="vec4"&&t.size===1},code:function(t){return`
                cv = ud["`+t+`"].value;
                v = uv["`+t+`"];

                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    cv[2] = v[2];
                    cv[3] = v[3];

                    gl.uniform4f(ud["`+t+`"].location, v[0], v[1], v[2], v[3])
                }`}}],pg={float:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1f(location, v);
    }`,vec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2f(location, v[0], v[1])
    }`,vec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3f(location, v[0], v[1], v[2])
    }`,vec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4f(location, v[0], v[1], v[2], v[3]);
    }`,int:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,ivec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,ivec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,ivec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,uint:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1ui(location, v);
    }`,uvec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2ui(location, v[0], v[1]);
    }`,uvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3ui(location, v[0], v[1], v[2]);
    }`,uvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4ui(location, v[0], v[1], v[2], v[3]);
    }`,bool:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1i(location, v);
    }`,bvec2:`
    if (cv[0] != v[0] || cv[1] != v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,bvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,bvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:"gl.uniform1i(location, v)",samplerCube:"gl.uniform1i(location, v)",sampler2DArray:"gl.uniform1i(location, v)"},vg={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",uint:"gl.uniform1uiv(location, v)",uvec2:"gl.uniform2uiv(location, v)",uvec3:"gl.uniform3uiv(location, v)",uvec4:"gl.uniform4uiv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"};function _g(t,r){var e,n=[`
        var v = null;
        var cv = null;
        var cu = null;
        var t = 0;
        var gl = renderer.gl;
    `];for(var i in t.uniforms){var a=r[i];if(!a){!((e=t.uniforms[i])===null||e===void 0)&&e.group&&(t.uniforms[i].ubo?n.push(`
                        renderer.shader.syncUniformBufferGroup(uv.`+i+", '"+i+`');
                    `):n.push(`
                        renderer.shader.syncUniformGroup(uv.`+i+`, syncData);
                    `));continue}for(var s=t.uniforms[i],o=!1,u=0;u<nn.length;u++)if(nn[u].test(a,s)){n.push(nn[u].code(i,s)),o=!0;break}if(!o){var h=a.size===1?pg:vg,f=h[a.type].replace("location",'ud["'+i+'"].location');n.push(`
            cu = ud["`+i+`"];
            cv = cu.value;
            v = uv["`+i+`"];
            `+f+";")}}return new Function("ud","uv","renderer","syncData",n.join(`
`))}var mg=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`);function gg(t){for(var r="",e=0;e<t;++e)e>0&&(r+=`
else `),e<t-1&&(r+="if(test == "+e+".0){}");return r}function yg(t,r){if(t===0)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");for(var e=r.createShader(r.FRAGMENT_SHADER);;){var n=mg.replace(/%forloop%/gi,gg(t));if(r.shaderSource(e,n),r.compileShader(e),!r.getShaderParameter(e,r.COMPILE_STATUS))t=t/2|0;else break}return t}var Mn;function bg(){if(typeof Mn=="boolean")return Mn;try{var t=new Function("param1","param2","param3","return param1[param2] === param3;");Mn=t({a:"b"},"a","b")===!0}catch{Mn=!1}return Mn}var Tg=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor *= texture2D(uSampler, vTextureCoord);
}`,Eg=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void){
   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
   vTextureCoord = aTextureCoord;
}
`,wg=0,Vi={},wi=function(){function t(r,e,n){n===void 0&&(n="pixi-shader"),this.id=wg++,this.vertexSrc=r||t.defaultVertexSrc,this.fragmentSrc=e||t.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),this.vertexSrc.substring(0,8)!=="#version"&&(n=n.replace(/\s+/g,"-"),Vi[n]?(Vi[n]++,n+="-"+Vi[n]):Vi[n]=1,this.vertexSrc="#define SHADER_NAME "+n+`
`+this.vertexSrc,this.fragmentSrc="#define SHADER_NAME "+n+`
`+this.fragmentSrc,this.vertexSrc=Zh(this.vertexSrc,at.PRECISION_VERTEX,Ne.HIGH),this.fragmentSrc=Zh(this.fragmentSrc,at.PRECISION_FRAGMENT,cg())),this.glPrograms={},this.syncUniforms=null}return Object.defineProperty(t,"defaultVertexSrc",{get:function(){return Eg},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultFragmentSrc",{get:function(){return Tg},enumerable:!1,configurable:!0}),t.from=function(r,e,n){var i=r+e,a=Th[i];return a||(Th[i]=a=new t(r,e,n)),a},t}(),sr=function(){function t(r,e){this.uniformBindCount=0,this.program=r,e?e instanceof Sr?this.uniformGroup=e:this.uniformGroup=new Sr(e):this.uniformGroup=new Sr({})}return t.prototype.checkUniformExists=function(r,e){if(e.uniforms[r])return!0;for(var n in e.uniforms){var i=e.uniforms[n];if(i.group&&this.checkUniformExists(r,i))return!0}return!1},t.prototype.destroy=function(){this.uniformGroup=null},Object.defineProperty(t.prototype,"uniforms",{get:function(){return this.uniformGroup.uniforms},enumerable:!1,configurable:!0}),t.from=function(r,e,n){var i=wi.from(r,e);return new t(i,n)},t}(),ds=0,ps=1,vs=2,_s=3,ms=4,gs=5,kr=function(){function t(){this.data=0,this.blendMode=ht.NORMAL,this.polygonOffset=0,this.blend=!0,this.depthMask=!0}return Object.defineProperty(t.prototype,"blend",{get:function(){return!!(this.data&1<<ds)},set:function(r){!!(this.data&1<<ds)!==r&&(this.data^=1<<ds)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"offsets",{get:function(){return!!(this.data&1<<ps)},set:function(r){!!(this.data&1<<ps)!==r&&(this.data^=1<<ps)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"culling",{get:function(){return!!(this.data&1<<vs)},set:function(r){!!(this.data&1<<vs)!==r&&(this.data^=1<<vs)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"depthTest",{get:function(){return!!(this.data&1<<_s)},set:function(r){!!(this.data&1<<_s)!==r&&(this.data^=1<<_s)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"depthMask",{get:function(){return!!(this.data&1<<gs)},set:function(r){!!(this.data&1<<gs)!==r&&(this.data^=1<<gs)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"clockwiseFrontFace",{get:function(){return!!(this.data&1<<ms)},set:function(r){!!(this.data&1<<ms)!==r&&(this.data^=1<<ms)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"blendMode",{get:function(){return this._blendMode},set:function(r){this.blend=r!==ht.NONE,this._blendMode=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"polygonOffset",{get:function(){return this._polygonOffset},set:function(r){this.offsets=!!r,this._polygonOffset=r},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return"[@pixi/core:State "+("blendMode="+this.blendMode+" ")+("clockwiseFrontFace="+this.clockwiseFrontFace+" ")+("culling="+this.culling+" ")+("depthMask="+this.depthMask+" ")+("polygonOffset="+this.polygonOffset)+"]"},t.for2d=function(){var r=new t;return r.depthTest=!1,r.blend=!0,r},t}(),xg=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`,Ig=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor = texture2D(uSampler, vTextureCoord);
}
`,cr=function(t){Lt(r,t);function r(e,n,i){var a=this,s=wi.from(e||r.defaultVertexSrc,n||r.defaultFragmentSrc);return a=t.call(this,s,i)||this,a.padding=0,a.resolution=at.FILTER_RESOLUTION,a.multisample=at.FILTER_MULTISAMPLE,a.enabled=!0,a.autoFit=!0,a.state=new kr,a}return r.prototype.apply=function(e,n,i,a,s){e.applyFilter(this,n,i,a)},Object.defineProperty(r.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(e){this.state.blendMode=e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"resolution",{get:function(){return this._resolution},set:function(e){this._resolution=e},enumerable:!1,configurable:!0}),Object.defineProperty(r,"defaultVertexSrc",{get:function(){return xg},enumerable:!1,configurable:!0}),Object.defineProperty(r,"defaultFragmentSrc",{get:function(){return Ig},enumerable:!1,configurable:!0}),r}(sr),Cg=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 otherMatrix;

varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;
}
`,Rg=`varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform sampler2D mask;
uniform float alpha;
uniform float npmAlpha;
uniform vec4 maskClamp;

void main(void)
{
    float clip = step(3.5,
        step(maskClamp.x, vMaskCoord.x) +
        step(maskClamp.y, vMaskCoord.y) +
        step(vMaskCoord.x, maskClamp.z) +
        step(vMaskCoord.y, maskClamp.w));

    vec4 original = texture2D(uSampler, vTextureCoord);
    vec4 masky = texture2D(mask, vMaskCoord);
    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);

    original *= (alphaMul * masky.r * alpha * clip);

    gl_FragColor = original;
}
`,Qh=new Wt,_u=function(){function t(r,e){this._texture=r,this.mapCoord=new Wt,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=typeof e=="undefined"?.5:e,this.isSimple=!1}return Object.defineProperty(t.prototype,"texture",{get:function(){return this._texture},set:function(r){this._texture=r,this._textureID=-1},enumerable:!1,configurable:!0}),t.prototype.multiplyUvs=function(r,e){e===void 0&&(e=r);for(var n=this.mapCoord,i=0;i<r.length;i+=2){var a=r[i],s=r[i+1];e[i]=a*n.a+s*n.c+n.tx,e[i+1]=a*n.b+s*n.d+n.ty}return e},t.prototype.update=function(r){var e=this._texture;if(!e||!e.valid||!r&&this._textureID===e._updateID)return!1;this._textureID=e._updateID,this._updateID++;var n=e._uvs;this.mapCoord.set(n.x1-n.x0,n.y1-n.y0,n.x3-n.x0,n.y3-n.y0,n.x0,n.y0);var i=e.orig,a=e.trim;a&&(Qh.set(i.width/a.width,0,0,i.height/a.height,-a.x/a.width,-a.y/a.height),this.mapCoord.append(Qh));var s=e.baseTexture,o=this.uClampFrame,u=this.clampMargin/s.resolution,h=this.clampOffset;return o[0]=(e._frame.x+u+h)/s.width,o[1]=(e._frame.y+u+h)/s.height,o[2]=(e._frame.x+e._frame.width-u+h)/s.width,o[3]=(e._frame.y+e._frame.height-u+h)/s.height,this.uClampOffset[0]=h/s.realWidth,this.uClampOffset[1]=h/s.realHeight,this.isSimple=e._frame.width===s.width&&e._frame.height===s.height&&e.rotate===0,!0},t}(),Ag=function(t){Lt(r,t);function r(e,n,i){var a=this,s=null;return typeof e!="string"&&n===void 0&&i===void 0&&(s=e,e=void 0,n=void 0,i=void 0),a=t.call(this,e||Cg,n||Rg,i)||this,a.maskSprite=s,a.maskMatrix=new Wt,a}return Object.defineProperty(r.prototype,"maskSprite",{get:function(){return this._maskSprite},set:function(e){this._maskSprite=e,this._maskSprite&&(this._maskSprite.renderable=!1)},enumerable:!1,configurable:!0}),r.prototype.apply=function(e,n,i,a){var s=this._maskSprite,o=s._texture;!o.valid||(o.uvMatrix||(o.uvMatrix=new _u(o,0)),o.uvMatrix.update(),this.uniforms.npmAlpha=o.baseTexture.alphaMode?0:1,this.uniforms.mask=o,this.uniforms.otherMatrix=e.calculateSpriteMatrix(this.maskMatrix,s).prepend(o.uvMatrix.mapCoord),this.uniforms.alpha=s.worldAlpha,this.uniforms.maskClamp=o.uvMatrix.uClampFrame,e.applyFilter(this,n,i,a))},r}(cr),dc=function(){function t(r){this.renderer=r,this.enableScissor=!0,this.alphaMaskPool=[],this.maskDataPool=[],this.maskStack=[],this.alphaMaskIndex=0}return t.prototype.setMaskStack=function(r){this.maskStack=r,this.renderer.scissor.setMaskStack(r),this.renderer.stencil.setMaskStack(r)},t.prototype.push=function(r,e){var n=e;if(!n.isMaskData){var i=this.maskDataPool.pop()||new hg;i.pooled=!0,i.maskObject=e,n=i}var a=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null;if(n.copyCountersOrReset(a),n.autoDetect&&this.detect(n),n._target=r,n.type!==ie.SPRITE&&this.maskStack.push(n),n.enabled)switch(n.type){case ie.SCISSOR:this.renderer.scissor.push(n);break;case ie.STENCIL:this.renderer.stencil.push(n);break;case ie.SPRITE:n.copyCountersOrReset(null),this.pushSpriteMask(n);break}n.type===ie.SPRITE&&this.maskStack.push(n)},t.prototype.pop=function(r){var e=this.maskStack.pop();if(!(!e||e._target!==r)){if(e.enabled)switch(e.type){case ie.SCISSOR:this.renderer.scissor.pop();break;case ie.STENCIL:this.renderer.stencil.pop(e.maskObject);break;case ie.SPRITE:this.popSpriteMask(e);break}if(e.reset(),e.pooled&&this.maskDataPool.push(e),this.maskStack.length!==0){var n=this.maskStack[this.maskStack.length-1];n.type===ie.SPRITE&&n._filters&&(n._filters[0].maskSprite=n.maskObject)}}},t.prototype.detect=function(r){var e=r.maskObject;e.isSprite?r.type=ie.SPRITE:this.enableScissor&&this.renderer.scissor.testScissor(r)?r.type=ie.SCISSOR:r.type=ie.STENCIL},t.prototype.pushSpriteMask=function(r){var e,n,i=r.maskObject,a=r._target,s=r._filters;s||(s=this.alphaMaskPool[this.alphaMaskIndex],s||(s=this.alphaMaskPool[this.alphaMaskIndex]=[new Ag]));var o=this.renderer,u=o.renderTexture,h,f;if(u.current){var l=u.current;h=r.resolution||l.resolution,f=(e=r.multisample)!==null&&e!==void 0?e:l.multisample}else h=r.resolution||o.resolution,f=(n=r.multisample)!==null&&n!==void 0?n:o.multisample;s[0].resolution=h,s[0].multisample=f,s[0].maskSprite=i;var c=a.filterArea;a.filterArea=i.getBounds(!0),o.filter.push(a,s),a.filterArea=c,r._filters||this.alphaMaskIndex++},t.prototype.popSpriteMask=function(r){this.renderer.filter.pop(),r._filters?r._filters[0].maskSprite=null:(this.alphaMaskIndex--,this.alphaMaskPool[this.alphaMaskIndex][0].maskSprite=null)},t.prototype.destroy=function(){this.renderer=null},t}(),pc=function(){function t(r){this.renderer=r,this.maskStack=[],this.glConst=0}return t.prototype.getStackLength=function(){return this.maskStack.length},t.prototype.setMaskStack=function(r){var e=this.renderer.gl,n=this.getStackLength();this.maskStack=r;var i=this.getStackLength();i!==n&&(i===0?e.disable(this.glConst):(e.enable(this.glConst),this._useCurrent()))},t.prototype._useCurrent=function(){},t.prototype.destroy=function(){this.renderer=null,this.maskStack=null},t}(),$h=new Wt,vc=function(t){Lt(r,t);function r(e){var n=t.call(this,e)||this;return n.glConst=WebGLRenderingContext.SCISSOR_TEST,n}return r.prototype.getStackLength=function(){var e=this.maskStack[this.maskStack.length-1];return e?e._scissorCounter:0},r.prototype.calcScissorRect=function(e){if(!e._scissorRectLocal){var n=e._scissorRect,i=e.maskObject,a=this.renderer,s=a.renderTexture;i.renderable=!0;var o=i.getBounds();this.roundFrameToPixels(o,s.current?s.current.resolution:a.resolution,s.sourceFrame,s.destinationFrame,a.projection.transform),i.renderable=!1,n&&o.fit(n),e._scissorRectLocal=o}},r.isMatrixRotated=function(e){if(!e)return!1;var n=e.a,i=e.b,a=e.c,s=e.d;return(Math.abs(i)>1e-4||Math.abs(a)>1e-4)&&(Math.abs(n)>1e-4||Math.abs(s)>1e-4)},r.prototype.testScissor=function(e){var n=e.maskObject;if(!n.isFastRect||!n.isFastRect()||r.isMatrixRotated(n.worldTransform)||r.isMatrixRotated(this.renderer.projection.transform))return!1;this.calcScissorRect(e);var i=e._scissorRectLocal;return i.width>0&&i.height>0},r.prototype.roundFrameToPixels=function(e,n,i,a,s){r.isMatrixRotated(s)||(s=s?$h.copyFrom(s):$h.identity(),s.translate(-i.x,-i.y).scale(a.width/i.width,a.height/i.height).translate(a.x,a.y),this.renderer.filter.transformAABB(s,e),e.fit(a),e.x=Math.round(e.x*n),e.y=Math.round(e.y*n),e.width=Math.round(e.width*n),e.height=Math.round(e.height*n))},r.prototype.push=function(e){e._scissorRectLocal||this.calcScissorRect(e);var n=this.renderer.gl;e._scissorRect||n.enable(n.SCISSOR_TEST),e._scissorCounter++,e._scissorRect=e._scissorRectLocal,this._useCurrent()},r.prototype.pop=function(){var e=this.renderer.gl;this.getStackLength()>0?this._useCurrent():e.disable(e.SCISSOR_TEST)},r.prototype._useCurrent=function(){var e=this.maskStack[this.maskStack.length-1]._scissorRect,n;this.renderer.renderTexture.current?n=e.y:n=this.renderer.height-e.height-e.y,this.renderer.gl.scissor(e.x,n,e.width,e.height)},r}(pc),_c=function(t){Lt(r,t);function r(e){var n=t.call(this,e)||this;return n.glConst=WebGLRenderingContext.STENCIL_TEST,n}return r.prototype.getStackLength=function(){var e=this.maskStack[this.maskStack.length-1];return e?e._stencilCounter:0},r.prototype.push=function(e){var n=e.maskObject,i=this.renderer.gl,a=e._stencilCounter;a===0&&(this.renderer.framebuffer.forceStencil(),i.clearStencil(0),i.clear(i.STENCIL_BUFFER_BIT),i.enable(i.STENCIL_TEST)),e._stencilCounter++,i.colorMask(!1,!1,!1,!1),i.stencilFunc(i.EQUAL,a,4294967295),i.stencilOp(i.KEEP,i.KEEP,i.INCR),n.renderable=!0,n.render(this.renderer),this.renderer.batch.flush(),n.renderable=!1,this._useCurrent()},r.prototype.pop=function(e){var n=this.renderer.gl;this.getStackLength()===0?n.disable(n.STENCIL_TEST):(n.colorMask(!1,!1,!1,!1),n.stencilOp(n.KEEP,n.KEEP,n.DECR),e.renderable=!0,e.render(this.renderer),this.renderer.batch.flush(),e.renderable=!1,this._useCurrent())},r.prototype._useCurrent=function(){var e=this.renderer.gl;e.colorMask(!0,!0,!0,!0),e.stencilFunc(e.EQUAL,this.getStackLength(),4294967295),e.stencilOp(e.KEEP,e.KEEP,e.KEEP)},r}(pc),mc=function(){function t(r){this.renderer=r,this.destinationFrame=null,this.sourceFrame=null,this.defaultFrame=null,this.projectionMatrix=new Wt,this.transform=null}return t.prototype.update=function(r,e,n,i){this.destinationFrame=r||this.destinationFrame||this.defaultFrame,this.sourceFrame=e||this.sourceFrame||r,this.calculateProjection(this.destinationFrame,this.sourceFrame,n,i),this.transform&&this.projectionMatrix.append(this.transform);var a=this.renderer;a.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,a.globalUniforms.update(),a.shader.shader&&a.shader.syncUniformGroup(a.shader.shader.uniforms.globals)},t.prototype.calculateProjection=function(r,e,n,i){var a=this.projectionMatrix,s=i?-1:1;a.identity(),a.a=1/e.width*2,a.d=s*(1/e.height*2),a.tx=-1-e.x*a.a,a.ty=-s-e.y*a.d},t.prototype.setTransform=function(r){},t.prototype.destroy=function(){this.renderer=null},t}(),yr=new Pt,Gn=new Pt,gc=function(){function t(r){this.renderer=r,this.clearColor=r._backgroundColorRgba,this.defaultMaskStack=[],this.current=null,this.sourceFrame=new Pt,this.destinationFrame=new Pt,this.viewportFrame=new Pt}return t.prototype.bind=function(r,e,n){r===void 0&&(r=null);var i=this.renderer;this.current=r;var a,s,o;r?(a=r.baseTexture,o=a.resolution,e||(yr.width=r.frame.width,yr.height=r.frame.height,e=yr),n||(Gn.x=r.frame.x,Gn.y=r.frame.y,Gn.width=e.width,Gn.height=e.height,n=Gn),s=a.framebuffer):(o=i.resolution,e||(yr.width=i.screen.width,yr.height=i.screen.height,e=yr),n||(n=yr,n.width=e.width,n.height=e.height));var u=this.viewportFrame;u.x=n.x*o,u.y=n.y*o,u.width=n.width*o,u.height=n.height*o,r||(u.y=i.view.height-(u.y+u.height)),u.ceil(),this.renderer.framebuffer.bind(s,u),this.renderer.projection.update(n,e,o,!s),r?this.renderer.mask.setMaskStack(a.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack),this.sourceFrame.copyFrom(e),this.destinationFrame.copyFrom(n)},t.prototype.clear=function(r,e){this.current?r=r||this.current.baseTexture.clearColor:r=r||this.clearColor;var n=this.destinationFrame,i=this.current?this.current.baseTexture:this.renderer.screen,a=n.width!==i.width||n.height!==i.height;if(a){var s=this.viewportFrame,o=s.x,u=s.y,h=s.width,f=s.height;o=Math.round(o),u=Math.round(u),h=Math.round(h),f=Math.round(f),this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST),this.renderer.gl.scissor(o,u,h,f)}this.renderer.framebuffer.clear(r[0],r[1],r[2],r[3],e),a&&this.renderer.scissor.pop()},t.prototype.resize=function(){this.bind(null)},t.prototype.reset=function(){this.bind(null)},t.prototype.destroy=function(){this.renderer=null},t}();function Pg(t,r,e,n,i){e.buffer.update(i)}var Ng={float:`
        data[offset] = v;
    `,vec2:`
        data[offset] = v[0];
        data[offset+1] = v[1];
    `,vec3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

    `,vec4:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];
        data[offset+3] = v[3];
    `,mat2:`
        data[offset] = v[0];
        data[offset+1] = v[1];

        data[offset+4] = v[2];
        data[offset+5] = v[3];
    `,mat3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

        data[offset + 4] = v[3];
        data[offset + 5] = v[4];
        data[offset + 6] = v[5];

        data[offset + 8] = v[6];
        data[offset + 9] = v[7];
        data[offset + 10] = v[8];
    `,mat4:`
        for(var i = 0; i < 16; i++)
        {
            data[offset + i] = v[i];
        }
    `},yc={float:4,vec2:8,vec3:12,vec4:16,int:4,ivec2:8,ivec3:12,ivec4:16,uint:4,uvec2:8,uvec3:12,uvec4:16,bool:4,bvec2:8,bvec3:12,bvec4:16,mat2:16*2,mat3:16*3,mat4:16*4};function Sg(t){for(var r=t.map(function(u){return{data:u,offset:0,dataLen:0,dirty:0}}),e=0,n=0,i=0,a=0;a<r.length;a++){var s=r[a];if(e=yc[s.data.type],s.data.size>1&&(e=Math.max(e,16)*s.data.size),s.dataLen=e,n%e!==0&&n<16){var o=n%e%16;n+=o,i+=o}n+e>16?(i=Math.ceil(i/16)*16,s.offset=i,i+=e,n=e):(s.offset=i,n+=e,i+=e)}return i=Math.ceil(i/16)*16,{uboElements:r,size:i}}function Og(t,r){var e=[];for(var n in t)r[n]&&e.push(r[n]);return e.sort(function(i,a){return i.index-a.index}),e}function Ug(t,r){if(!t.autoManage)return{size:0,syncFunc:Pg};for(var e=Og(t.uniforms,r),n=Sg(e),i=n.uboElements,a=n.size,s=[`
    var v = null;
    var v2 = null;
    var cv = null;
    var t = 0;
    var gl = renderer.gl
    var index = 0;
    var data = buffer.data;
    `],o=0;o<i.length;o++){for(var u=i[o],h=t.uniforms[u.data.name],f=u.data.name,l=!1,c=0;c<nn.length;c++){var d=nn[c];if(d.codeUbo&&d.test(u.data,h)){s.push("offset = "+u.offset/4+";",nn[c].codeUbo(u.data.name,h)),l=!0;break}}if(!l)if(u.data.size>1){var p=lc(u.data.type),v=Math.max(yc[u.data.type]/16,1),_=p/v,m=(4-_%4)%4;s.push(`
                cv = ud.`+f+`.value;
                v = uv.`+f+`;
                offset = `+u.offset/4+`;

                t = 0;

                for(var i=0; i < `+u.data.size*v+`; i++)
                {
                    for(var j = 0; j < `+_+`; j++)
                    {
                        data[offset++] = v[t++];
                    }
                    offset += `+m+`;
                }

                `)}else{var b=Ng[u.data.type];s.push(`
                cv = ud.`+f+`.value;
                v = uv.`+f+`;
                offset = `+u.offset/4+`;
                `+b+`;
                `)}}return s.push(`
       renderer.buffer.update(buffer);
    `),{size:a,syncFunc:new Function("ud","uv","renderer","syncData","buffer",s.join(`
`))}}var Fg=function(){function t(r,e){this.program=r,this.uniformData=e,this.uniformGroups={},this.uniformDirtyGroups={},this.uniformBufferBindings={}}return t.prototype.destroy=function(){this.uniformData=null,this.uniformGroups=null,this.uniformDirtyGroups=null,this.uniformBufferBindings=null,this.program=null},t}();function Bg(t,r){for(var e={},n=r.getProgramParameter(t,r.ACTIVE_ATTRIBUTES),i=0;i<n;i++){var a=r.getActiveAttrib(t,i);if(a.name.indexOf("gl_")!==0){var s=cc(r,a.type),o={type:s,name:a.name,size:lc(s),location:r.getAttribLocation(t,a.name)};e[a.name]=o}}return e}function Lg(t,r){for(var e={},n=r.getProgramParameter(t,r.ACTIVE_UNIFORMS),i=0;i<n;i++){var a=r.getActiveUniform(t,i),s=a.name.replace(/\[.*?\]$/,""),o=!!a.name.match(/\[.*?\]$/),u=cc(r,a.type);e[s]={name:s,index:i,type:u,size:a.size,isArray:o,value:hc(u,a.size)}}return e}function Mg(t,r){var e=Yh(t,t.VERTEX_SHADER,r.vertexSrc),n=Yh(t,t.FRAGMENT_SHADER,r.fragmentSrc),i=t.createProgram();if(t.attachShader(i,e),t.attachShader(i,n),t.linkProgram(i),t.getProgramParameter(i,t.LINK_STATUS)||fg(t,i,e,n),r.attributeData=Bg(i,t),r.uniformData=Lg(i,t),!/^[ \t]*#[ \t]*version[ \t]+300[ \t]+es[ \t]*$/m.test(r.vertexSrc)){var a=Object.keys(r.attributeData);a.sort(function(f,l){return f>l?1:-1});for(var s=0;s<a.length;s++)r.attributeData[a[s]].location=s,t.bindAttribLocation(i,s,a[s]);t.linkProgram(i)}t.deleteShader(e),t.deleteShader(n);var o={};for(var s in r.uniformData){var u=r.uniformData[s];o[s]={location:t.getUniformLocation(i,s),value:hc(u.type,u.size)}}var h=new Fg(i,o);return h}var Gg=0,zi={textureCount:0,uboCount:0},bc=function(){function t(r){this.destroyed=!1,this.renderer=r,this.systemCheck(),this.gl=null,this.shader=null,this.program=null,this.cache={},this._uboCache={},this.id=Gg++}return t.prototype.systemCheck=function(){if(!bg())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")},t.prototype.contextChange=function(r){this.gl=r,this.reset()},t.prototype.bind=function(r,e){r.uniforms.globals=this.renderer.globalUniforms;var n=r.program,i=n.glPrograms[this.renderer.CONTEXT_UID]||this.generateProgram(r);return this.shader=r,this.program!==n&&(this.program=n,this.gl.useProgram(i.program)),e||(zi.textureCount=0,zi.uboCount=0,this.syncUniformGroup(r.uniformGroup,zi)),i},t.prototype.setUniforms=function(r){var e=this.shader.program,n=e.glPrograms[this.renderer.CONTEXT_UID];e.syncUniforms(n.uniformData,r,this.renderer)},t.prototype.syncUniformGroup=function(r,e){var n=this.getGlProgram();(!r.static||r.dirtyId!==n.uniformDirtyGroups[r.id])&&(n.uniformDirtyGroups[r.id]=r.dirtyId,this.syncUniforms(r,n,e))},t.prototype.syncUniforms=function(r,e,n){var i=r.syncUniforms[this.shader.program.id]||this.createSyncGroups(r);i(e.uniformData,r.uniforms,this.renderer,n)},t.prototype.createSyncGroups=function(r){var e=this.getSignature(r,this.shader.program.uniformData,"u");return this.cache[e]||(this.cache[e]=_g(r,this.shader.program.uniformData)),r.syncUniforms[this.shader.program.id]=this.cache[e],r.syncUniforms[this.shader.program.id]},t.prototype.syncUniformBufferGroup=function(r,e){var n=this.getGlProgram();if(!r.static||r.dirtyId!==0||!n.uniformGroups[r.id]){r.dirtyId=0;var i=n.uniformGroups[r.id]||this.createSyncBufferGroup(r,n,e);r.buffer.update(),i(n.uniformData,r.uniforms,this.renderer,zi,r.buffer)}this.renderer.buffer.bindBufferBase(r.buffer,n.uniformBufferBindings[e])},t.prototype.createSyncBufferGroup=function(r,e,n){var i=this.renderer.gl;this.renderer.buffer.bind(r.buffer);var a=this.gl.getUniformBlockIndex(e.program,n);e.uniformBufferBindings[n]=this.shader.uniformBindCount,i.uniformBlockBinding(e.program,a,this.shader.uniformBindCount),this.shader.uniformBindCount++;var s=this.getSignature(r,this.shader.program.uniformData,"ubo"),o=this._uboCache[s];if(o||(o=this._uboCache[s]=Ug(r,this.shader.program.uniformData)),r.autoManage){var u=new Float32Array(o.size/4);r.buffer.update(u)}return e.uniformGroups[r.id]=o.syncFunc,e.uniformGroups[r.id]},t.prototype.getSignature=function(r,e,n){var i=r.uniforms,a=[n+"-"];for(var s in i)a.push(s),e[s]&&a.push(e[s].type);return a.join("-")},t.prototype.getGlProgram=function(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null},t.prototype.generateProgram=function(r){var e=this.gl,n=r.program,i=Mg(e,n);return n.glPrograms[this.renderer.CONTEXT_UID]=i,i},t.prototype.reset=function(){this.program=null,this.shader=null},t.prototype.destroy=function(){this.renderer=null,this.destroyed=!0},t}();function Dg(t,r){return r===void 0&&(r=[]),r[ht.NORMAL]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],r[ht.ADD]=[t.ONE,t.ONE],r[ht.MULTIPLY]=[t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],r[ht.SCREEN]=[t.ONE,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],r[ht.OVERLAY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],r[ht.DARKEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],r[ht.LIGHTEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],r[ht.COLOR_DODGE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],r[ht.COLOR_BURN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],r[ht.HARD_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],r[ht.SOFT_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],r[ht.DIFFERENCE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],r[ht.EXCLUSION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],r[ht.HUE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],r[ht.SATURATION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],r[ht.COLOR]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],r[ht.LUMINOSITY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],r[ht.NONE]=[0,0],r[ht.NORMAL_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],r[ht.ADD_NPM]=[t.SRC_ALPHA,t.ONE,t.ONE,t.ONE],r[ht.SCREEN_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],r[ht.SRC_IN]=[t.DST_ALPHA,t.ZERO],r[ht.SRC_OUT]=[t.ONE_MINUS_DST_ALPHA,t.ZERO],r[ht.SRC_ATOP]=[t.DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],r[ht.DST_OVER]=[t.ONE_MINUS_DST_ALPHA,t.ONE],r[ht.DST_IN]=[t.ZERO,t.SRC_ALPHA],r[ht.DST_OUT]=[t.ZERO,t.ONE_MINUS_SRC_ALPHA],r[ht.DST_ATOP]=[t.ONE_MINUS_DST_ALPHA,t.SRC_ALPHA],r[ht.XOR]=[t.ONE_MINUS_DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],r[ht.SUBTRACT]=[t.ONE,t.ONE,t.ONE,t.ONE,t.FUNC_REVERSE_SUBTRACT,t.FUNC_ADD],r}var kg=0,Hg=1,Xg=2,jg=3,Vg=4,zg=5,Tc=function(){function t(){this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode=ht.NONE,this._blendEq=!1,this.map=[],this.map[kg]=this.setBlend,this.map[Hg]=this.setOffset,this.map[Xg]=this.setCullFace,this.map[jg]=this.setDepthTest,this.map[Vg]=this.setFrontFace,this.map[zg]=this.setDepthMask,this.checks=[],this.defaultState=new kr,this.defaultState.blend=!0}return t.prototype.contextChange=function(r){this.gl=r,this.blendModes=Dg(r),this.set(this.defaultState),this.reset()},t.prototype.set=function(r){if(r=r||this.defaultState,this.stateId!==r.data){for(var e=this.stateId^r.data,n=0;e;)e&1&&this.map[n].call(this,!!(r.data&1<<n)),e=e>>1,n++;this.stateId=r.data}for(var n=0;n<this.checks.length;n++)this.checks[n](this,r)},t.prototype.forceState=function(r){r=r||this.defaultState;for(var e=0;e<this.map.length;e++)this.map[e].call(this,!!(r.data&1<<e));for(var e=0;e<this.checks.length;e++)this.checks[e](this,r);this.stateId=r.data},t.prototype.setBlend=function(r){this.updateCheck(t.checkBlendMode,r),this.gl[r?"enable":"disable"](this.gl.BLEND)},t.prototype.setOffset=function(r){this.updateCheck(t.checkPolygonOffset,r),this.gl[r?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)},t.prototype.setDepthTest=function(r){this.gl[r?"enable":"disable"](this.gl.DEPTH_TEST)},t.prototype.setDepthMask=function(r){this.gl.depthMask(r)},t.prototype.setCullFace=function(r){this.gl[r?"enable":"disable"](this.gl.CULL_FACE)},t.prototype.setFrontFace=function(r){this.gl.frontFace(this.gl[r?"CW":"CCW"])},t.prototype.setBlendMode=function(r){if(r!==this.blendMode){this.blendMode=r;var e=this.blendModes[r],n=this.gl;e.length===2?n.blendFunc(e[0],e[1]):n.blendFuncSeparate(e[0],e[1],e[2],e[3]),e.length===6?(this._blendEq=!0,n.blendEquationSeparate(e[4],e[5])):this._blendEq&&(this._blendEq=!1,n.blendEquationSeparate(n.FUNC_ADD,n.FUNC_ADD))}},t.prototype.setPolygonOffset=function(r,e){this.gl.polygonOffset(r,e)},t.prototype.reset=function(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)},t.prototype.updateCheck=function(r,e){var n=this.checks.indexOf(r);e&&n===-1?this.checks.push(r):!e&&n!==-1&&this.checks.splice(n,1)},t.checkBlendMode=function(r,e){r.setBlendMode(e.blendMode)},t.checkPolygonOffset=function(r,e){r.setPolygonOffset(1,e.polygonOffset)},t.prototype.destroy=function(){this.gl=null},t}(),Ec=function(){function t(r){this.renderer=r,this.count=0,this.checkCount=0,this.maxIdle=at.GC_MAX_IDLE,this.checkCountMax=at.GC_MAX_CHECK_COUNT,this.mode=at.GC_MODE}return t.prototype.postrender=function(){!this.renderer.renderingToScreen||(this.count++,this.mode!==no.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))},t.prototype.run=function(){for(var r=this.renderer.texture,e=r.managedTextures,n=!1,i=0;i<e.length;i++){var a=e[i];!a.framebuffer&&this.count-a.touched>this.maxIdle&&(r.destroyTexture(a,!0),e[i]=null,n=!0)}if(n){for(var s=0,i=0;i<e.length;i++)e[i]!==null&&(e[s++]=e[i]);e.length=s}},t.prototype.unload=function(r){var e=this.renderer.texture,n=r._texture;n&&!n.framebuffer&&e.destroyTexture(n);for(var i=r.children.length-1;i>=0;i--)this.unload(r.children[i])},t.prototype.destroy=function(){this.renderer=null},t}();function Wg(t){var r,e,n,i,a,s,o,u,h,f,l,c,d,p,v,_,m,b,T,w,y,g,N;return"WebGL2RenderingContext"in self&&t instanceof self.WebGL2RenderingContext?N=(r={},r[dt.UNSIGNED_BYTE]=(e={},e[$.RGBA]=t.RGBA8,e[$.RGB]=t.RGB8,e[$.RG]=t.RG8,e[$.RED]=t.R8,e[$.RGBA_INTEGER]=t.RGBA8UI,e[$.RGB_INTEGER]=t.RGB8UI,e[$.RG_INTEGER]=t.RG8UI,e[$.RED_INTEGER]=t.R8UI,e[$.ALPHA]=t.ALPHA,e[$.LUMINANCE]=t.LUMINANCE,e[$.LUMINANCE_ALPHA]=t.LUMINANCE_ALPHA,e),r[dt.BYTE]=(n={},n[$.RGBA]=t.RGBA8_SNORM,n[$.RGB]=t.RGB8_SNORM,n[$.RG]=t.RG8_SNORM,n[$.RED]=t.R8_SNORM,n[$.RGBA_INTEGER]=t.RGBA8I,n[$.RGB_INTEGER]=t.RGB8I,n[$.RG_INTEGER]=t.RG8I,n[$.RED_INTEGER]=t.R8I,n),r[dt.UNSIGNED_SHORT]=(i={},i[$.RGBA_INTEGER]=t.RGBA16UI,i[$.RGB_INTEGER]=t.RGB16UI,i[$.RG_INTEGER]=t.RG16UI,i[$.RED_INTEGER]=t.R16UI,i[$.DEPTH_COMPONENT]=t.DEPTH_COMPONENT16,i),r[dt.SHORT]=(a={},a[$.RGBA_INTEGER]=t.RGBA16I,a[$.RGB_INTEGER]=t.RGB16I,a[$.RG_INTEGER]=t.RG16I,a[$.RED_INTEGER]=t.R16I,a),r[dt.UNSIGNED_INT]=(s={},s[$.RGBA_INTEGER]=t.RGBA32UI,s[$.RGB_INTEGER]=t.RGB32UI,s[$.RG_INTEGER]=t.RG32UI,s[$.RED_INTEGER]=t.R32UI,s[$.DEPTH_COMPONENT]=t.DEPTH_COMPONENT24,s),r[dt.INT]=(o={},o[$.RGBA_INTEGER]=t.RGBA32I,o[$.RGB_INTEGER]=t.RGB32I,o[$.RG_INTEGER]=t.RG32I,o[$.RED_INTEGER]=t.R32I,o),r[dt.FLOAT]=(u={},u[$.RGBA]=t.RGBA32F,u[$.RGB]=t.RGB32F,u[$.RG]=t.RG32F,u[$.RED]=t.R32F,u[$.DEPTH_COMPONENT]=t.DEPTH_COMPONENT32F,u),r[dt.HALF_FLOAT]=(h={},h[$.RGBA]=t.RGBA16F,h[$.RGB]=t.RGB16F,h[$.RG]=t.RG16F,h[$.RED]=t.R16F,h),r[dt.UNSIGNED_SHORT_5_6_5]=(f={},f[$.RGB]=t.RGB565,f),r[dt.UNSIGNED_SHORT_4_4_4_4]=(l={},l[$.RGBA]=t.RGBA4,l),r[dt.UNSIGNED_SHORT_5_5_5_1]=(c={},c[$.RGBA]=t.RGB5_A1,c),r[dt.UNSIGNED_INT_2_10_10_10_REV]=(d={},d[$.RGBA]=t.RGB10_A2,d[$.RGBA_INTEGER]=t.RGB10_A2UI,d),r[dt.UNSIGNED_INT_10F_11F_11F_REV]=(p={},p[$.RGB]=t.R11F_G11F_B10F,p),r[dt.UNSIGNED_INT_5_9_9_9_REV]=(v={},v[$.RGB]=t.RGB9_E5,v),r[dt.UNSIGNED_INT_24_8]=(_={},_[$.DEPTH_STENCIL]=t.DEPTH24_STENCIL8,_),r[dt.FLOAT_32_UNSIGNED_INT_24_8_REV]=(m={},m[$.DEPTH_STENCIL]=t.DEPTH32F_STENCIL8,m),r):N=(b={},b[dt.UNSIGNED_BYTE]=(T={},T[$.RGBA]=t.RGBA,T[$.RGB]=t.RGB,T[$.ALPHA]=t.ALPHA,T[$.LUMINANCE]=t.LUMINANCE,T[$.LUMINANCE_ALPHA]=t.LUMINANCE_ALPHA,T),b[dt.UNSIGNED_SHORT_5_6_5]=(w={},w[$.RGB]=t.RGB,w),b[dt.UNSIGNED_SHORT_4_4_4_4]=(y={},y[$.RGBA]=t.RGBA,y),b[dt.UNSIGNED_SHORT_5_5_5_1]=(g={},g[$.RGBA]=t.RGBA,g),b),N}var ys=function(){function t(r){this.texture=r,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=dt.UNSIGNED_BYTE,this.internalFormat=$.RGBA,this.samplerType=0}return t}(),wc=function(){function t(r){this.renderer=r,this.boundTextures=[],this.currentLocation=-1,this.managedTextures=[],this._unknownBoundTextures=!1,this.unknownTexture=new St,this.hasIntegerTextures=!1}return t.prototype.contextChange=function(){var r=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion,this.internalFormats=Wg(r);var e=r.getParameter(r.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=e;for(var n=0;n<e;n++)this.boundTextures[n]=null;this.emptyTextures={};var i=new ys(r.createTexture());r.bindTexture(r.TEXTURE_2D,i.texture),r.texImage2D(r.TEXTURE_2D,0,r.RGBA,1,1,0,r.RGBA,r.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[r.TEXTURE_2D]=i,this.emptyTextures[r.TEXTURE_CUBE_MAP]=new ys(r.createTexture()),r.bindTexture(r.TEXTURE_CUBE_MAP,this.emptyTextures[r.TEXTURE_CUBE_MAP].texture);for(var n=0;n<6;n++)r.texImage2D(r.TEXTURE_CUBE_MAP_POSITIVE_X+n,0,r.RGBA,1,1,0,r.RGBA,r.UNSIGNED_BYTE,null);r.texParameteri(r.TEXTURE_CUBE_MAP,r.TEXTURE_MAG_FILTER,r.LINEAR),r.texParameteri(r.TEXTURE_CUBE_MAP,r.TEXTURE_MIN_FILTER,r.LINEAR);for(var n=0;n<this.boundTextures.length;n++)this.bind(null,n)},t.prototype.bind=function(r,e){e===void 0&&(e=0);var n=this.gl;if(r=r==null?void 0:r.castToBaseTexture(),r&&r.valid&&!r.parentTextureArray){r.touched=this.renderer.textureGC.count;var i=r._glTextures[this.CONTEXT_UID]||this.initTexture(r);this.boundTextures[e]!==r&&(this.currentLocation!==e&&(this.currentLocation=e,n.activeTexture(n.TEXTURE0+e)),n.bindTexture(r.target,i.texture)),i.dirtyId!==r.dirtyId&&(this.currentLocation!==e&&(this.currentLocation=e,n.activeTexture(n.TEXTURE0+e)),this.updateTexture(r)),this.boundTextures[e]=r}else this.currentLocation!==e&&(this.currentLocation=e,n.activeTexture(n.TEXTURE0+e)),n.bindTexture(n.TEXTURE_2D,this.emptyTextures[n.TEXTURE_2D].texture),this.boundTextures[e]=null},t.prototype.reset=function(){this._unknownBoundTextures=!0,this.hasIntegerTextures=!1,this.currentLocation=-1;for(var r=0;r<this.boundTextures.length;r++)this.boundTextures[r]=this.unknownTexture},t.prototype.unbind=function(r){var e=this,n=e.gl,i=e.boundTextures;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(var a=0;a<i.length;a++)i[a]===this.unknownTexture&&this.bind(null,a)}for(var a=0;a<i.length;a++)i[a]===r&&(this.currentLocation!==a&&(n.activeTexture(n.TEXTURE0+a),this.currentLocation=a),n.bindTexture(r.target,this.emptyTextures[r.target].texture),i[a]=null)},t.prototype.ensureSamplerType=function(r){var e=this,n=e.boundTextures,i=e.hasIntegerTextures,a=e.CONTEXT_UID;if(!!i)for(var s=r-1;s>=0;--s){var o=n[s];if(o){var u=o._glTextures[a];u.samplerType!==ma.FLOAT&&this.renderer.texture.unbind(o)}}},t.prototype.initTexture=function(r){var e=new ys(this.gl.createTexture());return e.dirtyId=-1,r._glTextures[this.CONTEXT_UID]=e,this.managedTextures.push(r),r.on("dispose",this.destroyTexture,this),e},t.prototype.initTextureType=function(r,e){var n,i;e.internalFormat=(i=(n=this.internalFormats[r.type])===null||n===void 0?void 0:n[r.format])!==null&&i!==void 0?i:r.format,this.webGLVersion===2&&r.type===dt.HALF_FLOAT?e.type=this.gl.HALF_FLOAT:e.type=r.type},t.prototype.updateTexture=function(r){var e=r._glTextures[this.CONTEXT_UID];if(!!e){var n=this.renderer;if(this.initTextureType(r,e),r.resource&&r.resource.upload(n,r,e))e.samplerType!==ma.FLOAT&&(this.hasIntegerTextures=!0);else{var i=r.realWidth,a=r.realHeight,s=n.gl;(e.width!==i||e.height!==a||e.dirtyId<0)&&(e.width=i,e.height=a,s.texImage2D(r.target,0,e.internalFormat,i,a,0,r.format,e.type,null))}r.dirtyStyleId!==e.dirtyStyleId&&this.updateTextureStyle(r),e.dirtyId=r.dirtyId}},t.prototype.destroyTexture=function(r,e){var n=this.gl;if(r=r.castToBaseTexture(),r._glTextures[this.CONTEXT_UID]&&(this.unbind(r),n.deleteTexture(r._glTextures[this.CONTEXT_UID].texture),r.off("dispose",this.destroyTexture,this),delete r._glTextures[this.CONTEXT_UID],!e)){var i=this.managedTextures.indexOf(r);i!==-1&&rn(this.managedTextures,i,1)}},t.prototype.updateTextureStyle=function(r){var e=r._glTextures[this.CONTEXT_UID];!e||((r.mipmap===ur.POW2||this.webGLVersion!==2)&&!r.isPowerOfTwo?e.mipmap=!1:e.mipmap=r.mipmap>=1,this.webGLVersion!==2&&!r.isPowerOfTwo?e.wrapMode=Ke.CLAMP:e.wrapMode=r.wrapMode,r.resource&&r.resource.style(this.renderer,r,e)||this.setStyle(r,e),e.dirtyStyleId=r.dirtyStyleId)},t.prototype.setStyle=function(r,e){var n=this.gl;if(e.mipmap&&r.mipmap!==ur.ON_MANUAL&&n.generateMipmap(r.target),n.texParameteri(r.target,n.TEXTURE_WRAP_S,e.wrapMode),n.texParameteri(r.target,n.TEXTURE_WRAP_T,e.wrapMode),e.mipmap){n.texParameteri(r.target,n.TEXTURE_MIN_FILTER,r.scaleMode===Ve.LINEAR?n.LINEAR_MIPMAP_LINEAR:n.NEAREST_MIPMAP_NEAREST);var i=this.renderer.context.extensions.anisotropicFiltering;if(i&&r.anisotropicLevel>0&&r.scaleMode===Ve.LINEAR){var a=Math.min(r.anisotropicLevel,n.getParameter(i.MAX_TEXTURE_MAX_ANISOTROPY_EXT));n.texParameterf(r.target,i.TEXTURE_MAX_ANISOTROPY_EXT,a)}}else n.texParameteri(r.target,n.TEXTURE_MIN_FILTER,r.scaleMode===Ve.LINEAR?n.LINEAR:n.NEAREST);n.texParameteri(r.target,n.TEXTURE_MAG_FILTER,r.scaleMode===Ve.LINEAR?n.LINEAR:n.NEAREST)},t.prototype.destroy=function(){this.renderer=null},t}(),xc={__proto__:null,FilterSystem:ic,BatchSystem:ac,ContextSystem:sc,FramebufferSystem:oc,GeometrySystem:uc,MaskSystem:dc,ScissorSystem:vc,StencilSystem:_c,ProjectionSystem:mc,RenderTextureSystem:gc,ShaderSystem:bc,StateSystem:Tc,TextureGCSystem:Ec,TextureSystem:wc},bs=new Wt,Kg=function(t){Lt(r,t);function r(e,n){e===void 0&&(e=ni.UNKNOWN);var i=t.call(this)||this;return n=Object.assign({},at.RENDER_OPTIONS,n),i.options=n,i.type=e,i.screen=new Pt(0,0,n.width,n.height),i.view=n.view||document.createElement("canvas"),i.resolution=n.resolution||at.RESOLUTION,i.useContextAlpha=n.useContextAlpha,i.autoDensity=!!n.autoDensity,i.preserveDrawingBuffer=n.preserveDrawingBuffer,i.clearBeforeRender=n.clearBeforeRender,i._backgroundColor=0,i._backgroundColorRgba=[0,0,0,1],i._backgroundColorString="#000000",i.backgroundColor=n.backgroundColor||i._backgroundColor,i.backgroundAlpha=n.backgroundAlpha,n.transparent!==void 0&&(Lr("6.0.0","Option transparent is deprecated, please use backgroundAlpha instead."),i.useContextAlpha=n.transparent,i.backgroundAlpha=n.transparent?0:1),i._lastObjectRendered=null,i.plugins={},i}return r.prototype.initPlugins=function(e){for(var n in e)this.plugins[n]=new e[n](this)},Object.defineProperty(r.prototype,"width",{get:function(){return this.view.width},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"height",{get:function(){return this.view.height},enumerable:!1,configurable:!0}),r.prototype.resize=function(e,n){this.view.width=Math.round(e*this.resolution),this.view.height=Math.round(n*this.resolution);var i=this.view.width/this.resolution,a=this.view.height/this.resolution;this.screen.width=i,this.screen.height=a,this.autoDensity&&(this.view.style.width=i+"px",this.view.style.height=a+"px"),this.emit("resize",i,a)},r.prototype.generateTexture=function(e,n,i,a){n===void 0&&(n={}),typeof n=="number"&&(Lr("6.1.0","generateTexture options (scaleMode, resolution, region) are now object options."),n={scaleMode:n,resolution:i,region:a});var s=n.region,o=Ym(n,["region"]);a=s||e.getLocalBounds(null,!0),a.width===0&&(a.width=1),a.height===0&&(a.height=1);var u=Mr.create(ho({width:a.width,height:a.height},o));return bs.tx=-a.x,bs.ty=-a.y,this.render(e,{renderTexture:u,clear:!1,transform:bs,skipUpdateTransform:!!e.parent}),u},r.prototype.destroy=function(e){for(var n in this.plugins)this.plugins[n].destroy(),this.plugins[n]=null;e&&this.view.parentNode&&this.view.parentNode.removeChild(this.view);var i=this;i.plugins=null,i.type=ni.UNKNOWN,i.view=null,i.screen=null,i._tempDisplayObjectParent=null,i.options=null,this._backgroundColorRgba=null,this._backgroundColorString=null,this._lastObjectRendered=null},Object.defineProperty(r.prototype,"backgroundColor",{get:function(){return this._backgroundColor},set:function(e){this._backgroundColor=e,this._backgroundColorString=kl(e),sn(e,this._backgroundColorRgba)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"backgroundAlpha",{get:function(){return this._backgroundColorRgba[3]},set:function(e){this._backgroundColorRgba[3]=e},enumerable:!1,configurable:!0}),r}(bi),Yg=function(){function t(r){this.buffer=r||null,this.updateID=-1,this.byteLength=-1,this.refCount=0}return t}(),qg=function(){function t(r){this.renderer=r,this.managedBuffers={},this.boundBufferBases={}}return t.prototype.destroy=function(){this.renderer=null},t.prototype.contextChange=function(){this.disposeAll(!0),this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID},t.prototype.bind=function(r){var e=this,n=e.gl,i=e.CONTEXT_UID,a=r._glBuffers[i]||this.createGLBuffer(r);n.bindBuffer(r.type,a.buffer)},t.prototype.bindBufferBase=function(r,e){var n=this,i=n.gl,a=n.CONTEXT_UID;if(this.boundBufferBases[e]!==r){var s=r._glBuffers[a]||this.createGLBuffer(r);this.boundBufferBases[e]=r,i.bindBufferBase(i.UNIFORM_BUFFER,e,s.buffer)}},t.prototype.bindBufferRange=function(r,e,n){var i=this,a=i.gl,s=i.CONTEXT_UID;n=n||0;var o=r._glBuffers[s]||this.createGLBuffer(r);a.bindBufferRange(a.UNIFORM_BUFFER,e||0,o.buffer,n*256,256)},t.prototype.update=function(r){var e=this,n=e.gl,i=e.CONTEXT_UID,a=r._glBuffers[i];if(r._updateID!==a.updateID)if(a.updateID=r._updateID,n.bindBuffer(r.type,a.buffer),a.byteLength>=r.data.byteLength)n.bufferSubData(r.type,0,r.data);else{var s=r.static?n.STATIC_DRAW:n.DYNAMIC_DRAW;a.byteLength=r.data.byteLength,n.bufferData(r.type,r.data,s)}},t.prototype.dispose=function(r,e){if(!!this.managedBuffers[r.id]){delete this.managedBuffers[r.id];var n=r._glBuffers[this.CONTEXT_UID],i=this.gl;r.disposeRunner.remove(this),n&&(e||i.deleteBuffer(n.buffer),delete r._glBuffers[this.CONTEXT_UID])}},t.prototype.disposeAll=function(r){for(var e=Object.keys(this.managedBuffers),n=0;n<e.length;n++)this.dispose(this.managedBuffers[e[n]],r)},t.prototype.createGLBuffer=function(r){var e=this,n=e.CONTEXT_UID,i=e.gl;return r._glBuffers[n]=new Yg(i.createBuffer()),this.managedBuffers[r.id]=r,r.disposeRunner.add(this),r._glBuffers[n]},t}(),dr=function(t){Lt(r,t);function r(e){var n=t.call(this,ni.WEBGL,e)||this;return e=n.options,n.gl=null,n.CONTEXT_UID=0,n.runners={destroy:new ae("destroy"),contextChange:new ae("contextChange"),reset:new ae("reset"),update:new ae("update"),postrender:new ae("postrender"),prerender:new ae("prerender"),resize:new ae("resize")},n.runners.contextChange.add(n),n.globalUniforms=new Sr({projectionMatrix:new Wt},!0),n.addSystem(dc,"mask").addSystem(sc,"context").addSystem(Tc,"state").addSystem(bc,"shader").addSystem(wc,"texture").addSystem(qg,"buffer").addSystem(uc,"geometry").addSystem(oc,"framebuffer").addSystem(vc,"scissor").addSystem(_c,"stencil").addSystem(mc,"projection").addSystem(Ec,"textureGC").addSystem(ic,"filter").addSystem(gc,"renderTexture").addSystem(ac,"batch"),n.initPlugins(r.__plugins),n.multisample=void 0,e.context?n.context.initFromContext(e.context):n.context.initFromOptions({alpha:!!n.useContextAlpha,antialias:e.antialias,premultipliedAlpha:n.useContextAlpha&&n.useContextAlpha!=="notMultiplied",stencil:!0,preserveDrawingBuffer:e.preserveDrawingBuffer,powerPreference:n.options.powerPreference}),n.renderingToScreen=!0,Op(n.context.webGLVersion===2?"WebGL 2":"WebGL 1"),n.resize(n.options.width,n.options.height),n}return r.create=function(e){if(Up())return new r(e);throw new Error('WebGL unsupported in this browser, use "pixi.js-legacy" for fallback canvas2d support.')},r.prototype.contextChange=function(){var e=this.gl,n;if(this.context.webGLVersion===1){var i=e.getParameter(e.FRAMEBUFFER_BINDING);e.bindFramebuffer(e.FRAMEBUFFER,null),n=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.FRAMEBUFFER,i)}else{var i=e.getParameter(e.DRAW_FRAMEBUFFER_BINDING);e.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),n=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.DRAW_FRAMEBUFFER,i)}n>=qt.HIGH?this.multisample=qt.HIGH:n>=qt.MEDIUM?this.multisample=qt.MEDIUM:n>=qt.LOW?this.multisample=qt.LOW:this.multisample=qt.NONE},r.prototype.addSystem=function(e,n){var i=new e(this);if(this[n])throw new Error('Whoops! The name "'+n+'" is already in use');this[n]=i;for(var a in this.runners)this.runners[a].add(i);return this},r.prototype.render=function(e,n){var i,a,s,o;if(n&&(n instanceof Mr?(Lr("6.0.0","Renderer#render arguments changed, use options instead."),i=n,a=arguments[2],s=arguments[3],o=arguments[4]):(i=n.renderTexture,a=n.clear,s=n.transform,o=n.skipUpdateTransform)),this.renderingToScreen=!i,this.runners.prerender.emit(),this.emit("prerender"),this.projection.transform=s,!this.context.isLost){if(i||(this._lastObjectRendered=e),!o){var u=e.enableTempParent();e.updateTransform(),e.disableTempParent(u)}this.renderTexture.bind(i),this.batch.currentRenderer.start(),(a!==void 0?a:this.clearBeforeRender)&&this.renderTexture.clear(),e.render(this),this.batch.currentRenderer.flush(),i&&i.baseTexture.update(),this.runners.postrender.emit(),this.projection.transform=null,this.emit("postrender")}},r.prototype.generateTexture=function(e,n,i,a){n===void 0&&(n={});var s=t.prototype.generateTexture.call(this,e,n,i,a);return this.framebuffer.blit(),s},r.prototype.resize=function(e,n){t.prototype.resize.call(this,e,n),this.runners.resize.emit(this.screen.height,this.screen.width)},r.prototype.reset=function(){return this.runners.reset.emit(),this},r.prototype.clear=function(){this.renderTexture.bind(),this.renderTexture.clear()},r.prototype.destroy=function(e){this.runners.destroy.emit();for(var n in this.runners)this.runners[n].destroy();t.prototype.destroy.call(this,e),this.gl=null},Object.defineProperty(r.prototype,"extract",{get:function(){return Lr("6.0.0","Renderer#extract has been deprecated, please use Renderer#plugins.extract instead."),this.plugins.extract},enumerable:!1,configurable:!0}),r.registerPlugin=function(e,n){r.__plugins=r.__plugins||{},r.__plugins[e]=n},r}(Kg);function Zg(t){return dr.create(t)}var Jg=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,Qg=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`,$g=Jg,Ic=Qg,lo=function(){function t(){this.texArray=null,this.blend=0,this.type=Ee.TRIANGLES,this.start=0,this.size=0,this.data=null}return t}(),co=function(){function t(){this.elements=[],this.ids=[],this.count=0}return t.prototype.clear=function(){for(var r=0;r<this.count;r++)this.elements[r]=null;this.count=0},t}(),po=function(){function t(r){typeof r=="number"?this.rawBinaryData=new ArrayBuffer(r):r instanceof Uint8Array?this.rawBinaryData=r.buffer:this.rawBinaryData=r,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}return Object.defineProperty(t.prototype,"int8View",{get:function(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"uint8View",{get:function(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"int16View",{get:function(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"uint16View",{get:function(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"int32View",{get:function(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View},enumerable:!1,configurable:!0}),t.prototype.view=function(r){return this[r+"View"]},t.prototype.destroy=function(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null},t.sizeOf=function(r){switch(r){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(r+" isn't a valid view type")}},t}(),ty=function(t){Lt(r,t);function r(e){var n=t.call(this,e)||this;return n.shaderGenerator=null,n.geometryClass=null,n.vertexSize=null,n.state=kr.for2d(),n.size=at.SPRITE_BATCH_SIZE*4,n._vertexCount=0,n._indexCount=0,n._bufferedElements=[],n._bufferedTextures=[],n._bufferSize=0,n._shader=null,n._packedGeometries=[],n._packedGeometryPoolSize=2,n._flushId=0,n._aBuffers={},n._iBuffers={},n.MAX_TEXTURES=1,n.renderer.on("prerender",n.onPrerender,n),e.runners.contextChange.add(n),n._dcIndex=0,n._aIndex=0,n._iIndex=0,n._attributeBuffer=null,n._indexBuffer=null,n._tempBoundTextures=[],n}return r.prototype.contextChange=function(){var e=this.renderer.gl;at.PREFER_ENV===qe.WEBGL_LEGACY?this.MAX_TEXTURES=1:(this.MAX_TEXTURES=Math.min(e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),at.SPRITE_MAX_TEXTURES),this.MAX_TEXTURES=yg(this.MAX_TEXTURES,e)),this._shader=this.shaderGenerator.generateShader(this.MAX_TEXTURES);for(var n=0;n<this._packedGeometryPoolSize;n++)this._packedGeometries[n]=new this.geometryClass;this.initFlushBuffers()},r.prototype.initFlushBuffers=function(){for(var e=r._drawCallPool,n=r._textureArrayPool,i=this.size/4,a=Math.floor(i/this.MAX_TEXTURES)+1;e.length<i;)e.push(new lo);for(;n.length<a;)n.push(new co);for(var s=0;s<this.MAX_TEXTURES;s++)this._tempBoundTextures[s]=null},r.prototype.onPrerender=function(){this._flushId=0},r.prototype.render=function(e){!e._texture.valid||(this._vertexCount+e.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=e.vertexData.length/2,this._indexCount+=e.indices.length,this._bufferedTextures[this._bufferSize]=e._texture.baseTexture,this._bufferedElements[this._bufferSize++]=e)},r.prototype.buildTexturesAndDrawCalls=function(){var e=this,n=e._bufferedTextures,i=e.MAX_TEXTURES,a=r._textureArrayPool,s=this.renderer.batch,o=this._tempBoundTextures,u=this.renderer.textureGC.count,h=++St._globalBatch,f=0,l=a[0],c=0;s.copyBoundTextures(o,i);for(var d=0;d<this._bufferSize;++d){var p=n[d];n[d]=null,p._batchEnabled!==h&&(l.count>=i&&(s.boundArray(l,o,h,i),this.buildDrawCalls(l,c,d),c=d,l=a[++f],++h),p._batchEnabled=h,p.touched=u,l.elements[l.count++]=p)}l.count>0&&(s.boundArray(l,o,h,i),this.buildDrawCalls(l,c,this._bufferSize),++f,++h);for(var d=0;d<o.length;d++)o[d]=null;St._globalBatch=h},r.prototype.buildDrawCalls=function(e,n,i){var a=this,s=a._bufferedElements,o=a._attributeBuffer,u=a._indexBuffer,h=a.vertexSize,f=r._drawCallPool,l=this._dcIndex,c=this._aIndex,d=this._iIndex,p=f[l];p.start=this._iIndex,p.texArray=e;for(var v=n;v<i;++v){var _=s[v],m=_._texture.baseTexture,b=Xl[m.alphaMode?1:0][_.blendMode];s[v]=null,n<v&&p.blend!==b&&(p.size=d-p.start,n=v,p=f[++l],p.texArray=e,p.start=d),this.packInterleavedGeometry(_,o,u,c,d),c+=_.vertexData.length/2*h,d+=_.indices.length,p.blend=b}n<i&&(p.size=d-p.start,++l),this._dcIndex=l,this._aIndex=c,this._iIndex=d},r.prototype.bindAndClearTexArray=function(e){for(var n=this.renderer.texture,i=0;i<e.count;i++)n.bind(e.elements[i],e.ids[i]),e.elements[i]=null;e.count=0},r.prototype.updateGeometry=function(){var e=this,n=e._packedGeometries,i=e._attributeBuffer,a=e._indexBuffer;at.CAN_UPLOAD_SAME_BUFFER?(n[this._flushId]._buffer.update(i.rawBinaryData),n[this._flushId]._indexBuffer.update(a),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,n[this._flushId]=new this.geometryClass),n[this._flushId]._buffer.update(i.rawBinaryData),n[this._flushId]._indexBuffer.update(a),this.renderer.geometry.bind(n[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)},r.prototype.drawBatches=function(){for(var e=this._dcIndex,n=this.renderer,i=n.gl,a=n.state,s=r._drawCallPool,o=null,u=0;u<e;u++){var h=s[u],f=h.texArray,l=h.type,c=h.size,d=h.start,p=h.blend;o!==f&&(o=f,this.bindAndClearTexArray(f)),this.state.blendMode=p,a.set(this.state),i.drawElements(l,c,i.UNSIGNED_SHORT,d*2)}},r.prototype.flush=function(){this._vertexCount!==0&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)},r.prototype.start=function(){this.renderer.state.set(this.state),this.renderer.texture.ensureSamplerType(this.MAX_TEXTURES),this.renderer.shader.bind(this._shader),at.CAN_UPLOAD_SAME_BUFFER&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])},r.prototype.stop=function(){this.flush()},r.prototype.destroy=function(){for(var e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]&&this._packedGeometries[e].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),t.prototype.destroy.call(this)},r.prototype.getAttributeBuffer=function(e){var n=ga(Math.ceil(e/8)),i=yh(n),a=n*8;this._aBuffers.length<=i&&(this._iBuffers.length=i+1);var s=this._aBuffers[a];return s||(this._aBuffers[a]=s=new po(a*this.vertexSize*4)),s},r.prototype.getIndexBuffer=function(e){var n=ga(Math.ceil(e/12)),i=yh(n),a=n*12;this._iBuffers.length<=i&&(this._iBuffers.length=i+1);var s=this._iBuffers[i];return s||(this._iBuffers[i]=s=new Uint16Array(a)),s},r.prototype.packInterleavedGeometry=function(e,n,i,a,s){for(var o=n.uint32View,u=n.float32View,h=a/this.vertexSize,f=e.uvs,l=e.indices,c=e.vertexData,d=e._texture.baseTexture._batchLocation,p=Math.min(e.worldAlpha,1),v=p<1&&e._texture.baseTexture.alphaMode?fu(e._tintRGB,p):e._tintRGB+(p*255<<24),_=0;_<c.length;_+=2)u[a++]=c[_],u[a++]=c[_+1],u[a++]=f[_],u[a++]=f[_+1],o[a++]=v,u[a++]=d;for(var _=0;_<l.length;_++)i[s++]=h+l[_]},r._drawCallPool=[],r._textureArrayPool=[],r}(Ha),ey=function(){function t(r,e){if(this.vertexSrc=r,this.fragTemplate=e,this.programCache={},this.defaultGroupCache={},e.indexOf("%count%")<0)throw new Error('Fragment template must contain "%count%".');if(e.indexOf("%forloop%")<0)throw new Error('Fragment template must contain "%forloop%".')}return t.prototype.generateShader=function(r){if(!this.programCache[r]){for(var e=new Int32Array(r),n=0;n<r;n++)e[n]=n;this.defaultGroupCache[r]=Sr.from({uSamplers:e},!0);var i=this.fragTemplate;i=i.replace(/%count%/gi,""+r),i=i.replace(/%forloop%/gi,this.generateSampleSrc(r)),this.programCache[r]=new wi(this.vertexSrc,i)}var a={tint:new Float32Array([1,1,1,1]),translationMatrix:new Wt,default:this.defaultGroupCache[r]};return new sr(this.programCache[r],a)},t.prototype.generateSampleSrc=function(r){var e="";e+=`
`,e+=`
`;for(var n=0;n<r;n++)n>0&&(e+=`
else `),n<r-1&&(e+="if(vTextureId < "+n+".5)"),e+=`
{`,e+=`
	color = texture2D(uSamplers[`+n+"], vTextureCoord);",e+=`
}`;return e+=`
`,e+=`
`,e},t}(),Cc=function(t){Lt(r,t);function r(e){e===void 0&&(e=!1);var n=t.call(this)||this;return n._buffer=new Jt(null,e,!1),n._indexBuffer=new Jt(null,e,!0),n.addAttribute("aVertexPosition",n._buffer,2,!1,dt.FLOAT).addAttribute("aTextureCoord",n._buffer,2,!1,dt.FLOAT).addAttribute("aColor",n._buffer,4,!0,dt.UNSIGNED_BYTE).addAttribute("aTextureId",n._buffer,1,!0,dt.FLOAT).addIndex(n._indexBuffer),n}return r}(Ei),tf=`precision highp float;
attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;
attribute float aTextureId;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform vec4 tint;

varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;

void main(void){
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vTextureId = aTextureId;
    vColor = aColor * tint;
}
`,ef=`varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;
uniform sampler2D uSamplers[%count%];

void main(void){
    vec4 color;
    %forloop%
    gl_FragColor = color * vColor;
}
`,ry=function(){function t(){}return t.create=function(r){var e=Object.assign({vertex:tf,fragment:ef,geometryClass:Cc,vertexSize:6},r),n=e.vertex,i=e.fragment,a=e.vertexSize,s=e.geometryClass;return function(o){Lt(u,o);function u(h){var f=o.call(this,h)||this;return f.shaderGenerator=new ey(n,i),f.geometryClass=s,f.vertexSize=a,f}return u}(ty)},Object.defineProperty(t,"defaultVertexSrc",{get:function(){return tf},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultFragmentTemplate",{get:function(){return ef},enumerable:!1,configurable:!0}),t}(),ny=ry.create(),iy={},ay=function(t){Object.defineProperty(iy,t,{get:function(){return Lr("6.0.0","PIXI.systems."+t+" has moved to PIXI."+t),tc[t]}})};for(var mu in tc)ay(mu);var sy={},oy=function(t){Object.defineProperty(sy,t,{get:function(){return Lr("6.0.0","PIXI.resources."+t+" has moved to PIXI."+t),xc[t]}})};for(var mu in xc)oy(mu);/*!
 * @pixi/app - v6.2.2
 * Compiled Wed, 26 Jan 2022 16:23:27 UTC
 *
 * @pixi/app is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var gu=function(){function t(r){var e=this;this.stage=new Ie,r=Object.assign({forceCanvas:!1},r),this.renderer=Zg(r),t._plugins.forEach(function(n){n.init.call(e,r)})}return t.registerPlugin=function(r){t._plugins.push(r)},t.prototype.render=function(){this.renderer.render(this.stage)},Object.defineProperty(t.prototype,"view",{get:function(){return this.renderer.view},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"screen",{get:function(){return this.renderer.screen},enumerable:!1,configurable:!0}),t.prototype.destroy=function(r,e){var n=this,i=t._plugins.slice(0);i.reverse(),i.forEach(function(a){a.destroy.call(n)}),this.stage.destroy(e),this.stage=null,this.renderer.destroy(r),this.renderer=null},t._plugins=[],t}(),uy=function(){function t(){}return t.init=function(r){var e=this;Object.defineProperty(this,"resizeTo",{set:function(n){self.removeEventListener("resize",this.queueResize),this._resizeTo=n,n&&(self.addEventListener("resize",this.queueResize),this.resize())},get:function(){return this._resizeTo}}),this.queueResize=function(){!e._resizeTo||(e.cancelResize(),e._resizeId=requestAnimationFrame(function(){return e.resize()}))},this.cancelResize=function(){e._resizeId&&(cancelAnimationFrame(e._resizeId),e._resizeId=null)},this.resize=function(){if(!!e._resizeTo){e.cancelResize();var n,i;if(e._resizeTo===self)n=self.innerWidth,i=self.innerHeight;else{var a=e._resizeTo,s=a.clientWidth,o=a.clientHeight;n=s,i=o}e.renderer.resize(n,i)}},this._resizeId=null,this._resizeTo=null,this.resizeTo=r.resizeTo||null},t.destroy=function(){self.removeEventListener("resize",this.queueResize),this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null},t}();gu.registerPlugin(uy);/*!
 * @pixi/extract - v6.2.2
 * Compiled Wed, 26 Jan 2022 16:23:27 UTC
 *
 * @pixi/extract is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var rf=new Pt,nf=4,hy=function(){function t(r){this.renderer=r}return t.prototype.image=function(r,e,n){var i=new Image;return i.src=this.base64(r,e,n),i},t.prototype.base64=function(r,e,n){return this.canvas(r).toDataURL(e,n)},t.prototype.canvas=function(r){var e=this.renderer,n,i,a=!1,s,o=!1;r&&(r instanceof Mr?s=r:(s=this.renderer.generateTexture(r),o=!0)),s?(n=s.baseTexture.resolution,i=s.frame,a=!1,e.renderTexture.bind(s)):(n=this.renderer.resolution,a=!0,i=rf,i.width=this.renderer.width,i.height=this.renderer.height,e.renderTexture.bind(null));var u=Math.floor(i.width*n+1e-4),h=Math.floor(i.height*n+1e-4),f=new Eh(u,h,1),l=new Uint8Array(nf*u*h),c=e.gl;c.readPixels(i.x*n,i.y*n,u,h,c.RGBA,c.UNSIGNED_BYTE,l);var d=f.context.getImageData(0,0,u,h);if(t.arrayPostDivide(l,d.data),f.context.putImageData(d,0,0),a){var p=new Eh(f.width,f.height,1);p.context.scale(1,-1),p.context.drawImage(f.canvas,0,-h),f.destroy(),f=p}return o&&s.destroy(!0),f.canvas},t.prototype.pixels=function(r){var e=this.renderer,n,i,a,s=!1;r&&(r instanceof Mr?a=r:(a=this.renderer.generateTexture(r),s=!0)),a?(n=a.baseTexture.resolution,i=a.frame,e.renderTexture.bind(a)):(n=e.resolution,i=rf,i.width=e.width,i.height=e.height,e.renderTexture.bind(null));var o=i.width*n,u=i.height*n,h=new Uint8Array(nf*o*u),f=e.gl;return f.readPixels(i.x*n,i.y*n,o,u,f.RGBA,f.UNSIGNED_BYTE,h),s&&a.destroy(!0),t.arrayPostDivide(h,h),h},t.prototype.destroy=function(){this.renderer=null},t.arrayPostDivide=function(r,e){for(var n=0;n<r.length;n+=4){var i=e[n+3]=r[n+3];i!==0?(e[n]=Math.round(Math.min(r[n]*255/i,255)),e[n+1]=Math.round(Math.min(r[n+1]*255/i,255)),e[n+2]=Math.round(Math.min(r[n+2]*255/i,255))):(e[n]=r[n],e[n+1]=r[n+1],e[n+2]=r[n+2])}},t}();/*!
 * @pixi/loaders - v6.2.2
 * Compiled Wed, 26 Jan 2022 16:23:27 UTC
 *
 * @pixi/loaders is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Wi=function(){function t(r,e,n){e===void 0&&(e=!1),this._fn=r,this._once=e,this._thisArg=n,this._next=this._prev=this._owner=null}return t.prototype.detach=function(){return this._owner===null?!1:(this._owner.detach(this),!0)},t}();function af(t,r){return t._head?(t._tail._next=r,r._prev=t._tail,t._tail=r):(t._head=r,t._tail=r),r._owner=t,r}var Xe=function(){function t(){this._head=this._tail=void 0}return t.prototype.handlers=function(r){r===void 0&&(r=!1);var e=this._head;if(r)return!!e;for(var n=[];e;)n.push(e),e=e._next;return n},t.prototype.has=function(r){if(!(r instanceof Wi))throw new Error("MiniSignal#has(): First arg must be a SignalBinding object.");return r._owner===this},t.prototype.dispatch=function(){for(var r=arguments,e=[],n=0;n<arguments.length;n++)e[n]=r[n];var i=this._head;if(!i)return!1;for(;i;)i._once&&this.detach(i),i._fn.apply(i._thisArg,e),i=i._next;return!0},t.prototype.add=function(r,e){if(e===void 0&&(e=null),typeof r!="function")throw new Error("MiniSignal#add(): First arg must be a Function.");return af(this,new Wi(r,!1,e))},t.prototype.once=function(r,e){if(e===void 0&&(e=null),typeof r!="function")throw new Error("MiniSignal#once(): First arg must be a Function.");return af(this,new Wi(r,!0,e))},t.prototype.detach=function(r){if(!(r instanceof Wi))throw new Error("MiniSignal#detach(): First arg must be a SignalBinding object.");return r._owner!==this?this:(r._prev&&(r._prev._next=r._next),r._next&&(r._next._prev=r._prev),r===this._head?(this._head=r._next,r._next===null&&(this._tail=null)):r===this._tail&&(this._tail=r._prev,this._tail._next=null),r._owner=null,this)},t.prototype.detachAll=function(){var r=this._head;if(!r)return this;for(this._head=this._tail=null;r;)r._owner=null,r=r._next;return this},t}();function Rc(t,r){r=r||{};for(var e={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},n=e.parser[r.strictMode?"strict":"loose"].exec(t),i={},a=14;a--;)i[e.key[a]]=n[a]||"";return i[e.q.name]={},i[e.key[12]].replace(e.q.parser,function(s,o,u){o&&(i[e.q.name][o]=u)}),i}var fy=!!(self.XDomainRequest&&!("withCredentials"in new XMLHttpRequest)),Ki=null,ly=0,sf=200,cy=204,dy=1223,py=2;function of(){}function uf(t,r,e){r&&r.indexOf(".")===0&&(r=r.substring(1)),r&&(t[r]=e)}function Ts(t){return t.toString().replace("object ","")}var Xt=function(){function t(r,e,n){if(this._dequeue=of,this._onLoadBinding=null,this._elementTimer=0,this._boundComplete=null,this._boundOnError=null,this._boundOnProgress=null,this._boundOnTimeout=null,this._boundXhrOnError=null,this._boundXhrOnTimeout=null,this._boundXhrOnAbort=null,this._boundXhrOnLoad=null,typeof r!="string"||typeof e!="string")throw new Error("Both name and url are required for constructing a resource.");n=n||{},this._flags=0,this._setFlag(t.STATUS_FLAGS.DATA_URL,e.indexOf("data:")===0),this.name=r,this.url=e,this.extension=this._getExtension(),this.data=null,this.crossOrigin=n.crossOrigin===!0?"anonymous":n.crossOrigin,this.timeout=n.timeout||0,this.loadType=n.loadType||this._determineLoadType(),this.xhrType=n.xhrType,this.metadata=n.metadata||{},this.error=null,this.xhr=null,this.children=[],this.type=t.TYPE.UNKNOWN,this.progressChunk=0,this._dequeue=of,this._onLoadBinding=null,this._elementTimer=0,this._boundComplete=this.complete.bind(this),this._boundOnError=this._onError.bind(this),this._boundOnProgress=this._onProgress.bind(this),this._boundOnTimeout=this._onTimeout.bind(this),this._boundXhrOnError=this._xhrOnError.bind(this),this._boundXhrOnTimeout=this._xhrOnTimeout.bind(this),this._boundXhrOnAbort=this._xhrOnAbort.bind(this),this._boundXhrOnLoad=this._xhrOnLoad.bind(this),this.onStart=new Xe,this.onProgress=new Xe,this.onComplete=new Xe,this.onAfterMiddleware=new Xe}return t.setExtensionLoadType=function(r,e){uf(t._loadTypeMap,r,e)},t.setExtensionXhrType=function(r,e){uf(t._xhrTypeMap,r,e)},Object.defineProperty(t.prototype,"isDataUrl",{get:function(){return this._hasFlag(t.STATUS_FLAGS.DATA_URL)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isComplete",{get:function(){return this._hasFlag(t.STATUS_FLAGS.COMPLETE)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isLoading",{get:function(){return this._hasFlag(t.STATUS_FLAGS.LOADING)},enumerable:!1,configurable:!0}),t.prototype.complete=function(){this._clearEvents(),this._finish()},t.prototype.abort=function(r){if(!this.error){if(this.error=new Error(r),this._clearEvents(),this.xhr)this.xhr.abort();else if(this.xdr)this.xdr.abort();else if(this.data)if(this.data.src)this.data.src=t.EMPTY_GIF;else for(;this.data.firstChild;)this.data.removeChild(this.data.firstChild);this._finish()}},t.prototype.load=function(r){var e=this;if(!this.isLoading){if(this.isComplete){r&&setTimeout(function(){return r(e)},1);return}else r&&this.onComplete.once(r);switch(this._setFlag(t.STATUS_FLAGS.LOADING,!0),this.onStart.dispatch(this),(this.crossOrigin===!1||typeof this.crossOrigin!="string")&&(this.crossOrigin=this._determineCrossOrigin(this.url)),this.loadType){case t.LOAD_TYPE.IMAGE:this.type=t.TYPE.IMAGE,this._loadElement("image");break;case t.LOAD_TYPE.AUDIO:this.type=t.TYPE.AUDIO,this._loadSourceElement("audio");break;case t.LOAD_TYPE.VIDEO:this.type=t.TYPE.VIDEO,this._loadSourceElement("video");break;case t.LOAD_TYPE.XHR:default:fy&&this.crossOrigin?this._loadXdr():this._loadXhr();break}}},t.prototype._hasFlag=function(r){return(this._flags&r)!==0},t.prototype._setFlag=function(r,e){this._flags=e?this._flags|r:this._flags&~r},t.prototype._clearEvents=function(){clearTimeout(this._elementTimer),this.data&&this.data.removeEventListener&&(this.data.removeEventListener("error",this._boundOnError,!1),this.data.removeEventListener("load",this._boundComplete,!1),this.data.removeEventListener("progress",this._boundOnProgress,!1),this.data.removeEventListener("canplaythrough",this._boundComplete,!1)),this.xhr&&(this.xhr.removeEventListener?(this.xhr.removeEventListener("error",this._boundXhrOnError,!1),this.xhr.removeEventListener("timeout",this._boundXhrOnTimeout,!1),this.xhr.removeEventListener("abort",this._boundXhrOnAbort,!1),this.xhr.removeEventListener("progress",this._boundOnProgress,!1),this.xhr.removeEventListener("load",this._boundXhrOnLoad,!1)):(this.xhr.onerror=null,this.xhr.ontimeout=null,this.xhr.onprogress=null,this.xhr.onload=null))},t.prototype._finish=function(){if(this.isComplete)throw new Error("Complete called again for an already completed resource.");this._setFlag(t.STATUS_FLAGS.COMPLETE,!0),this._setFlag(t.STATUS_FLAGS.LOADING,!1),this.onComplete.dispatch(this)},t.prototype._loadElement=function(r){this.metadata.loadElement?this.data=this.metadata.loadElement:r==="image"&&typeof self.Image!="undefined"?this.data=new Image:this.data=document.createElement(r),this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),this.metadata.skipSource||(this.data.src=this.url),this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))},t.prototype._loadSourceElement=function(r){if(this.metadata.loadElement?this.data=this.metadata.loadElement:r==="audio"&&typeof self.Audio!="undefined"?this.data=new Audio:this.data=document.createElement(r),this.data===null){this.abort("Unsupported element: "+r);return}if(this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),!this.metadata.skipSource)if(navigator.isCocoonJS)this.data.src=Array.isArray(this.url)?this.url[0]:this.url;else if(Array.isArray(this.url))for(var e=this.metadata.mimeType,n=0;n<this.url.length;++n)this.data.appendChild(this._createSource(r,this.url[n],Array.isArray(e)?e[n]:e));else{var e=this.metadata.mimeType;this.data.appendChild(this._createSource(r,this.url,Array.isArray(e)?e[0]:e))}this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.data.addEventListener("canplaythrough",this._boundComplete,!1),this.data.load(),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))},t.prototype._loadXhr=function(){typeof this.xhrType!="string"&&(this.xhrType=this._determineXhrType());var r=this.xhr=new XMLHttpRequest;r.open("GET",this.url,!0),r.timeout=this.timeout,this.xhrType===t.XHR_RESPONSE_TYPE.JSON||this.xhrType===t.XHR_RESPONSE_TYPE.DOCUMENT?r.responseType=t.XHR_RESPONSE_TYPE.TEXT:r.responseType=this.xhrType,r.addEventListener("error",this._boundXhrOnError,!1),r.addEventListener("timeout",this._boundXhrOnTimeout,!1),r.addEventListener("abort",this._boundXhrOnAbort,!1),r.addEventListener("progress",this._boundOnProgress,!1),r.addEventListener("load",this._boundXhrOnLoad,!1),r.send()},t.prototype._loadXdr=function(){typeof this.xhrType!="string"&&(this.xhrType=this._determineXhrType());var r=this.xhr=new self.XDomainRequest;r.timeout=this.timeout||5e3,r.onerror=this._boundXhrOnError,r.ontimeout=this._boundXhrOnTimeout,r.onprogress=this._boundOnProgress,r.onload=this._boundXhrOnLoad,r.open("GET",this.url,!0),setTimeout(function(){return r.send()},1)},t.prototype._createSource=function(r,e,n){n||(n=r+"/"+this._getExtension(e));var i=document.createElement("source");return i.src=e,i.type=n,i},t.prototype._onError=function(r){this.abort("Failed to load element using: "+r.target.nodeName)},t.prototype._onProgress=function(r){r&&r.lengthComputable&&this.onProgress.dispatch(this,r.loaded/r.total)},t.prototype._onTimeout=function(){this.abort("Load timed out.")},t.prototype._xhrOnError=function(){var r=this.xhr;this.abort(Ts(r)+" Request failed. Status: "+r.status+', text: "'+r.statusText+'"')},t.prototype._xhrOnTimeout=function(){var r=this.xhr;this.abort(Ts(r)+" Request timed out.")},t.prototype._xhrOnAbort=function(){var r=this.xhr;this.abort(Ts(r)+" Request was aborted by the user.")},t.prototype._xhrOnLoad=function(){var r=this.xhr,e="",n=typeof r.status=="undefined"?sf:r.status;(r.responseType===""||r.responseType==="text"||typeof r.responseType=="undefined")&&(e=r.responseText),n===ly&&(e.length>0||r.responseType===t.XHR_RESPONSE_TYPE.BUFFER)?n=sf:n===dy&&(n=cy);var i=n/100|0;if(i===py)if(this.xhrType===t.XHR_RESPONSE_TYPE.TEXT)this.data=e,this.type=t.TYPE.TEXT;else if(this.xhrType===t.XHR_RESPONSE_TYPE.JSON)try{this.data=JSON.parse(e),this.type=t.TYPE.JSON}catch(o){this.abort("Error trying to parse loaded json: "+o);return}else if(this.xhrType===t.XHR_RESPONSE_TYPE.DOCUMENT)try{if(self.DOMParser){var a=new DOMParser;this.data=a.parseFromString(e,"text/xml")}else{var s=document.createElement("div");s.innerHTML=e,this.data=s}this.type=t.TYPE.XML}catch(o){this.abort("Error trying to parse loaded xml: "+o);return}else this.data=r.response||e;else{this.abort("["+r.status+"] "+r.statusText+": "+r.responseURL);return}this.complete()},t.prototype._determineCrossOrigin=function(r,e){if(r.indexOf("data:")===0)return"";if(self.origin!==self.location.origin)return"anonymous";e=e||self.location,Ki||(Ki=document.createElement("a")),Ki.href=r;var n=Rc(Ki.href,{strictMode:!0}),i=!n.port&&e.port===""||n.port===e.port,a=n.protocol?n.protocol+":":"";return n.host!==e.hostname||!i||a!==e.protocol?"anonymous":""},t.prototype._determineXhrType=function(){return t._xhrTypeMap[this.extension]||t.XHR_RESPONSE_TYPE.TEXT},t.prototype._determineLoadType=function(){return t._loadTypeMap[this.extension]||t.LOAD_TYPE.XHR},t.prototype._getExtension=function(r){r===void 0&&(r=this.url);var e="";if(this.isDataUrl){var n=r.indexOf("/");e=r.substring(n+1,r.indexOf(";",n))}else{var i=r.indexOf("?"),a=r.indexOf("#"),s=Math.min(i>-1?i:r.length,a>-1?a:r.length);r=r.substring(0,s),e=r.substring(r.lastIndexOf(".")+1)}return e.toLowerCase()},t.prototype._getMimeFromXhrType=function(r){switch(r){case t.XHR_RESPONSE_TYPE.BUFFER:return"application/octet-binary";case t.XHR_RESPONSE_TYPE.BLOB:return"application/blob";case t.XHR_RESPONSE_TYPE.DOCUMENT:return"application/xml";case t.XHR_RESPONSE_TYPE.JSON:return"application/json";case t.XHR_RESPONSE_TYPE.DEFAULT:case t.XHR_RESPONSE_TYPE.TEXT:default:return"text/plain"}},t}();(function(t){(function(r){r[r.NONE=0]="NONE",r[r.DATA_URL=1]="DATA_URL",r[r.COMPLETE=2]="COMPLETE",r[r.LOADING=4]="LOADING"})(t.STATUS_FLAGS||(t.STATUS_FLAGS={})),function(r){r[r.UNKNOWN=0]="UNKNOWN",r[r.JSON=1]="JSON",r[r.XML=2]="XML",r[r.IMAGE=3]="IMAGE",r[r.AUDIO=4]="AUDIO",r[r.VIDEO=5]="VIDEO",r[r.TEXT=6]="TEXT"}(t.TYPE||(t.TYPE={})),function(r){r[r.XHR=1]="XHR",r[r.IMAGE=2]="IMAGE",r[r.AUDIO=3]="AUDIO",r[r.VIDEO=4]="VIDEO"}(t.LOAD_TYPE||(t.LOAD_TYPE={})),function(r){r.DEFAULT="text",r.BUFFER="arraybuffer",r.BLOB="blob",r.DOCUMENT="document",r.JSON="json",r.TEXT="text"}(t.XHR_RESPONSE_TYPE||(t.XHR_RESPONSE_TYPE={})),t._loadTypeMap={gif:t.LOAD_TYPE.IMAGE,png:t.LOAD_TYPE.IMAGE,bmp:t.LOAD_TYPE.IMAGE,jpg:t.LOAD_TYPE.IMAGE,jpeg:t.LOAD_TYPE.IMAGE,tif:t.LOAD_TYPE.IMAGE,tiff:t.LOAD_TYPE.IMAGE,webp:t.LOAD_TYPE.IMAGE,tga:t.LOAD_TYPE.IMAGE,svg:t.LOAD_TYPE.IMAGE,"svg+xml":t.LOAD_TYPE.IMAGE,mp3:t.LOAD_TYPE.AUDIO,ogg:t.LOAD_TYPE.AUDIO,wav:t.LOAD_TYPE.AUDIO,mp4:t.LOAD_TYPE.VIDEO,webm:t.LOAD_TYPE.VIDEO},t._xhrTypeMap={xhtml:t.XHR_RESPONSE_TYPE.DOCUMENT,html:t.XHR_RESPONSE_TYPE.DOCUMENT,htm:t.XHR_RESPONSE_TYPE.DOCUMENT,xml:t.XHR_RESPONSE_TYPE.DOCUMENT,tmx:t.XHR_RESPONSE_TYPE.DOCUMENT,svg:t.XHR_RESPONSE_TYPE.DOCUMENT,tsx:t.XHR_RESPONSE_TYPE.DOCUMENT,gif:t.XHR_RESPONSE_TYPE.BLOB,png:t.XHR_RESPONSE_TYPE.BLOB,bmp:t.XHR_RESPONSE_TYPE.BLOB,jpg:t.XHR_RESPONSE_TYPE.BLOB,jpeg:t.XHR_RESPONSE_TYPE.BLOB,tif:t.XHR_RESPONSE_TYPE.BLOB,tiff:t.XHR_RESPONSE_TYPE.BLOB,webp:t.XHR_RESPONSE_TYPE.BLOB,tga:t.XHR_RESPONSE_TYPE.BLOB,json:t.XHR_RESPONSE_TYPE.JSON,text:t.XHR_RESPONSE_TYPE.TEXT,txt:t.XHR_RESPONSE_TYPE.TEXT,ttf:t.XHR_RESPONSE_TYPE.BUFFER,otf:t.XHR_RESPONSE_TYPE.BUFFER},t.EMPTY_GIF="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw=="})(Xt||(Xt={}));function br(){}function vy(t){return function(){for(var e=arguments,n=[],i=0;i<arguments.length;i++)n[i]=e[i];if(t===null)throw new Error("Callback was already called.");var a=t;t=null,a.apply(this,n)}}var _y=function(){function t(r,e){this.data=r,this.callback=e}return t}(),Es=function(){function t(r,e){var n=this;if(e===void 0&&(e=1),this.workers=0,this.saturated=br,this.unsaturated=br,this.empty=br,this.drain=br,this.error=br,this.started=!1,this.paused=!1,this._tasks=[],this._insert=function(i,a,s){if(s&&typeof s!="function")throw new Error("task callback must be a function");if(n.started=!0,i==null&&n.idle()){setTimeout(function(){return n.drain()},1);return}var o=new _y(i,typeof s=="function"?s:br);a?n._tasks.unshift(o):n._tasks.push(o),setTimeout(n.process,1)},this.process=function(){for(;!n.paused&&n.workers<n.concurrency&&n._tasks.length;){var i=n._tasks.shift();n._tasks.length===0&&n.empty(),n.workers+=1,n.workers===n.concurrency&&n.saturated(),n._worker(i.data,vy(n._next(i)))}},this._worker=r,e===0)throw new Error("Concurrency must not be zero");this.concurrency=e,this.buffer=e/4}return t.prototype._next=function(r){var e=this;return function(){for(var n=arguments,i=[],a=0;a<arguments.length;a++)i[a]=n[a];e.workers-=1,r.callback.apply(r,i),i[0]!=null&&e.error(i[0],r.data),e.workers<=e.concurrency-e.buffer&&e.unsaturated(),e.idle()&&e.drain(),e.process()}},t.prototype.push=function(r,e){this._insert(r,!1,e)},t.prototype.kill=function(){this.workers=0,this.drain=br,this.started=!1,this._tasks=[]},t.prototype.unshift=function(r,e){this._insert(r,!0,e)},t.prototype.length=function(){return this._tasks.length},t.prototype.running=function(){return this.workers},t.prototype.idle=function(){return this._tasks.length+this.workers===0},t.prototype.pause=function(){this.paused!==!0&&(this.paused=!0)},t.prototype.resume=function(){if(this.paused!==!1){this.paused=!1;for(var r=1;r<=this.concurrency;r++)this.process()}},t.eachSeries=function(r,e,n,i){var a=0,s=r.length;function o(u){if(u||a===s){n&&n(u);return}i?setTimeout(function(){e(r[a++],o)},1):e(r[a++],o)}o()},t.queue=function(r,e){return new t(r,e)},t}(),ws=100,my=/(#[\w-]+)?$/,Ue=function(){function t(r,e){var n=this;r===void 0&&(r=""),e===void 0&&(e=10),this.progress=0,this.loading=!1,this.defaultQueryString="",this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(u,h){return n._loadResource(u,h)},this.resources={},this.baseUrl=r,this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(u,h){return n._loadResource(u,h)},this._queue=Es.queue(this._boundLoadResource,e),this._queue.pause(),this.resources={},this.onProgress=new Xe,this.onError=new Xe,this.onLoad=new Xe,this.onStart=new Xe,this.onComplete=new Xe;for(var i=0;i<t._plugins.length;++i){var a=t._plugins[i],s=a.pre,o=a.use;s&&this.pre(s),o&&this.use(o)}this._protected=!1}return t.prototype._add=function(r,e,n,i){if(this.loading&&(!n||!n.parentResource))throw new Error("Cannot add resources while the loader is running.");if(this.resources[r])throw new Error('Resource named "'+r+'" already exists.');if(e=this._prepareUrl(e),this.resources[r]=new Xt(r,e,n),typeof i=="function"&&this.resources[r].onAfterMiddleware.once(i),this.loading){for(var a=n.parentResource,s=[],o=0;o<a.children.length;++o)a.children[o].isComplete||s.push(a.children[o]);var u=a.progressChunk*(s.length+1),h=u/(s.length+2);a.children.push(this.resources[r]),a.progressChunk=h;for(var o=0;o<s.length;++o)s[o].progressChunk=h;this.resources[r].progressChunk=h}return this._queue.push(this.resources[r]),this},t.prototype.pre=function(r){return this._beforeMiddleware.push(r),this},t.prototype.use=function(r){return this._afterMiddleware.push(r),this},t.prototype.reset=function(){this.progress=0,this.loading=!1,this._queue.kill(),this._queue.pause();for(var r in this.resources){var e=this.resources[r];e._onLoadBinding&&e._onLoadBinding.detach(),e.isLoading&&e.abort("loader reset")}return this.resources={},this},t.prototype.load=function(r){if(typeof r=="function"&&this.onComplete.once(r),this.loading)return this;if(this._queue.idle())this._onStart(),this._onComplete();else{for(var e=this._queue._tasks.length,n=ws/e,i=0;i<this._queue._tasks.length;++i)this._queue._tasks[i].data.progressChunk=n;this._onStart(),this._queue.resume()}return this},Object.defineProperty(t.prototype,"concurrency",{get:function(){return this._queue.concurrency},set:function(r){this._queue.concurrency=r},enumerable:!1,configurable:!0}),t.prototype._prepareUrl=function(r){var e=Rc(r,{strictMode:!0}),n;if(e.protocol||!e.path||r.indexOf("//")===0?n=r:this.baseUrl.length&&this.baseUrl.lastIndexOf("/")!==this.baseUrl.length-1&&r.charAt(0)!=="/"?n=this.baseUrl+"/"+r:n=this.baseUrl+r,this.defaultQueryString){var i=my.exec(n)[0];n=n.substr(0,n.length-i.length),n.indexOf("?")!==-1?n+="&"+this.defaultQueryString:n+="?"+this.defaultQueryString,n+=i}return n},t.prototype._loadResource=function(r,e){var n=this;r._dequeue=e,Es.eachSeries(this._beforeMiddleware,function(i,a){i.call(n,r,function(){a(r.isComplete?{}:null)})},function(){r.isComplete?n._onLoad(r):(r._onLoadBinding=r.onComplete.once(n._onLoad,n),r.load())},!0)},t.prototype._onStart=function(){this.progress=0,this.loading=!0,this.onStart.dispatch(this)},t.prototype._onComplete=function(){this.progress=ws,this.loading=!1,this.onComplete.dispatch(this,this.resources)},t.prototype._onLoad=function(r){var e=this;r._onLoadBinding=null,this._resourcesParsing.push(r),r._dequeue(),Es.eachSeries(this._afterMiddleware,function(n,i){n.call(e,r,i)},function(){r.onAfterMiddleware.dispatch(r),e.progress=Math.min(ws,e.progress+r.progressChunk),e.onProgress.dispatch(e,r),r.error?e.onError.dispatch(r.error,e,r):e.onLoad.dispatch(e,r),e._resourcesParsing.splice(e._resourcesParsing.indexOf(r),1),e._queue.idle()&&e._resourcesParsing.length===0&&e._onComplete()},!0)},t.prototype.destroy=function(){this._protected||this.reset()},Object.defineProperty(t,"shared",{get:function(){var r=t._shared;return r||(r=new t,r._protected=!0,t._shared=r),r},enumerable:!1,configurable:!0}),t.registerPlugin=function(r){return t._plugins.push(r),r.add&&r.add(),t},t._plugins=[],t}();Ue.prototype.add=function(r,e,n,i){if(Array.isArray(r)){for(var a=0;a<r.length;++a)this.add(r[a]);return this}if(typeof r=="object"&&(n=r,i=e||n.callback||n.onComplete,e=n.url,r=n.name||n.key||n.url),typeof e!="string"&&(i=n,n=e,e=r),typeof e!="string")throw new Error("No url passed to add resource to loader.");return typeof n=="function"&&(i=n,n=null),this._add(r,e,n,i)};var gy=function(){function t(){}return t.init=function(r){r=Object.assign({sharedLoader:!1},r),this.loader=r.sharedLoader?Ue.shared:new Ue},t.destroy=function(){this.loader&&(this.loader.destroy(),this.loader=null)},t}(),yy=function(){function t(){}return t.add=function(){Xt.setExtensionLoadType("svg",Xt.LOAD_TYPE.XHR),Xt.setExtensionXhrType("svg",Xt.XHR_RESPONSE_TYPE.TEXT)},t.use=function(r,e){if(r.data&&(r.type===Xt.TYPE.IMAGE||r.extension==="svg")){var n=r.data,i=r.url,a=r.name,s=r.metadata;mt.fromLoader(n,i,a,s).then(function(o){r.texture=o,e()}).catch(e)}else e()},t}(),by="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function Ty(t){for(var r="",e=0;e<t.length;){for(var n=[0,0,0],i=[0,0,0,0],a=0;a<n.length;++a)e<t.length?n[a]=t.charCodeAt(e++)&255:n[a]=0;i[0]=n[0]>>2,i[1]=(n[0]&3)<<4|n[1]>>4,i[2]=(n[1]&15)<<2|n[2]>>6,i[3]=n[2]&63;var s=e-(t.length-1);switch(s){case 2:i[3]=64,i[2]=64;break;case 1:i[3]=64;break}for(var a=0;a<i.length;++a)r+=by.charAt(i[a])}return r}var hf=self.URL||self.webkitURL;function Ey(t,r){if(!t.data){r();return}if(t.xhr&&t.xhrType===Xt.XHR_RESPONSE_TYPE.BLOB){if(!self.Blob||typeof t.data=="string"){var e=t.xhr.getResponseHeader("content-type");if(e&&e.indexOf("image")===0){t.data=new Image,t.data.src="data:"+e+";base64,"+Ty(t.xhr.responseText),t.type=Xt.TYPE.IMAGE,t.data.onload=function(){t.data.onload=null,r()};return}}else if(t.data.type.indexOf("image")===0){var n=hf.createObjectURL(t.data);t.blob=t.data,t.data=new Image,t.data.src=n,t.type=Xt.TYPE.IMAGE,t.data.onload=function(){hf.revokeObjectURL(n),t.data.onload=null,r()};return}}r()}Ue.registerPlugin({use:Ey});Ue.registerPlugin(yy);/*!
 * @pixi/compressed-textures - v6.2.2
 * Compiled Wed, 26 Jan 2022 16:23:27 UTC
 *
 * @pixi/compressed-textures is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Ut,xt;(function(t){t[t.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT=35917]="COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT=35918]="COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT=35919]="COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT",t[t.COMPRESSED_SRGB_S3TC_DXT1_EXT=35916]="COMPRESSED_SRGB_S3TC_DXT1_EXT",t[t.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",t[t.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",t[t.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",t[t.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",t[t.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",t[t.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC",t[t.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2",t[t.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC",t[t.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_RGB_PVRTC_4BPPV1_IMG=35840]="COMPRESSED_RGB_PVRTC_4BPPV1_IMG",t[t.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=35842]="COMPRESSED_RGBA_PVRTC_4BPPV1_IMG",t[t.COMPRESSED_RGB_PVRTC_2BPPV1_IMG=35841]="COMPRESSED_RGB_PVRTC_2BPPV1_IMG",t[t.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG=35843]="COMPRESSED_RGBA_PVRTC_2BPPV1_IMG",t[t.COMPRESSED_RGB_ETC1_WEBGL=36196]="COMPRESSED_RGB_ETC1_WEBGL",t[t.COMPRESSED_RGB_ATC_WEBGL=35986]="COMPRESSED_RGB_ATC_WEBGL",t[t.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL=35986]="COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL",t[t.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL=34798]="COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL"})(xt||(xt={}));var Ea=(Ut={},Ut[xt.COMPRESSED_RGB_S3TC_DXT1_EXT]=.5,Ut[xt.COMPRESSED_RGBA_S3TC_DXT1_EXT]=.5,Ut[xt.COMPRESSED_RGBA_S3TC_DXT3_EXT]=1,Ut[xt.COMPRESSED_RGBA_S3TC_DXT5_EXT]=1,Ut[xt.COMPRESSED_SRGB_S3TC_DXT1_EXT]=.5,Ut[xt.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT]=.5,Ut[xt.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT]=1,Ut[xt.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT]=1,Ut[xt.COMPRESSED_R11_EAC]=.5,Ut[xt.COMPRESSED_SIGNED_R11_EAC]=.5,Ut[xt.COMPRESSED_RG11_EAC]=1,Ut[xt.COMPRESSED_SIGNED_RG11_EAC]=1,Ut[xt.COMPRESSED_RGB8_ETC2]=.5,Ut[xt.COMPRESSED_RGBA8_ETC2_EAC]=1,Ut[xt.COMPRESSED_SRGB8_ETC2]=.5,Ut[xt.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC]=1,Ut[xt.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2]=.5,Ut[xt.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2]=.5,Ut[xt.COMPRESSED_RGB_PVRTC_4BPPV1_IMG]=.5,Ut[xt.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG]=.5,Ut[xt.COMPRESSED_RGB_PVRTC_2BPPV1_IMG]=.25,Ut[xt.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG]=.25,Ut[xt.COMPRESSED_RGB_ETC1_WEBGL]=.5,Ut[xt.COMPRESSED_RGB_ATC_WEBGL]=.5,Ut[xt.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL]=1,Ut[xt.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL]=1,Ut);/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var vo=function(t,r){return vo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)n.hasOwnProperty(i)&&(e[i]=n[i])},vo(t,r)};function Ac(t,r){vo(t,r);function e(){this.constructor=t}t.prototype=r===null?Object.create(r):(e.prototype=r.prototype,new e)}function wy(t,r,e,n){return new(e||(e=Promise))(function(i,a){function s(h){try{u(n.next(h))}catch(f){a(f)}}function o(h){try{u(n.throw(h))}catch(f){a(f)}}function u(h){h.done?i(h.value):new e(function(f){f(h.value)}).then(s,o)}u((n=n.apply(t,r||[])).next())})}function xy(t,r){var e={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,s;return s={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function o(h){return function(f){return u([h,f])}}function u(h){if(n)throw new TypeError("Generator is already executing.");for(;e;)try{if(n=1,i&&(a=h[0]&2?i.return:h[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,h[1])).done)return a;switch(i=0,a&&(h=[h[0]&2,a.value]),h[0]){case 0:case 1:a=h;break;case 4:return e.label++,{value:h[1],done:!1};case 5:e.label++,i=h[1],h=[0];continue;case 7:h=e.ops.pop(),e.trys.pop();continue;default:if(a=e.trys,!(a=a.length>0&&a[a.length-1])&&(h[0]===6||h[0]===2)){e=0;continue}if(h[0]===3&&(!a||h[1]>a[0]&&h[1]<a[3])){e.label=h[1];break}if(h[0]===6&&e.label<a[1]){e.label=a[1],a=h;break}if(a&&e.label<a[2]){e.label=a[2],e.ops.push(h);break}a[2]&&e.ops.pop(),e.trys.pop();continue}h=r.call(t,e)}catch(f){h=[6,f],i=0}finally{n=a=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}}var Iy=function(t){Ac(r,t);function r(e,n){n===void 0&&(n={width:1,height:1,autoLoad:!0});var i=this,a,s;return typeof e=="string"?(a=e,s=new Uint8Array):(a=null,s=e),i=t.call(this,s,n)||this,i.origin=a,i.buffer=s?new po(s):null,i.origin&&n.autoLoad!==!1&&i.load(),s&&s.length&&(i.loaded=!0,i.onBlobLoaded(i.buffer.rawBinaryData)),i}return r.prototype.onBlobLoaded=function(e){},r.prototype.load=function(){return wy(this,void 0,Promise,function(){var e,n,i;return xy(this,function(a){switch(a.label){case 0:return[4,fetch(this.origin)];case 1:return e=a.sent(),[4,e.blob()];case 2:return n=a.sent(),[4,n.arrayBuffer()];case 3:return i=a.sent(),this.data=new Uint32Array(i),this.buffer=new po(i),this.loaded=!0,this.onBlobLoaded(i),this.update(),[2,this]}})})},r}(Ti),_o=function(t){Ac(r,t);function r(e,n){var i=t.call(this,e,n)||this;return i.format=n.format,i.levels=n.levels||1,i._width=n.width,i._height=n.height,i._extension=r._formatToExtension(i.format),(n.levelBuffers||i.buffer)&&(i._levelBuffers=n.levelBuffers||r._createLevelBuffers(e instanceof Uint8Array?e:i.buffer.uint8View,i.format,i.levels,4,4,i.width,i.height)),i}return r.prototype.upload=function(e,n,i){var a=e.gl,s=e.context.extensions[this._extension];if(!s)throw new Error(this._extension+" textures are not supported on the current machine");if(!this._levelBuffers)return!1;for(var o=0,u=this.levels;o<u;o++){var h=this._levelBuffers[o],f=h.levelID,l=h.levelWidth,c=h.levelHeight,d=h.levelBuffer;a.compressedTexImage2D(a.TEXTURE_2D,f,this.format,l,c,0,d)}return!0},r.prototype.onBlobLoaded=function(){this._levelBuffers=r._createLevelBuffers(this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height)},r._formatToExtension=function(e){if(e>=33776&&e<=33779)return"s3tc";if(e>=37488&&e<=37497)return"etc";if(e>=35840&&e<=35843)return"pvrtc";if(e>=36196)return"etc1";if(e>=35986&&e<=34798)return"atc";throw new Error("Invalid (compressed) texture format given!")},r._createLevelBuffers=function(e,n,i,a,s,o,u){for(var h=new Array(i),f=e.byteOffset,l=o,c=u,d=l+a-1&~(a-1),p=c+s-1&~(s-1),v=d*p*Ea[n],_=0;_<i;_++)h[_]={levelID:_,levelWidth:i>1?l:d,levelHeight:i>1?c:p,levelBuffer:new Uint8Array(e.buffer,f,v)},f+=v,l=l>>1||1,c=c>>1||1,d=l+a-1&~(a-1),p=c+s-1&~(s-1),v=d*p*Ea[n];return h},r}(Iy),Cy=function(){function t(){}return t.use=function(r,e){var n=r.data,i=this;if(r.type===Xt.TYPE.JSON&&n&&n.cacheID&&n.textures){for(var a=n.textures,s=void 0,o=void 0,u=0,h=a.length;u<h;u++){var f=a[u],l=f.src,c=f.format;if(c||(o=l),t.textureFormats[c]){s=l;break}}if(s=s||o,!s){e(new Error("Cannot load compressed-textures in "+r.url+", make sure you provide a fallback"));return}if(s===r.url){e(new Error("URL of compressed texture cannot be the same as the manifest's URL"));return}var d={crossOrigin:r.crossOrigin,metadata:r.metadata.imageMetadata,parentResource:r},p=Qr.resolve(r.url.replace(i.baseUrl,""),s),v=n.cacheID;i.add(v,p,d,function(_){if(_.error){e(_.error);return}var m=_.texture,b=m===void 0?null:m,T=_.textures,w=T===void 0?{}:T;Object.assign(r,{texture:b,textures:w}),e()})}else e()},t.add=function(){var r=document.createElement("canvas"),e=r.getContext("webgl");if(!e){console.warn("WebGL not available for compressed textures. Silently failing.");return}var n={s3tc:e.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:e.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:e.getExtension("WEBGL_compressed_texture_etc"),etc1:e.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:e.getExtension("WEBGL_compressed_texture_atc"),astc:e.getExtension("WEBGL_compressed_texture_astc")};t.textureExtensions=n,t.textureFormats={};for(var i in n){var a=n[i];!a||Object.assign(t.textureFormats,Object.getPrototypeOf(a))}},t}();function Pc(t,r,e){var n={textures:{},texture:null};if(!r)return n;var i=r.map(function(a){return new mt(new St(a,Object.assign({mipmap:ur.OFF,alphaMode:Oe.NO_PREMULTIPLIED_ALPHA},e)))});return i.forEach(function(a,s){var o=a.baseTexture,u=t+"-"+(s+1);St.addToCache(o,u),mt.addToCache(a,u),s===0&&(St.addToCache(o,t),mt.addToCache(a,t),n.texture=a),n.textures[u]=a}),n}var Dn,ye;Xt.setExtensionXhrType("dds",Xt.XHR_RESPONSE_TYPE.BUFFER);var xs=4,Yi=124,Ry=32,ff=20,Ay=542327876,qi={SIZE:1,FLAGS:2,HEIGHT:3,WIDTH:4,MIPMAP_COUNT:7,PIXEL_FORMAT:19},Py={SIZE:0,FLAGS:1,FOURCC:2,RGB_BITCOUNT:3,R_BIT_MASK:4,G_BIT_MASK:5,B_BIT_MASK:6,A_BIT_MASK:7},Zi={DXGI_FORMAT:0,RESOURCE_DIMENSION:1,MISC_FLAG:2,ARRAY_SIZE:3,MISC_FLAGS2:4},Te;(function(t){t[t.DXGI_FORMAT_UNKNOWN=0]="DXGI_FORMAT_UNKNOWN",t[t.DXGI_FORMAT_R32G32B32A32_TYPELESS=1]="DXGI_FORMAT_R32G32B32A32_TYPELESS",t[t.DXGI_FORMAT_R32G32B32A32_FLOAT=2]="DXGI_FORMAT_R32G32B32A32_FLOAT",t[t.DXGI_FORMAT_R32G32B32A32_UINT=3]="DXGI_FORMAT_R32G32B32A32_UINT",t[t.DXGI_FORMAT_R32G32B32A32_SINT=4]="DXGI_FORMAT_R32G32B32A32_SINT",t[t.DXGI_FORMAT_R32G32B32_TYPELESS=5]="DXGI_FORMAT_R32G32B32_TYPELESS",t[t.DXGI_FORMAT_R32G32B32_FLOAT=6]="DXGI_FORMAT_R32G32B32_FLOAT",t[t.DXGI_FORMAT_R32G32B32_UINT=7]="DXGI_FORMAT_R32G32B32_UINT",t[t.DXGI_FORMAT_R32G32B32_SINT=8]="DXGI_FORMAT_R32G32B32_SINT",t[t.DXGI_FORMAT_R16G16B16A16_TYPELESS=9]="DXGI_FORMAT_R16G16B16A16_TYPELESS",t[t.DXGI_FORMAT_R16G16B16A16_FLOAT=10]="DXGI_FORMAT_R16G16B16A16_FLOAT",t[t.DXGI_FORMAT_R16G16B16A16_UNORM=11]="DXGI_FORMAT_R16G16B16A16_UNORM",t[t.DXGI_FORMAT_R16G16B16A16_UINT=12]="DXGI_FORMAT_R16G16B16A16_UINT",t[t.DXGI_FORMAT_R16G16B16A16_SNORM=13]="DXGI_FORMAT_R16G16B16A16_SNORM",t[t.DXGI_FORMAT_R16G16B16A16_SINT=14]="DXGI_FORMAT_R16G16B16A16_SINT",t[t.DXGI_FORMAT_R32G32_TYPELESS=15]="DXGI_FORMAT_R32G32_TYPELESS",t[t.DXGI_FORMAT_R32G32_FLOAT=16]="DXGI_FORMAT_R32G32_FLOAT",t[t.DXGI_FORMAT_R32G32_UINT=17]="DXGI_FORMAT_R32G32_UINT",t[t.DXGI_FORMAT_R32G32_SINT=18]="DXGI_FORMAT_R32G32_SINT",t[t.DXGI_FORMAT_R32G8X24_TYPELESS=19]="DXGI_FORMAT_R32G8X24_TYPELESS",t[t.DXGI_FORMAT_D32_FLOAT_S8X24_UINT=20]="DXGI_FORMAT_D32_FLOAT_S8X24_UINT",t[t.DXGI_FORMAT_R32_FLOAT_X8X24_TYPELESS=21]="DXGI_FORMAT_R32_FLOAT_X8X24_TYPELESS",t[t.DXGI_FORMAT_X32_TYPELESS_G8X24_UINT=22]="DXGI_FORMAT_X32_TYPELESS_G8X24_UINT",t[t.DXGI_FORMAT_R10G10B10A2_TYPELESS=23]="DXGI_FORMAT_R10G10B10A2_TYPELESS",t[t.DXGI_FORMAT_R10G10B10A2_UNORM=24]="DXGI_FORMAT_R10G10B10A2_UNORM",t[t.DXGI_FORMAT_R10G10B10A2_UINT=25]="DXGI_FORMAT_R10G10B10A2_UINT",t[t.DXGI_FORMAT_R11G11B10_FLOAT=26]="DXGI_FORMAT_R11G11B10_FLOAT",t[t.DXGI_FORMAT_R8G8B8A8_TYPELESS=27]="DXGI_FORMAT_R8G8B8A8_TYPELESS",t[t.DXGI_FORMAT_R8G8B8A8_UNORM=28]="DXGI_FORMAT_R8G8B8A8_UNORM",t[t.DXGI_FORMAT_R8G8B8A8_UNORM_SRGB=29]="DXGI_FORMAT_R8G8B8A8_UNORM_SRGB",t[t.DXGI_FORMAT_R8G8B8A8_UINT=30]="DXGI_FORMAT_R8G8B8A8_UINT",t[t.DXGI_FORMAT_R8G8B8A8_SNORM=31]="DXGI_FORMAT_R8G8B8A8_SNORM",t[t.DXGI_FORMAT_R8G8B8A8_SINT=32]="DXGI_FORMAT_R8G8B8A8_SINT",t[t.DXGI_FORMAT_R16G16_TYPELESS=33]="DXGI_FORMAT_R16G16_TYPELESS",t[t.DXGI_FORMAT_R16G16_FLOAT=34]="DXGI_FORMAT_R16G16_FLOAT",t[t.DXGI_FORMAT_R16G16_UNORM=35]="DXGI_FORMAT_R16G16_UNORM",t[t.DXGI_FORMAT_R16G16_UINT=36]="DXGI_FORMAT_R16G16_UINT",t[t.DXGI_FORMAT_R16G16_SNORM=37]="DXGI_FORMAT_R16G16_SNORM",t[t.DXGI_FORMAT_R16G16_SINT=38]="DXGI_FORMAT_R16G16_SINT",t[t.DXGI_FORMAT_R32_TYPELESS=39]="DXGI_FORMAT_R32_TYPELESS",t[t.DXGI_FORMAT_D32_FLOAT=40]="DXGI_FORMAT_D32_FLOAT",t[t.DXGI_FORMAT_R32_FLOAT=41]="DXGI_FORMAT_R32_FLOAT",t[t.DXGI_FORMAT_R32_UINT=42]="DXGI_FORMAT_R32_UINT",t[t.DXGI_FORMAT_R32_SINT=43]="DXGI_FORMAT_R32_SINT",t[t.DXGI_FORMAT_R24G8_TYPELESS=44]="DXGI_FORMAT_R24G8_TYPELESS",t[t.DXGI_FORMAT_D24_UNORM_S8_UINT=45]="DXGI_FORMAT_D24_UNORM_S8_UINT",t[t.DXGI_FORMAT_R24_UNORM_X8_TYPELESS=46]="DXGI_FORMAT_R24_UNORM_X8_TYPELESS",t[t.DXGI_FORMAT_X24_TYPELESS_G8_UINT=47]="DXGI_FORMAT_X24_TYPELESS_G8_UINT",t[t.DXGI_FORMAT_R8G8_TYPELESS=48]="DXGI_FORMAT_R8G8_TYPELESS",t[t.DXGI_FORMAT_R8G8_UNORM=49]="DXGI_FORMAT_R8G8_UNORM",t[t.DXGI_FORMAT_R8G8_UINT=50]="DXGI_FORMAT_R8G8_UINT",t[t.DXGI_FORMAT_R8G8_SNORM=51]="DXGI_FORMAT_R8G8_SNORM",t[t.DXGI_FORMAT_R8G8_SINT=52]="DXGI_FORMAT_R8G8_SINT",t[t.DXGI_FORMAT_R16_TYPELESS=53]="DXGI_FORMAT_R16_TYPELESS",t[t.DXGI_FORMAT_R16_FLOAT=54]="DXGI_FORMAT_R16_FLOAT",t[t.DXGI_FORMAT_D16_UNORM=55]="DXGI_FORMAT_D16_UNORM",t[t.DXGI_FORMAT_R16_UNORM=56]="DXGI_FORMAT_R16_UNORM",t[t.DXGI_FORMAT_R16_UINT=57]="DXGI_FORMAT_R16_UINT",t[t.DXGI_FORMAT_R16_SNORM=58]="DXGI_FORMAT_R16_SNORM",t[t.DXGI_FORMAT_R16_SINT=59]="DXGI_FORMAT_R16_SINT",t[t.DXGI_FORMAT_R8_TYPELESS=60]="DXGI_FORMAT_R8_TYPELESS",t[t.DXGI_FORMAT_R8_UNORM=61]="DXGI_FORMAT_R8_UNORM",t[t.DXGI_FORMAT_R8_UINT=62]="DXGI_FORMAT_R8_UINT",t[t.DXGI_FORMAT_R8_SNORM=63]="DXGI_FORMAT_R8_SNORM",t[t.DXGI_FORMAT_R8_SINT=64]="DXGI_FORMAT_R8_SINT",t[t.DXGI_FORMAT_A8_UNORM=65]="DXGI_FORMAT_A8_UNORM",t[t.DXGI_FORMAT_R1_UNORM=66]="DXGI_FORMAT_R1_UNORM",t[t.DXGI_FORMAT_R9G9B9E5_SHAREDEXP=67]="DXGI_FORMAT_R9G9B9E5_SHAREDEXP",t[t.DXGI_FORMAT_R8G8_B8G8_UNORM=68]="DXGI_FORMAT_R8G8_B8G8_UNORM",t[t.DXGI_FORMAT_G8R8_G8B8_UNORM=69]="DXGI_FORMAT_G8R8_G8B8_UNORM",t[t.DXGI_FORMAT_BC1_TYPELESS=70]="DXGI_FORMAT_BC1_TYPELESS",t[t.DXGI_FORMAT_BC1_UNORM=71]="DXGI_FORMAT_BC1_UNORM",t[t.DXGI_FORMAT_BC1_UNORM_SRGB=72]="DXGI_FORMAT_BC1_UNORM_SRGB",t[t.DXGI_FORMAT_BC2_TYPELESS=73]="DXGI_FORMAT_BC2_TYPELESS",t[t.DXGI_FORMAT_BC2_UNORM=74]="DXGI_FORMAT_BC2_UNORM",t[t.DXGI_FORMAT_BC2_UNORM_SRGB=75]="DXGI_FORMAT_BC2_UNORM_SRGB",t[t.DXGI_FORMAT_BC3_TYPELESS=76]="DXGI_FORMAT_BC3_TYPELESS",t[t.DXGI_FORMAT_BC3_UNORM=77]="DXGI_FORMAT_BC3_UNORM",t[t.DXGI_FORMAT_BC3_UNORM_SRGB=78]="DXGI_FORMAT_BC3_UNORM_SRGB",t[t.DXGI_FORMAT_BC4_TYPELESS=79]="DXGI_FORMAT_BC4_TYPELESS",t[t.DXGI_FORMAT_BC4_UNORM=80]="DXGI_FORMAT_BC4_UNORM",t[t.DXGI_FORMAT_BC4_SNORM=81]="DXGI_FORMAT_BC4_SNORM",t[t.DXGI_FORMAT_BC5_TYPELESS=82]="DXGI_FORMAT_BC5_TYPELESS",t[t.DXGI_FORMAT_BC5_UNORM=83]="DXGI_FORMAT_BC5_UNORM",t[t.DXGI_FORMAT_BC5_SNORM=84]="DXGI_FORMAT_BC5_SNORM",t[t.DXGI_FORMAT_B5G6R5_UNORM=85]="DXGI_FORMAT_B5G6R5_UNORM",t[t.DXGI_FORMAT_B5G5R5A1_UNORM=86]="DXGI_FORMAT_B5G5R5A1_UNORM",t[t.DXGI_FORMAT_B8G8R8A8_UNORM=87]="DXGI_FORMAT_B8G8R8A8_UNORM",t[t.DXGI_FORMAT_B8G8R8X8_UNORM=88]="DXGI_FORMAT_B8G8R8X8_UNORM",t[t.DXGI_FORMAT_R10G10B10_XR_BIAS_A2_UNORM=89]="DXGI_FORMAT_R10G10B10_XR_BIAS_A2_UNORM",t[t.DXGI_FORMAT_B8G8R8A8_TYPELESS=90]="DXGI_FORMAT_B8G8R8A8_TYPELESS",t[t.DXGI_FORMAT_B8G8R8A8_UNORM_SRGB=91]="DXGI_FORMAT_B8G8R8A8_UNORM_SRGB",t[t.DXGI_FORMAT_B8G8R8X8_TYPELESS=92]="DXGI_FORMAT_B8G8R8X8_TYPELESS",t[t.DXGI_FORMAT_B8G8R8X8_UNORM_SRGB=93]="DXGI_FORMAT_B8G8R8X8_UNORM_SRGB",t[t.DXGI_FORMAT_BC6H_TYPELESS=94]="DXGI_FORMAT_BC6H_TYPELESS",t[t.DXGI_FORMAT_BC6H_UF16=95]="DXGI_FORMAT_BC6H_UF16",t[t.DXGI_FORMAT_BC6H_SF16=96]="DXGI_FORMAT_BC6H_SF16",t[t.DXGI_FORMAT_BC7_TYPELESS=97]="DXGI_FORMAT_BC7_TYPELESS",t[t.DXGI_FORMAT_BC7_UNORM=98]="DXGI_FORMAT_BC7_UNORM",t[t.DXGI_FORMAT_BC7_UNORM_SRGB=99]="DXGI_FORMAT_BC7_UNORM_SRGB",t[t.DXGI_FORMAT_AYUV=100]="DXGI_FORMAT_AYUV",t[t.DXGI_FORMAT_Y410=101]="DXGI_FORMAT_Y410",t[t.DXGI_FORMAT_Y416=102]="DXGI_FORMAT_Y416",t[t.DXGI_FORMAT_NV12=103]="DXGI_FORMAT_NV12",t[t.DXGI_FORMAT_P010=104]="DXGI_FORMAT_P010",t[t.DXGI_FORMAT_P016=105]="DXGI_FORMAT_P016",t[t.DXGI_FORMAT_420_OPAQUE=106]="DXGI_FORMAT_420_OPAQUE",t[t.DXGI_FORMAT_YUY2=107]="DXGI_FORMAT_YUY2",t[t.DXGI_FORMAT_Y210=108]="DXGI_FORMAT_Y210",t[t.DXGI_FORMAT_Y216=109]="DXGI_FORMAT_Y216",t[t.DXGI_FORMAT_NV11=110]="DXGI_FORMAT_NV11",t[t.DXGI_FORMAT_AI44=111]="DXGI_FORMAT_AI44",t[t.DXGI_FORMAT_IA44=112]="DXGI_FORMAT_IA44",t[t.DXGI_FORMAT_P8=113]="DXGI_FORMAT_P8",t[t.DXGI_FORMAT_A8P8=114]="DXGI_FORMAT_A8P8",t[t.DXGI_FORMAT_B4G4R4A4_UNORM=115]="DXGI_FORMAT_B4G4R4A4_UNORM",t[t.DXGI_FORMAT_P208=116]="DXGI_FORMAT_P208",t[t.DXGI_FORMAT_V208=117]="DXGI_FORMAT_V208",t[t.DXGI_FORMAT_V408=118]="DXGI_FORMAT_V408",t[t.DXGI_FORMAT_SAMPLER_FEEDBACK_MIN_MIP_OPAQUE=119]="DXGI_FORMAT_SAMPLER_FEEDBACK_MIN_MIP_OPAQUE",t[t.DXGI_FORMAT_SAMPLER_FEEDBACK_MIP_REGION_USED_OPAQUE=120]="DXGI_FORMAT_SAMPLER_FEEDBACK_MIP_REGION_USED_OPAQUE",t[t.DXGI_FORMAT_FORCE_UINT=121]="DXGI_FORMAT_FORCE_UINT"})(Te||(Te={}));var mo;(function(t){t[t.DDS_DIMENSION_TEXTURE1D=2]="DDS_DIMENSION_TEXTURE1D",t[t.DDS_DIMENSION_TEXTURE2D=3]="DDS_DIMENSION_TEXTURE2D",t[t.DDS_DIMENSION_TEXTURE3D=6]="DDS_DIMENSION_TEXTURE3D"})(mo||(mo={}));var Ny=1,Sy=2,Oy=4,Uy=64,Fy=512,By=131072,Ly=827611204,My=861165636,Gy=894720068,Dy=808540228,ky=4,Hy=(Dn={},Dn[Ly]=xt.COMPRESSED_RGBA_S3TC_DXT1_EXT,Dn[My]=xt.COMPRESSED_RGBA_S3TC_DXT3_EXT,Dn[Gy]=xt.COMPRESSED_RGBA_S3TC_DXT5_EXT,Dn),Xy=(ye={},ye[Te.DXGI_FORMAT_BC1_TYPELESS]=xt.COMPRESSED_RGBA_S3TC_DXT1_EXT,ye[Te.DXGI_FORMAT_BC1_UNORM]=xt.COMPRESSED_RGBA_S3TC_DXT1_EXT,ye[Te.DXGI_FORMAT_BC2_TYPELESS]=xt.COMPRESSED_RGBA_S3TC_DXT3_EXT,ye[Te.DXGI_FORMAT_BC2_UNORM]=xt.COMPRESSED_RGBA_S3TC_DXT3_EXT,ye[Te.DXGI_FORMAT_BC3_TYPELESS]=xt.COMPRESSED_RGBA_S3TC_DXT5_EXT,ye[Te.DXGI_FORMAT_BC3_UNORM]=xt.COMPRESSED_RGBA_S3TC_DXT5_EXT,ye[Te.DXGI_FORMAT_BC1_UNORM_SRGB]=xt.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,ye[Te.DXGI_FORMAT_BC2_UNORM_SRGB]=xt.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,ye[Te.DXGI_FORMAT_BC3_UNORM_SRGB]=xt.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT,ye),jy=function(){function t(){}return t.use=function(r,e){if(r.extension==="dds"&&r.data)try{Object.assign(r,Pc(r.name||r.url,t.parse(r.data),r.metadata))}catch(n){e(n);return}e()},t.parse=function(r){var e=new Uint32Array(r),n=e[0];if(n!==Ay)throw new Error("Invalid DDS file magic word");var i=new Uint32Array(r,0,Yi/Uint32Array.BYTES_PER_ELEMENT),a=i[qi.HEIGHT],s=i[qi.WIDTH],o=i[qi.MIPMAP_COUNT],u=new Uint32Array(r,qi.PIXEL_FORMAT*Uint32Array.BYTES_PER_ELEMENT,Ry/Uint32Array.BYTES_PER_ELEMENT),h=u[Ny];if(h&Oy){var f=u[Py.FOURCC];if(f!==Dy){var l=Hy[f],c=xs+Yi,d=new Uint8Array(r,c),p=new _o(d,{format:l,width:s,height:a,levels:o});return[p]}var v=xs+Yi,_=new Uint32Array(e.buffer,v,ff/Uint32Array.BYTES_PER_ELEMENT),m=_[Zi.DXGI_FORMAT],b=_[Zi.RESOURCE_DIMENSION],T=_[Zi.MISC_FLAG],w=_[Zi.ARRAY_SIZE],y=Xy[m];if(y===void 0)throw new Error("DDSLoader cannot parse texture data with DXGI format "+m);if(T===ky)throw new Error("DDSLoader does not support cubemap textures");if(b===mo.DDS_DIMENSION_TEXTURE3D)throw new Error("DDSLoader does not supported 3D texture data");var g=new Array,N=xs+Yi+ff;if(w===1)g.push(new Uint8Array(r,N));else{for(var P=Ea[y],C=0,O=s,H=a,k=0;k<o;k++){var j=Math.max(1,O+3&-4),Z=Math.max(1,H+3&-4),F=j*Z*P;C+=F,O=O>>>1,H=H>>>1}for(var X=N,k=0;k<w;k++)g.push(new Uint8Array(r,X,C)),X+=C}return g.map(function(z){return new _o(z,{format:y,width:s,height:a,levels:o})})}throw h&Uy?new Error("DDSLoader does not support uncompressed texture data."):h&Fy?new Error("DDSLoader does not supported YUV uncompressed texture data."):h&By?new Error("DDSLoader does not support single-channel (lumninance) texture data!"):h&Sy?new Error("DDSLoader does not support single-channel (alpha) texture data!"):new Error("DDSLoader failed to load a texture file due to an unknown reason!")},t}(),jr,Tr,kn;Xt.setExtensionXhrType("ktx",Xt.XHR_RESPONSE_TYPE.BUFFER);var lf=[171,75,84,88,32,49,49,187,13,10,26,10],Vy=67305985,be={FILE_IDENTIFIER:0,ENDIANNESS:12,GL_TYPE:16,GL_TYPE_SIZE:20,GL_FORMAT:24,GL_INTERNAL_FORMAT:28,GL_BASE_INTERNAL_FORMAT:32,PIXEL_WIDTH:36,PIXEL_HEIGHT:40,PIXEL_DEPTH:44,NUMBER_OF_ARRAY_ELEMENTS:48,NUMBER_OF_FACES:52,NUMBER_OF_MIPMAP_LEVELS:56,BYTES_OF_KEY_VALUE_DATA:60},zy=64,cf=(jr={},jr[dt.UNSIGNED_BYTE]=1,jr[dt.UNSIGNED_SHORT]=2,jr[dt.FLOAT]=4,jr[dt.HALF_FLOAT]=8,jr),Wy=(Tr={},Tr[$.RGBA]=4,Tr[$.RGB]=3,Tr[$.LUMINANCE]=1,Tr[$.LUMINANCE_ALPHA]=2,Tr[$.ALPHA]=1,Tr),Ky=(kn={},kn[dt.UNSIGNED_SHORT_4_4_4_4]=2,kn[dt.UNSIGNED_SHORT_5_5_5_1]=2,kn[dt.UNSIGNED_SHORT_5_6_5]=2,kn),Yy=function(){function t(){}return t.use=function(r,e){if(r.extension==="ktx"&&r.data)try{var n=r.name||r.url;Object.assign(r,Pc(n,t.parse(n,r.data),r.metadata))}catch(i){e(i);return}e()},t.parse=function(r,e){var n=new DataView(e);if(!t.validate(r,n))return null;var i=n.getUint32(be.ENDIANNESS,!0)===Vy,a=n.getUint32(be.GL_TYPE,i),s=n.getUint32(be.GL_FORMAT,i),o=n.getUint32(be.GL_INTERNAL_FORMAT,i),u=n.getUint32(be.PIXEL_WIDTH,i),h=n.getUint32(be.PIXEL_HEIGHT,i)||1,f=n.getUint32(be.PIXEL_DEPTH,i)||1,l=n.getUint32(be.NUMBER_OF_ARRAY_ELEMENTS,i)||1,c=n.getUint32(be.NUMBER_OF_FACES,i),d=n.getUint32(be.NUMBER_OF_MIPMAP_LEVELS,i),p=n.getUint32(be.BYTES_OF_KEY_VALUE_DATA,i);if(h===0||f!==1)throw new Error("Only 2D textures are supported");if(c!==1)throw new Error("CubeTextures are not supported by KTXLoader yet!");if(l!==1)throw new Error("WebGL does not support array textures");var v=4,_=4,m=u+3&-4,b=h+3&-4,T=new Array(l),w=u*h;a===0&&(w=m*b);var y;if(a!==0?cf[a]?y=cf[a]*Wy[s]:y=Ky[a]:y=Ea[o],y===void 0)throw new Error("Unable to resolve the pixel format stored in the *.ktx file!");for(var g=w*y,N=g,P=u,C=h,O=m,H=b,k=zy+p,j=0;j<d;j++){for(var Z=n.getUint32(k,i),F=k+4,X=0;X<l;X++){var z=T[X];z||(z=T[X]=new Array(d)),z[j]={levelID:j,levelWidth:d>1?P:O,levelHeight:d>1?C:H,levelBuffer:new Uint8Array(e,F,N)},F+=N}k+=Z+4,k=k%4!==0?k+4-k%4:k,P=P>>1||1,C=C>>1||1,O=P+v-1&~(v-1),H=C+_-1&~(_-1),N=O*H*y}if(a!==0)throw new Error("TODO: Uncompressed");return T.map(function(A){return new _o(null,{format:o,width:u,height:h,levels:d,levelBuffers:A})})},t.validate=function(r,e){for(var n=0;n<lf.length;n++)if(e.getUint8(n)!==lf[n])return console.error(r+" is not a valid *.ktx file!"),!1;return!0},t}();/*!
 * @pixi/particle-container - v6.2.2
 * Compiled Wed, 26 Jan 2022 16:23:27 UTC
 *
 * @pixi/particle-container is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var go=function(t,r){return go=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)n.hasOwnProperty(i)&&(e[i]=n[i])},go(t,r)};function Nc(t,r){go(t,r);function e(){this.constructor=t}t.prototype=r===null?Object.create(r):(e.prototype=r.prototype,new e)}(function(t){Nc(r,t);function r(e,n,i,a){e===void 0&&(e=1500),i===void 0&&(i=16384),a===void 0&&(a=!1);var s=t.call(this)||this,o=16384;return i>o&&(i=o),s._properties=[!1,!0,!1,!1,!1],s._maxSize=e,s._batchSize=i,s._buffers=null,s._bufferUpdateIDs=[],s._updateID=0,s.interactiveChildren=!1,s.blendMode=ht.NORMAL,s.autoResize=a,s.roundPixels=!0,s.baseTexture=null,s.setProperties(n),s._tint=0,s.tintRgb=new Float32Array(4),s.tint=16777215,s}return r.prototype.setProperties=function(e){e&&(this._properties[0]="vertices"in e||"scale"in e?!!e.vertices||!!e.scale:this._properties[0],this._properties[1]="position"in e?!!e.position:this._properties[1],this._properties[2]="rotation"in e?!!e.rotation:this._properties[2],this._properties[3]="uvs"in e?!!e.uvs:this._properties[3],this._properties[4]="tint"in e||"alpha"in e?!!e.tint||!!e.alpha:this._properties[4])},r.prototype.updateTransform=function(){this.displayObjectUpdateTransform()},Object.defineProperty(r.prototype,"tint",{get:function(){return this._tint},set:function(e){this._tint=e,sn(e,this.tintRgb)},enumerable:!1,configurable:!0}),r.prototype.render=function(e){var n=this;!this.visible||this.worldAlpha<=0||!this.children.length||!this.renderable||(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.valid||this.baseTexture.once("update",function(){return n.onChildrenChange(0)})),e.batch.setObjectRenderer(e.plugins.particle),e.plugins.particle.render(this))},r.prototype.onChildrenChange=function(e){for(var n=Math.floor(e/this._batchSize);this._bufferUpdateIDs.length<n;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[n]=++this._updateID},r.prototype.dispose=function(){if(this._buffers){for(var e=0;e<this._buffers.length;++e)this._buffers[e].destroy();this._buffers=null}},r.prototype.destroy=function(e){t.prototype.destroy.call(this,e),this.dispose(),this._properties=null,this._buffers=null,this._bufferUpdateIDs=null},r})(Ie);var df=function(){function t(r,e,n){this.geometry=new Ei,this.indexBuffer=null,this.size=n,this.dynamicProperties=[],this.staticProperties=[];for(var i=0;i<r.length;++i){var a=r[i];a={attributeName:a.attributeName,size:a.size,uploadFunction:a.uploadFunction,type:a.type||dt.FLOAT,offset:a.offset},e[i]?this.dynamicProperties.push(a):this.staticProperties.push(a)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}return t.prototype.initBuffers=function(){var r=this.geometry,e=0;this.indexBuffer=new Jt(wm(this.size),!0,!0),r.addIndex(this.indexBuffer),this.dynamicStride=0;for(var n=0;n<this.dynamicProperties.length;++n){var i=this.dynamicProperties[n];i.offset=e,e+=i.size,this.dynamicStride+=i.size}var a=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(a),this.dynamicDataUint32=new Uint32Array(a),this.dynamicBuffer=new Jt(this.dynamicData,!1,!1);var s=0;this.staticStride=0;for(var n=0;n<this.staticProperties.length;++n){var i=this.staticProperties[n];i.offset=s,s+=i.size,this.staticStride+=i.size}var o=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(o),this.staticDataUint32=new Uint32Array(o),this.staticBuffer=new Jt(this.staticData,!0,!1);for(var n=0;n<this.dynamicProperties.length;++n){var i=this.dynamicProperties[n];r.addAttribute(i.attributeName,this.dynamicBuffer,0,i.type===dt.UNSIGNED_BYTE,i.type,this.dynamicStride*4,i.offset*4)}for(var n=0;n<this.staticProperties.length;++n){var i=this.staticProperties[n];r.addAttribute(i.attributeName,this.staticBuffer,0,i.type===dt.UNSIGNED_BYTE,i.type,this.staticStride*4,i.offset*4)}},t.prototype.uploadDynamic=function(r,e,n){for(var i=0;i<this.dynamicProperties.length;i++){var a=this.dynamicProperties[i];a.uploadFunction(r,e,n,a.type===dt.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,a.offset)}this.dynamicBuffer._updateID++},t.prototype.uploadStatic=function(r,e,n){for(var i=0;i<this.staticProperties.length;i++){var a=this.staticProperties[i];a.uploadFunction(r,e,n,a.type===dt.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,a.offset)}this.staticBuffer._updateID++},t.prototype.destroy=function(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()},t}(),qy=`varying vec2 vTextureCoord;
varying vec4 vColor;

uniform sampler2D uSampler;

void main(void){
    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;
    gl_FragColor = color;
}`,Zy=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;

attribute vec2 aPositionCoord;
attribute float aRotation;

uniform mat3 translationMatrix;
uniform vec4 uColor;

varying vec2 vTextureCoord;
varying vec4 vColor;

void main(void){
    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);
    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);

    vec2 v = vec2(x, y);
    v = v + aPositionCoord;

    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vColor = aColor * uColor;
}
`,Jy=function(t){Nc(r,t);function r(e){var n=t.call(this,e)||this;return n.shader=null,n.properties=null,n.tempMatrix=new Wt,n.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:n.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:n.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:n.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:n.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:dt.UNSIGNED_BYTE,uploadFunction:n.uploadTint,offset:0}],n.shader=sr.from(Zy,qy,{}),n.state=kr.for2d(),n}return r.prototype.render=function(e){var n=e.children,i=e._maxSize,a=e._batchSize,s=this.renderer,o=n.length;if(o!==0){o>i&&!e.autoResize&&(o=i);var u=e._buffers;u||(u=e._buffers=this.generateBuffers(e));var h=n[0]._texture.baseTexture;this.state.blendMode=jl(e.blendMode,h.alphaMode),s.state.set(this.state);var f=s.gl,l=e.worldTransform.copyTo(this.tempMatrix);l.prepend(s.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=l.toArray(!0),this.shader.uniforms.uColor=Em(e.tintRgb,e.worldAlpha,this.shader.uniforms.uColor,h.alphaMode),this.shader.uniforms.uSampler=h,this.renderer.shader.bind(this.shader);for(var c=!1,d=0,p=0;d<o;d+=a,p+=1){var v=o-d;v>a&&(v=a),p>=u.length&&u.push(this._generateOneMoreBuffer(e));var _=u[p];_.uploadDynamic(n,d,v);var m=e._bufferUpdateIDs[p]||0;c=c||_._updateID<m,c&&(_._updateID=e._updateID,_.uploadStatic(n,d,v)),s.geometry.bind(_.geometry),f.drawElements(f.TRIANGLES,v*6,f.UNSIGNED_SHORT,0)}}},r.prototype.generateBuffers=function(e){for(var n=[],i=e._maxSize,a=e._batchSize,s=e._properties,o=0;o<i;o+=a)n.push(new df(this.properties,s,a));return n},r.prototype._generateOneMoreBuffer=function(e){var n=e._batchSize,i=e._properties;return new df(this.properties,i,n)},r.prototype.uploadVertices=function(e,n,i,a,s,o){for(var u=0,h=0,f=0,l=0,c=0;c<i;++c){var d=e[n+c],p=d._texture,v=d.scale.x,_=d.scale.y,m=p.trim,b=p.orig;m?(h=m.x-d.anchor.x*b.width,u=h+m.width,l=m.y-d.anchor.y*b.height,f=l+m.height):(u=b.width*(1-d.anchor.x),h=b.width*-d.anchor.x,f=b.height*(1-d.anchor.y),l=b.height*-d.anchor.y),a[o]=h*v,a[o+1]=l*_,a[o+s]=u*v,a[o+s+1]=l*_,a[o+s*2]=u*v,a[o+s*2+1]=f*_,a[o+s*3]=h*v,a[o+s*3+1]=f*_,o+=s*4}},r.prototype.uploadPosition=function(e,n,i,a,s,o){for(var u=0;u<i;u++){var h=e[n+u].position;a[o]=h.x,a[o+1]=h.y,a[o+s]=h.x,a[o+s+1]=h.y,a[o+s*2]=h.x,a[o+s*2+1]=h.y,a[o+s*3]=h.x,a[o+s*3+1]=h.y,o+=s*4}},r.prototype.uploadRotation=function(e,n,i,a,s,o){for(var u=0;u<i;u++){var h=e[n+u].rotation;a[o]=h,a[o+s]=h,a[o+s*2]=h,a[o+s*3]=h,o+=s*4}},r.prototype.uploadUvs=function(e,n,i,a,s,o){for(var u=0;u<i;++u){var h=e[n+u]._texture._uvs;h?(a[o]=h.x0,a[o+1]=h.y0,a[o+s]=h.x1,a[o+s+1]=h.y1,a[o+s*2]=h.x2,a[o+s*2+1]=h.y2,a[o+s*3]=h.x3,a[o+s*3+1]=h.y3,o+=s*4):(a[o]=0,a[o+1]=0,a[o+s]=0,a[o+s+1]=0,a[o+s*2]=0,a[o+s*2+1]=0,a[o+s*3]=0,a[o+s*3+1]=0,o+=s*4)}},r.prototype.uploadTint=function(e,n,i,a,s,o){for(var u=0;u<i;++u){var h=e[n+u],f=h._texture.baseTexture.alphaMode>0,l=h.alpha,c=l<1&&f?fu(h._tintRGB,l):h._tintRGB+(l*255<<24);a[o]=c,a[o+s]=c,a[o+s*2]=c,a[o+s*3]=c,o+=s*4}},r.prototype.destroy=function(){t.prototype.destroy.call(this),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null},r}(Ha);/*!
 * @pixi/graphics - v6.2.2
 * Compiled Wed, 26 Jan 2022 16:23:27 UTC
 *
 * @pixi/graphics is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var nr;(function(t){t.MITER="miter",t.BEVEL="bevel",t.ROUND="round"})(nr||(nr={}));var ir;(function(t){t.BUTT="butt",t.ROUND="round",t.SQUARE="square"})(ir||(ir={}));var ai={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount:function(t,r){if(r===void 0&&(r=20),!this.adaptive||!t||isNaN(t))return r;var e=Math.ceil(t/this.maxLength);return e<this.minSegments?e=this.minSegments:e>this.maxSegments&&(e=this.maxSegments),e}},Sc=function(){function t(){this.color=16777215,this.alpha=1,this.texture=mt.WHITE,this.matrix=null,this.visible=!1,this.reset()}return t.prototype.clone=function(){var r=new t;return r.color=this.color,r.alpha=this.alpha,r.texture=this.texture,r.matrix=this.matrix,r.visible=this.visible,r},t.prototype.reset=function(){this.color=16777215,this.alpha=1,this.texture=mt.WHITE,this.matrix=null,this.visible=!1},t.prototype.destroy=function(){this.texture=null,this.matrix=null},t}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var yo=function(t,r){return yo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)n.hasOwnProperty(i)&&(e[i]=n[i])},yo(t,r)};function yu(t,r){yo(t,r);function e(){this.constructor=t}t.prototype=r===null?Object.create(r):(e.prototype=r.prototype,new e)}var Oc={build:function(t){t.points=t.shape.points.slice()},triangulate:function(t,r){var e=t.points,n=t.holes,i=r.points,a=r.indices;if(e.length>=6){for(var s=[],o=0;o<n.length;o++){var u=n[o];s.push(e.length/2),e=e.concat(u.points)}var h=Dl(e,s,2);if(!h)return;for(var f=i.length/2,o=0;o<h.length;o+=3)a.push(h[o]+f),a.push(h[o+1]+f),a.push(h[o+2]+f);for(var o=0;o<e.length;o++)i.push(e[o])}}},pf={build:function(t){var r=t.shape,e=t.points,n=r.x,i=r.y,a,s;if(e.length=0,t.type===Vt.CIRC)a=r.radius,s=r.radius;else{var o=t.shape;a=o.width,s=o.height}if(!(a===0||s===0)){var u=Math.floor(30*Math.sqrt(r.radius))||Math.floor(15*Math.sqrt(a+s));u/=2.3;for(var h=Math.PI*2/u,f=0;f<u-.5;f++)e.push(n+Math.sin(-h*f)*a,i+Math.cos(-h*f)*s);e.push(e[0],e[1])}},triangulate:function(t,r){var e=t.points,n=r.points,i=r.indices,a=n.length/2,s=a,o=t.shape,u=t.matrix,h=o.x,f=o.y;n.push(t.matrix?u.a*h+u.c*f+u.tx:h,t.matrix?u.b*h+u.d*f+u.ty:f);for(var l=0;l<e.length;l+=2)n.push(e[l],e[l+1]),i.push(a++,s,a)}},Qy={build:function(t){var r=t.shape,e=r.x,n=r.y,i=r.width,a=r.height,s=t.points;s.length=0,s.push(e,n,e+i,n,e+i,n+a,e,n+a)},triangulate:function(t,r){var e=t.points,n=r.points,i=n.length/2;n.push(e[0],e[1],e[2],e[3],e[6],e[7],e[4],e[5]),r.indices.push(i,i+1,i+2,i+1,i+2,i+3)}};function Vr(t,r,e){var n=r-t;return t+n*e}function Ji(t,r,e,n,i,a,s){s===void 0&&(s=[]);for(var o=20,u=s,h=0,f=0,l=0,c=0,d=0,p=0,v=0,_=0;v<=o;++v)_=v/o,h=Vr(t,e,_),f=Vr(r,n,_),l=Vr(e,i,_),c=Vr(n,a,_),d=Vr(h,l,_),p=Vr(f,c,_),!(v===0&&u[u.length-2]===d&&u[u.length-1]===p)&&u.push(d,p);return u}var $y={build:function(t){var r=t.shape,e=t.points,n=r.x,i=r.y,a=r.width,s=r.height,o=Math.max(0,Math.min(r.radius,Math.min(a,s)/2));e.length=0,o?(Ji(n,i+o,n,i,n+o,i,e),Ji(n+a-o,i,n+a,i,n+a,i+o,e),Ji(n+a,i+s-o,n+a,i+s,n+a-o,i+s,e),Ji(n+o,i+s,n,i+s,n,i+s-o,e)):e.push(n,i,n+a,i,n+a,i+s,n,i+s)},triangulate:function(t,r){for(var e=t.points,n=r.points,i=r.indices,a=n.length/2,s=Dl(e,null,2),o=0,u=s.length;o<u;o+=3)i.push(s[o]+a),i.push(s[o+1]+a),i.push(s[o+2]+a);for(var o=0,u=e.length;o<u;o++)n.push(e[o],e[++o])}};function vf(t,r,e,n,i,a,s,o){var u=t-e*i,h=r-n*i,f=t+e*a,l=r+n*a,c,d;s?(c=n,d=-e):(c=-n,d=e);var p=u+c,v=h+d,_=f+c,m=l+d;return o.push(p,v),o.push(_,m),2}function zr(t,r,e,n,i,a,s,o){var u=e-t,h=n-r,f=Math.atan2(u,h),l=Math.atan2(i-t,a-r);o&&f<l?f+=Math.PI*2:!o&&f>l&&(l+=Math.PI*2);var c=f,d=l-f,p=Math.abs(d),v=Math.sqrt(u*u+h*h),_=(15*p*Math.sqrt(v)/Math.PI>>0)+1,m=d/_;if(c+=m,o){s.push(t,r),s.push(e,n);for(var b=1,T=c;b<_;b++,T+=m)s.push(t,r),s.push(t+Math.sin(T)*v,r+Math.cos(T)*v);s.push(t,r),s.push(i,a)}else{s.push(e,n),s.push(t,r);for(var b=1,T=c;b<_;b++,T+=m)s.push(t+Math.sin(T)*v,r+Math.cos(T)*v),s.push(t,r);s.push(i,a),s.push(t,r)}return _*2}function t0(t,r){var e=t.shape,n=t.points||e.points.slice(),i=r.closePointEps;if(n.length!==0){var a=t.lineStyle,s=new zt(n[0],n[1]),o=new zt(n[n.length-2],n[n.length-1]),u=e.type!==Vt.POLY||e.closeStroke,h=Math.abs(s.x-o.x)<i&&Math.abs(s.y-o.y)<i;if(u){n=n.slice(),h&&(n.pop(),n.pop(),o.set(n[n.length-2],n[n.length-1]));var f=(s.x+o.x)*.5,l=(o.y+s.y)*.5;n.unshift(f,l),n.push(f,l)}var c=r.points,d=n.length/2,p=n.length,v=c.length/2,_=a.width/2,m=_*_,b=a.miterLimit*a.miterLimit,T=n[0],w=n[1],y=n[2],g=n[3],N=0,P=0,C=-(w-g),O=T-y,H=0,k=0,j=Math.sqrt(C*C+O*O);C/=j,O/=j,C*=_,O*=_;var Z=a.alignment,F=(1-Z)*2,X=Z*2;u||(a.cap===ir.ROUND?p+=zr(T-C*(F-X)*.5,w-O*(F-X)*.5,T-C*F,w-O*F,T+C*X,w+O*X,c,!0)+2:a.cap===ir.SQUARE&&(p+=vf(T,w,C,O,F,X,!0,c))),c.push(T-C*F,w-O*F),c.push(T+C*X,w+O*X);for(var z=1;z<d-1;++z){T=n[(z-1)*2],w=n[(z-1)*2+1],y=n[z*2],g=n[z*2+1],N=n[(z+1)*2],P=n[(z+1)*2+1],C=-(w-g),O=T-y,j=Math.sqrt(C*C+O*O),C/=j,O/=j,C*=_,O*=_,H=-(g-P),k=y-N,j=Math.sqrt(H*H+k*k),H/=j,k/=j,H*=_,k*=_;var A=y-T,W=w-g,B=y-N,S=P-g,K=W*B-S*A,tt=K<0;if(Math.abs(K)<.1){c.push(y-C*F,g-O*F),c.push(y+C*X,g+O*X);continue}var nt=(-C+T)*(-O+g)-(-C+y)*(-O+w),et=(-H+N)*(-k+g)-(-H+y)*(-k+P),st=(A*et-B*nt)/K,it=(S*nt-W*et)/K,It=(st-y)*(st-y)+(it-g)*(it-g),vt=y+(st-y)*F,Ct=g+(it-g)*F,bt=y-(st-y)*X,wt=g-(it-g)*X,ot=Math.min(A*A+W*W,B*B+S*S),Nt=tt?F:X,At=ot+Nt*Nt*m,ft=It<=At;ft?a.join===nr.BEVEL||It/m>b?(tt?(c.push(vt,Ct),c.push(y+C*X,g+O*X),c.push(vt,Ct),c.push(y+H*X,g+k*X)):(c.push(y-C*F,g-O*F),c.push(bt,wt),c.push(y-H*F,g-k*F),c.push(bt,wt)),p+=2):a.join===nr.ROUND?tt?(c.push(vt,Ct),c.push(y+C*X,g+O*X),p+=zr(y,g,y+C*X,g+O*X,y+H*X,g+k*X,c,!0)+4,c.push(vt,Ct),c.push(y+H*X,g+k*X)):(c.push(y-C*F,g-O*F),c.push(bt,wt),p+=zr(y,g,y-C*F,g-O*F,y-H*F,g-k*F,c,!1)+4,c.push(y-H*F,g-k*F),c.push(bt,wt)):(c.push(vt,Ct),c.push(bt,wt)):(c.push(y-C*F,g-O*F),c.push(y+C*X,g+O*X),a.join===nr.BEVEL||It/m>b||(a.join===nr.ROUND?tt?p+=zr(y,g,y+C*X,g+O*X,y+H*X,g+k*X,c,!0)+2:p+=zr(y,g,y-C*F,g-O*F,y-H*F,g-k*F,c,!1)+2:(tt?(c.push(bt,wt),c.push(bt,wt)):(c.push(vt,Ct),c.push(vt,Ct)),p+=2)),c.push(y-H*F,g-k*F),c.push(y+H*X,g+k*X),p+=2)}T=n[(d-2)*2],w=n[(d-2)*2+1],y=n[(d-1)*2],g=n[(d-1)*2+1],C=-(w-g),O=T-y,j=Math.sqrt(C*C+O*O),C/=j,O/=j,C*=_,O*=_,c.push(y-C*F,g-O*F),c.push(y+C*X,g+O*X),u||(a.cap===ir.ROUND?p+=zr(y-C*(F-X)*.5,g-O*(F-X)*.5,y-C*F,g-O*F,y+C*X,g+O*X,c,!1)+2:a.cap===ir.SQUARE&&(p+=vf(y,g,C,O,F,X,!1,c)));for(var Bt=r.indices,Ht=ai.epsilon*ai.epsilon,z=v;z<p+v-2;++z)T=c[z*2],w=c[z*2+1],y=c[(z+1)*2],g=c[(z+1)*2+1],N=c[(z+2)*2],P=c[(z+2)*2+1],!(Math.abs(T*(g-P)+y*(P-w)+N*(w-g))<Ht)&&Bt.push(z,z+1,z+2)}}function e0(t,r){var e=0,n=t.shape,i=t.points||n.points,a=n.type!==Vt.POLY||n.closeStroke;if(i.length!==0){var s=r.points,o=r.indices,u=i.length/2,h=s.length/2,f=h;for(s.push(i[0],i[1]),e=1;e<u;e++)s.push(i[e*2],i[e*2+1]),o.push(f,f+1),f++;a&&o.push(f,h)}}function _f(t,r){t.lineStyle.native?e0(t,r):t0(t,r)}var mf=function(){function t(){}return t.curveTo=function(r,e,n,i,a,s){var o=s[s.length-2],u=s[s.length-1],h=u-e,f=o-r,l=i-e,c=n-r,d=Math.abs(h*c-f*l);if(d<1e-8||a===0)return(s[s.length-2]!==r||s[s.length-1]!==e)&&s.push(r,e),null;var p=h*h+f*f,v=l*l+c*c,_=h*l+f*c,m=a*Math.sqrt(p)/d,b=a*Math.sqrt(v)/d,T=m*_/p,w=b*_/v,y=m*c+b*f,g=m*l+b*h,N=f*(b+T),P=h*(b+T),C=c*(m+w),O=l*(m+w),H=Math.atan2(P-g,N-y),k=Math.atan2(O-g,C-y);return{cx:y+r,cy:g+e,radius:a,startAngle:H,endAngle:k,anticlockwise:f*l>c*h}},t.arc=function(r,e,n,i,a,s,o,u,h){for(var f=o-s,l=ai._segmentsCount(Math.abs(f)*a,Math.ceil(Math.abs(f)/ba)*40),c=f/(l*2),d=c*2,p=Math.cos(c),v=Math.sin(c),_=l-1,m=_%1/_,b=0;b<=_;++b){var T=b+m*b,w=c+s+d*T,y=Math.cos(w),g=-Math.sin(w);h.push((p*y+v*g)*a+n,(p*-g+v*y)*a+i)}},t}(),r0=function(){function t(){}return t.curveLength=function(r,e,n,i,a,s,o,u){for(var h=10,f=0,l=0,c=0,d=0,p=0,v=0,_=0,m=0,b=0,T=0,w=0,y=r,g=e,N=1;N<=h;++N)l=N/h,c=l*l,d=c*l,p=1-l,v=p*p,_=v*p,m=_*r+3*v*l*n+3*p*c*a+d*o,b=_*e+3*v*l*i+3*p*c*s+d*u,T=y-m,w=g-b,y=m,g=b,f+=Math.sqrt(T*T+w*w);return f},t.curveTo=function(r,e,n,i,a,s,o){var u=o[o.length-2],h=o[o.length-1];o.length-=2;var f=ai._segmentsCount(t.curveLength(u,h,r,e,n,i,a,s)),l=0,c=0,d=0,p=0,v=0;o.push(u,h);for(var _=1,m=0;_<=f;++_)m=_/f,l=1-m,c=l*l,d=c*l,p=m*m,v=p*m,o.push(d*u+3*c*m*r+3*l*p*n+v*a,d*h+3*c*m*e+3*l*p*i+v*s)},t}(),n0=function(){function t(){}return t.curveLength=function(r,e,n,i,a,s){var o=r-2*n+a,u=e-2*i+s,h=2*n-2*r,f=2*i-2*e,l=4*(o*o+u*u),c=4*(o*h+u*f),d=h*h+f*f,p=2*Math.sqrt(l+c+d),v=Math.sqrt(l),_=2*l*v,m=2*Math.sqrt(d),b=c/v;return(_*p+v*c*(p-m)+(4*d*l-c*c)*Math.log((2*v+b+p)/(b+m)))/(4*_)},t.curveTo=function(r,e,n,i,a){for(var s=a[a.length-2],o=a[a.length-1],u=ai._segmentsCount(t.curveLength(s,o,r,e,n,i)),h=0,f=0,l=1;l<=u;++l){var c=l/u;h=s+(r-s)*c,f=o+(e-o)*c,a.push(h+(r+(n-r)*c-h)*c,f+(e+(i-e)*c-f)*c)}},t}(),i0=function(){function t(){this.reset()}return t.prototype.begin=function(r,e,n){this.reset(),this.style=r,this.start=e,this.attribStart=n},t.prototype.end=function(r,e){this.attribSize=e-this.attribStart,this.size=r-this.start},t.prototype.reset=function(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0},t}(),Er,Is=(Er={},Er[Vt.POLY]=Oc,Er[Vt.CIRC]=pf,Er[Vt.ELIP]=pf,Er[Vt.RECT]=Qy,Er[Vt.RREC]=$y,Er),gf=[],Qi=[];function a0(t){for(var r=t.points,e=0,n=0;n<r.length-2;n+=2)e+=(r[n+2]-r[n])*(r[n+3]+r[n+1]);return e>0}var yf=function(){function t(r,e,n,i){e===void 0&&(e=null),n===void 0&&(n=null),i===void 0&&(i=null),this.points=[],this.holes=[],this.shape=r,this.lineStyle=n,this.fillStyle=e,this.matrix=i,this.type=r.type}return t.prototype.clone=function(){return new t(this.shape,this.fillStyle,this.lineStyle,this.matrix)},t.prototype.destroy=function(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null},t}(),Wr=new zt,s0=new ii,o0=function(t){yu(r,t);function r(){var e=t.call(this)||this;return e.closePointEps=1e-4,e.boundsPadding=0,e.uvsFloat32=null,e.indicesUint16=null,e.batchable=!1,e.points=[],e.colors=[],e.uvs=[],e.indices=[],e.textureIds=[],e.graphicsData=[],e.drawCalls=[],e.batchDirty=-1,e.batches=[],e.dirty=0,e.cacheDirty=-1,e.clearDirty=0,e.shapeIndex=0,e._bounds=new ii,e.boundsDirty=-1,e}return Object.defineProperty(r.prototype,"bounds",{get:function(){return this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds},enumerable:!1,configurable:!0}),r.prototype.invalidate=function(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(var e=0;e<this.drawCalls.length;e++)this.drawCalls[e].texArray.clear(),Qi.push(this.drawCalls[e]);this.drawCalls.length=0;for(var e=0;e<this.batches.length;e++){var n=this.batches[e];n.reset(),gf.push(n)}this.batches.length=0},r.prototype.clear=function(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this},r.prototype.drawShape=function(e,n,i,a){n===void 0&&(n=null),i===void 0&&(i=null),a===void 0&&(a=null);var s=new yf(e,n,i,a);return this.graphicsData.push(s),this.dirty++,this},r.prototype.drawHole=function(e,n){if(n===void 0&&(n=null),!this.graphicsData.length)return null;var i=new yf(e,null,null,n),a=this.graphicsData[this.graphicsData.length-1];return i.lineStyle=a.lineStyle,a.holes.push(i),this.dirty++,this},r.prototype.destroy=function(){t.prototype.destroy.call(this);for(var e=0;e<this.graphicsData.length;++e)this.graphicsData[e].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null},r.prototype.containsPoint=function(e){for(var n=this.graphicsData,i=0;i<n.length;++i){var a=n[i];if(!!a.fillStyle.visible&&a.shape&&(a.matrix?a.matrix.applyInverse(e,Wr):Wr.copyFrom(e),a.shape.contains(Wr.x,Wr.y))){var s=!1;if(a.holes)for(var o=0;o<a.holes.length;o++){var u=a.holes[o];if(u.shape.contains(Wr.x,Wr.y)){s=!0;break}}if(!s)return!0}}return!1},r.prototype.updateBatches=function(e){if(!this.graphicsData.length){this.batchable=!0;return}if(!!this.validateBatching()){this.cacheDirty=this.dirty;var n=this.uvs,i=this.graphicsData,a=null,s=null;this.batches.length>0&&(a=this.batches[this.batches.length-1],s=a.style);for(var o=this.shapeIndex;o<i.length;o++){this.shapeIndex++;var u=i[o],h=u.fillStyle,f=u.lineStyle,l=Is[u.type];l.build(u),u.matrix&&this.transformPoints(u.points,u.matrix);for(var c=0;c<2;c++){var d=c===0?h:f;if(!!d.visible){var p=d.texture.baseTexture,v=this.indices.length,_=this.points.length/2;p.wrapMode=Ke.REPEAT,c===0?this.processFill(u):this.processLine(u);var m=this.points.length/2-_;m!==0&&(a&&!this._compareStyles(s,d)&&(a.end(v,_),a=null),a||(a=gf.pop()||new i0,a.begin(d,v,_),this.batches.push(a),s=d),this.addUvs(this.points,n,d.texture,_,m,d.matrix))}}}var b=this.indices.length,T=this.points.length/2;if(a&&a.end(b,T),this.batches.length===0){this.batchable=!0;return}if(this.indicesUint16&&this.indices.length===this.indicesUint16.length)this.indicesUint16.set(this.indices);else{var w=T>65535&&e;this.indicesUint16=w?new Uint32Array(this.indices):new Uint16Array(this.indices)}this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}},r.prototype._compareStyles=function(e,n){return!(!e||!n||e.texture.baseTexture!==n.texture.baseTexture||e.color+e.alpha!==n.color+n.alpha||!!e.native!=!!n.native)},r.prototype.validateBatching=function(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(var e=0,n=this.graphicsData.length;e<n;e++){var i=this.graphicsData[e],a=i.fillStyle,s=i.lineStyle;if(a&&!a.texture.baseTexture.valid||s&&!s.texture.baseTexture.valid)return!1}return!0},r.prototype.packBatches=function(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);for(var e=this.batches,n=0,i=e.length;n<i;n++)for(var a=e[n],s=0;s<a.size;s++){var o=a.start+s;this.indicesUint16[o]=this.indicesUint16[o]-a.attribStart}},r.prototype.isBatchable=function(){if(this.points.length>65535*2)return!1;for(var e=this.batches,n=0;n<e.length;n++)if(e[n].style.native)return!1;return this.points.length<r.BATCHABLE_SIZE*2},r.prototype.buildDrawCalls=function(){for(var e=++St._globalBatch,n=0;n<this.drawCalls.length;n++)this.drawCalls[n].texArray.clear(),Qi.push(this.drawCalls[n]);this.drawCalls.length=0;var i=this.colors,a=this.textureIds,s=Qi.pop();s||(s=new lo,s.texArray=new co),s.texArray.count=0,s.start=0,s.size=0,s.type=Ee.TRIANGLES;var o=0,u=null,h=0,f=!1,l=Ee.TRIANGLES,c=0;this.drawCalls.push(s);for(var n=0;n<this.batches.length;n++){var d=this.batches[n],p=8,v=d.style,_=v.texture.baseTexture;f!==!!v.native&&(f=!!v.native,l=f?Ee.LINES:Ee.TRIANGLES,u=null,o=p,e++),u!==_&&(u=_,_._batchEnabled!==e&&(o===p&&(e++,o=0,s.size>0&&(s=Qi.pop(),s||(s=new lo,s.texArray=new co),this.drawCalls.push(s)),s.start=c,s.size=0,s.texArray.count=0,s.type=l),_.touched=1,_._batchEnabled=e,_._batchLocation=o,_.wrapMode=Ke.REPEAT,s.texArray.elements[s.texArray.count++]=_,o++)),s.size+=d.size,c+=d.size,h=_._batchLocation,this.addColors(i,v.color,v.alpha,d.attribSize,d.attribStart),this.addTextureIds(a,h,d.attribSize,d.attribStart)}St._globalBatch=e,this.packAttributes()},r.prototype.packAttributes=function(){for(var e=this.points,n=this.uvs,i=this.colors,a=this.textureIds,s=new ArrayBuffer(e.length*3*4),o=new Float32Array(s),u=new Uint32Array(s),h=0,f=0;f<e.length/2;f++)o[h++]=e[f*2],o[h++]=e[f*2+1],o[h++]=n[f*2],o[h++]=n[f*2+1],u[h++]=i[f],o[h++]=a[f];this._buffer.update(s),this._indexBuffer.update(this.indicesUint16)},r.prototype.processFill=function(e){if(e.holes.length)this.processHoles(e.holes),Oc.triangulate(e,this);else{var n=Is[e.type];n.triangulate(e,this)}},r.prototype.processLine=function(e){_f(e,this);for(var n=0;n<e.holes.length;n++)_f(e.holes[n],this)},r.prototype.processHoles=function(e){for(var n=0;n<e.length;n++){var i=e[n],a=Is[i.type];a.build(i),i.matrix&&this.transformPoints(i.points,i.matrix)}},r.prototype.calculateBounds=function(){var e=this._bounds,n=s0,i=Wt.IDENTITY;this._bounds.clear(),n.clear();for(var a=0;a<this.graphicsData.length;a++){var s=this.graphicsData[a],o=s.shape,u=s.type,h=s.lineStyle,f=s.matrix||Wt.IDENTITY,l=0;if(h&&h.visible){var c=h.alignment;l=h.width,u===Vt.POLY?a0(o)?l=l*(1-c):l=l*c:l=l*Math.max(0,c)}if(i!==f&&(n.isEmpty()||(e.addBoundsMatrix(n,i),n.clear()),i=f),u===Vt.RECT||u===Vt.RREC){var d=o;n.addFramePad(d.x,d.y,d.x+d.width,d.y+d.height,l,l)}else if(u===Vt.CIRC){var p=o;n.addFramePad(p.x,p.y,p.x,p.y,p.radius+l,p.radius+l)}else if(u===Vt.ELIP){var v=o;n.addFramePad(v.x,v.y,v.x,v.y,v.width+l,v.height+l)}else{var _=o;e.addVerticesMatrix(i,_.points,0,_.points.length,l,l)}}n.isEmpty()||e.addBoundsMatrix(n,i),e.pad(this.boundsPadding,this.boundsPadding)},r.prototype.transformPoints=function(e,n){for(var i=0;i<e.length/2;i++){var a=e[i*2],s=e[i*2+1];e[i*2]=n.a*a+n.c*s+n.tx,e[i*2+1]=n.b*a+n.d*s+n.ty}},r.prototype.addColors=function(e,n,i,a,s){s===void 0&&(s=0);var o=(n>>16)+(n&65280)+((n&255)<<16),u=fu(o,i);e.length=Math.max(e.length,s+a);for(var h=0;h<a;h++)e[s+h]=u},r.prototype.addTextureIds=function(e,n,i,a){a===void 0&&(a=0),e.length=Math.max(e.length,a+i);for(var s=0;s<i;s++)e[a+s]=n},r.prototype.addUvs=function(e,n,i,a,s,o){o===void 0&&(o=null);for(var u=0,h=n.length,f=i.frame;u<s;){var l=e[(a+u)*2],c=e[(a+u)*2+1];if(o){var d=o.a*l+o.c*c+o.tx;c=o.b*l+o.d*c+o.ty,l=d}u++,n.push(l/f.width,c/f.height)}var p=i.baseTexture;(f.width<p.width||f.height<p.height)&&this.adjustUvs(n,i,h,s)},r.prototype.adjustUvs=function(e,n,i,a){for(var s=n.baseTexture,o=1e-6,u=i+a*2,h=n.frame,f=h.width/s.width,l=h.height/s.height,c=h.x/h.width,d=h.y/h.height,p=Math.floor(e[i]+o),v=Math.floor(e[i+1]+o),_=i+2;_<u;_+=2)p=Math.min(p,Math.floor(e[_]+o)),v=Math.min(v,Math.floor(e[_+1]+o));c-=p,d-=v;for(var _=i;_<u;_+=2)e[_]=(e[_]+c)*f,e[_+1]=(e[_+1]+d)*l},r.BATCHABLE_SIZE=100,r}(Cc),u0=function(t){yu(r,t);function r(){var e=t!==null&&t.apply(this,arguments)||this;return e.width=0,e.alignment=.5,e.native=!1,e.cap=ir.BUTT,e.join=nr.MITER,e.miterLimit=10,e}return r.prototype.clone=function(){var e=new r;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e.width=this.width,e.alignment=this.alignment,e.native=this.native,e.cap=this.cap,e.join=this.join,e.miterLimit=this.miterLimit,e},r.prototype.reset=function(){t.prototype.reset.call(this),this.color=0,this.alignment=.5,this.width=0,this.native=!1},r}(Sc),h0=new Float32Array(3),Cs={},bu=function(t){yu(r,t);function r(e){e===void 0&&(e=null);var n=t.call(this)||this;return n.shader=null,n.pluginName="batch",n.currentPath=null,n.batches=[],n.batchTint=-1,n.batchDirty=-1,n.vertexData=null,n._fillStyle=new Sc,n._lineStyle=new u0,n._matrix=null,n._holeMode=!1,n.state=kr.for2d(),n._geometry=e||new o0,n._geometry.refCount++,n._transformID=-1,n.tint=16777215,n.blendMode=ht.NORMAL,n}return Object.defineProperty(r.prototype,"geometry",{get:function(){return this._geometry},enumerable:!1,configurable:!0}),r.prototype.clone=function(){return this.finishPoly(),new r(this._geometry)},Object.defineProperty(r.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(e){this.state.blendMode=e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"tint",{get:function(){return this._tint},set:function(e){this._tint=e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"fill",{get:function(){return this._fillStyle},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"line",{get:function(){return this._lineStyle},enumerable:!1,configurable:!0}),r.prototype.lineStyle=function(e,n,i,a,s){return e===void 0&&(e=null),n===void 0&&(n=0),i===void 0&&(i=1),a===void 0&&(a=.5),s===void 0&&(s=!1),typeof e=="number"&&(e={width:e,color:n,alpha:i,alignment:a,native:s}),this.lineTextureStyle(e)},r.prototype.lineTextureStyle=function(e){e=Object.assign({width:0,texture:mt.WHITE,color:e&&e.texture?16777215:0,alpha:1,matrix:null,alignment:.5,native:!1,cap:ir.BUTT,join:nr.MITER,miterLimit:10},e),this.currentPath&&this.startPoly();var n=e.width>0&&e.alpha>0;return n?(e.matrix&&(e.matrix=e.matrix.clone(),e.matrix.invert()),Object.assign(this._lineStyle,{visible:n},e)):this._lineStyle.reset(),this},r.prototype.startPoly=function(){if(this.currentPath){var e=this.currentPath.points,n=this.currentPath.points.length;n>2&&(this.drawShape(this.currentPath),this.currentPath=new ua,this.currentPath.closeStroke=!1,this.currentPath.points.push(e[n-2],e[n-1]))}else this.currentPath=new ua,this.currentPath.closeStroke=!1},r.prototype.finishPoly=function(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)},r.prototype.moveTo=function(e,n){return this.startPoly(),this.currentPath.points[0]=e,this.currentPath.points[1]=n,this},r.prototype.lineTo=function(e,n){this.currentPath||this.moveTo(0,0);var i=this.currentPath.points,a=i[i.length-2],s=i[i.length-1];return(a!==e||s!==n)&&i.push(e,n),this},r.prototype._initCurve=function(e,n){e===void 0&&(e=0),n===void 0&&(n=0),this.currentPath?this.currentPath.points.length===0&&(this.currentPath.points=[e,n]):this.moveTo(e,n)},r.prototype.quadraticCurveTo=function(e,n,i,a){this._initCurve();var s=this.currentPath.points;return s.length===0&&this.moveTo(0,0),n0.curveTo(e,n,i,a,s),this},r.prototype.bezierCurveTo=function(e,n,i,a,s,o){return this._initCurve(),r0.curveTo(e,n,i,a,s,o,this.currentPath.points),this},r.prototype.arcTo=function(e,n,i,a,s){this._initCurve(e,n);var o=this.currentPath.points,u=mf.curveTo(e,n,i,a,s,o);if(u){var h=u.cx,f=u.cy,l=u.radius,c=u.startAngle,d=u.endAngle,p=u.anticlockwise;this.arc(h,f,l,c,d,p)}return this},r.prototype.arc=function(e,n,i,a,s,o){if(o===void 0&&(o=!1),a===s)return this;!o&&s<=a?s+=ba:o&&a<=s&&(a+=ba);var u=s-a;if(u===0)return this;var h=e+Math.cos(a)*i,f=n+Math.sin(a)*i,l=this._geometry.closePointEps,c=this.currentPath?this.currentPath.points:null;if(c){var d=Math.abs(c[c.length-2]-h),p=Math.abs(c[c.length-1]-f);d<l&&p<l||c.push(h,f)}else this.moveTo(h,f),c=this.currentPath.points;return mf.arc(h,f,e,n,i,a,s,o,c),this},r.prototype.beginFill=function(e,n){return e===void 0&&(e=0),n===void 0&&(n=1),this.beginTextureFill({texture:mt.WHITE,color:e,alpha:n})},r.prototype.beginTextureFill=function(e){e=Object.assign({texture:mt.WHITE,color:16777215,alpha:1,matrix:null},e),this.currentPath&&this.startPoly();var n=e.alpha>0;return n?(e.matrix&&(e.matrix=e.matrix.clone(),e.matrix.invert()),Object.assign(this._fillStyle,{visible:n},e)):this._fillStyle.reset(),this},r.prototype.endFill=function(){return this.finishPoly(),this._fillStyle.reset(),this},r.prototype.drawRect=function(e,n,i,a){return this.drawShape(new Pt(e,n,i,a))},r.prototype.drawRoundedRect=function(e,n,i,a,s){return this.drawShape(new Sm(e,n,i,a,s))},r.prototype.drawCircle=function(e,n,i){return this.drawShape(new Pm(e,n,i))},r.prototype.drawEllipse=function(e,n,i,a){return this.drawShape(new Nm(e,n,i,a))},r.prototype.drawPolygon=function(){for(var e=arguments,n=[],i=0;i<arguments.length;i++)n[i]=e[i];var a,s=!0,o=n[0];o.points?(s=o.closeStroke,a=o.points):Array.isArray(n[0])?a=n[0]:a=n;var u=new ua(a);return u.closeStroke=s,this.drawShape(u),this},r.prototype.drawShape=function(e){return this._holeMode?this._geometry.drawHole(e,this._matrix):this._geometry.drawShape(e,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this},r.prototype.clear=function(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this},r.prototype.isFastRect=function(){var e=this._geometry.graphicsData;return e.length===1&&e[0].shape.type===Vt.RECT&&!e[0].matrix&&!e[0].holes.length&&!(e[0].lineStyle.visible&&e[0].lineStyle.width)},r.prototype._render=function(e){this.finishPoly();var n=this._geometry,i=e.context.supports.uint32Indices;n.updateBatches(i),n.batchable?(this.batchDirty!==n.batchDirty&&this._populateBatches(),this._renderBatched(e)):(e.batch.flush(),this._renderDirect(e))},r.prototype._populateBatches=function(){var e=this._geometry,n=this.blendMode,i=e.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=e.batchDirty,this.batches.length=i,this.vertexData=new Float32Array(e.points);for(var a=0;a<i;a++){var s=e.batches[a],o=s.style.color,u=new Float32Array(this.vertexData.buffer,s.attribStart*4*2,s.attribSize*2),h=new Float32Array(e.uvsFloat32.buffer,s.attribStart*4*2,s.attribSize*2),f=new Uint16Array(e.indicesUint16.buffer,s.start*2,s.size),l={vertexData:u,blendMode:n,indices:f,uvs:h,_batchRGB:sn(o),_tintRGB:o,_texture:s.style.texture,alpha:s.style.alpha,worldAlpha:1};this.batches[a]=l}},r.prototype._renderBatched=function(e){if(!!this.batches.length){e.batch.setObjectRenderer(e.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(var n=0,i=this.batches.length;n<i;n++){var a=this.batches[n];a.worldAlpha=this.worldAlpha*a.alpha,e.plugins[this.pluginName].render(a)}}},r.prototype._renderDirect=function(e){var n=this._resolveDirectShader(e),i=this._geometry,a=this.tint,s=this.worldAlpha,o=n.uniforms,u=i.drawCalls;o.translationMatrix=this.transform.worldTransform,o.tint[0]=(a>>16&255)/255*s,o.tint[1]=(a>>8&255)/255*s,o.tint[2]=(a&255)/255*s,o.tint[3]=s,e.shader.bind(n),e.geometry.bind(i,n),e.state.set(this.state);for(var h=0,f=u.length;h<f;h++)this._renderDrawCallDirect(e,i.drawCalls[h])},r.prototype._renderDrawCallDirect=function(e,n){for(var i=n.texArray,a=n.type,s=n.size,o=n.start,u=i.count,h=0;h<u;h++)e.texture.bind(i.elements[h],h);e.geometry.draw(a,s,o)},r.prototype._resolveDirectShader=function(e){var n=this.shader,i=this.pluginName;if(!n){if(!Cs[i]){for(var a=e.plugins.batch.MAX_TEXTURES,s=new Int32Array(a),o=0;o<a;o++)s[o]=o;var u={tint:new Float32Array([1,1,1,1]),translationMatrix:new Wt,default:Sr.from({uSamplers:s},!0)},h=e.plugins[i]._shader.program;Cs[i]=new sr(h,u)}n=Cs[i]}return n},r.prototype._calculateBounds=function(){this.finishPoly();var e=this._geometry;if(!!e.graphicsData.length){var n=e.bounds,i=n.minX,a=n.minY,s=n.maxX,o=n.maxY;this._bounds.addFrame(this.transform,i,a,s,o)}},r.prototype.containsPoint=function(e){return this.worldTransform.applyInverse(e,r._TEMP_POINT),this._geometry.containsPoint(r._TEMP_POINT)},r.prototype.calculateTints=function(){if(this.batchTint!==this.tint){this.batchTint=this.tint;for(var e=sn(this.tint,h0),n=0;n<this.batches.length;n++){var i=this.batches[n],a=i._batchRGB,s=e[0]*a[0]*255,o=e[1]*a[1]*255,u=e[2]*a[2]*255,h=(s<<16)+(o<<8)+(u|0);i._tintRGB=(h>>16)+(h&65280)+((h&255)<<16)}}},r.prototype.calculateVertices=function(){var e=this.transform._worldID;if(this._transformID!==e){this._transformID=e;for(var n=this.transform.worldTransform,i=n.a,a=n.b,s=n.c,o=n.d,u=n.tx,h=n.ty,f=this._geometry.points,l=this.vertexData,c=0,d=0;d<f.length;d+=2){var p=f[d],v=f[d+1];l[c++]=i*p+s*v+u,l[c++]=o*v+a*p+h}}},r.prototype.closePath=function(){var e=this.currentPath;return e&&(e.closeStroke=!0,this.finishPoly()),this},r.prototype.setMatrix=function(e){return this._matrix=e,this},r.prototype.beginHole=function(){return this.finishPoly(),this._holeMode=!0,this},r.prototype.endHole=function(){return this.finishPoly(),this._holeMode=!1,this},r.prototype.destroy=function(e){this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,t.prototype.destroy.call(this,e)},r._TEMP_POINT=new zt,r}(Ie);/*!
 * @pixi/sprite - v6.2.2
 * Compiled Wed, 26 Jan 2022 16:23:27 UTC
 *
 * @pixi/sprite is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var bo=function(t,r){return bo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)n.hasOwnProperty(i)&&(e[i]=n[i])},bo(t,r)};function f0(t,r){bo(t,r);function e(){this.constructor=t}t.prototype=r===null?Object.create(r):(e.prototype=r.prototype,new e)}var Hn=new zt,l0=new Uint16Array([0,1,2,0,2,3]),_n=function(t){f0(r,t);function r(e){var n=t.call(this)||this;return n._anchor=new tn(n._onAnchorUpdate,n,e?e.defaultAnchor.x:0,e?e.defaultAnchor.y:0),n._texture=null,n._width=0,n._height=0,n._tint=null,n._tintRGB=null,n.tint=16777215,n.blendMode=ht.NORMAL,n._cachedTint=16777215,n.uvs=null,n.texture=e||mt.EMPTY,n.vertexData=new Float32Array(8),n.vertexTrimmedData=null,n._transformID=-1,n._textureID=-1,n._transformTrimmedID=-1,n._textureTrimmedID=-1,n.indices=l0,n.pluginName="batch",n.isSprite=!0,n._roundPixels=at.ROUND_PIXELS,n}return r.prototype._onTextureUpdate=function(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=$r(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=$r(this.scale.y)*this._height/this._texture.orig.height)},r.prototype._onAnchorUpdate=function(){this._transformID=-1,this._transformTrimmedID=-1},r.prototype.calculateVertices=function(){var e=this._texture;if(!(this._transformID===this.transform._worldID&&this._textureID===e._updateID)){this._textureID!==e._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=e._updateID;var n=this.transform.worldTransform,i=n.a,a=n.b,s=n.c,o=n.d,u=n.tx,h=n.ty,f=this.vertexData,l=e.trim,c=e.orig,d=this._anchor,p=0,v=0,_=0,m=0;if(l?(v=l.x-d._x*c.width,p=v+l.width,m=l.y-d._y*c.height,_=m+l.height):(v=-d._x*c.width,p=v+c.width,m=-d._y*c.height,_=m+c.height),f[0]=i*v+s*m+u,f[1]=o*m+a*v+h,f[2]=i*p+s*m+u,f[3]=o*m+a*p+h,f[4]=i*p+s*_+u,f[5]=o*_+a*p+h,f[6]=i*v+s*_+u,f[7]=o*_+a*v+h,this._roundPixels)for(var b=at.RESOLUTION,T=0;T<f.length;++T)f[T]=Math.round((f[T]*b|0)/b)}},r.prototype.calculateTrimmedVertices=function(){if(!this.vertexTrimmedData)this.vertexTrimmedData=new Float32Array(8);else if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return;this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;var e=this._texture,n=this.vertexTrimmedData,i=e.orig,a=this._anchor,s=this.transform.worldTransform,o=s.a,u=s.b,h=s.c,f=s.d,l=s.tx,c=s.ty,d=-a._x*i.width,p=d+i.width,v=-a._y*i.height,_=v+i.height;n[0]=o*d+h*v+l,n[1]=f*v+u*d+c,n[2]=o*p+h*v+l,n[3]=f*v+u*p+c,n[4]=o*p+h*_+l,n[5]=f*_+u*p+c,n[6]=o*d+h*_+l,n[7]=f*_+u*d+c},r.prototype._render=function(e){this.calculateVertices(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this)},r.prototype._calculateBounds=function(){var e=this._texture.trim,n=this._texture.orig;!e||e.width===n.width&&e.height===n.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))},r.prototype.getLocalBounds=function(e){return this.children.length===0?(this._localBounds||(this._localBounds=new ii),this._localBounds.minX=this._texture.orig.width*-this._anchor._x,this._localBounds.minY=this._texture.orig.height*-this._anchor._y,this._localBounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._localBounds.maxY=this._texture.orig.height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new Pt),e=this._localBoundsRect),this._localBounds.getRectangle(e)):t.prototype.getLocalBounds.call(this,e)},r.prototype.containsPoint=function(e){this.worldTransform.applyInverse(e,Hn);var n=this._texture.orig.width,i=this._texture.orig.height,a=-n*this.anchor.x,s=0;return Hn.x>=a&&Hn.x<a+n&&(s=-i*this.anchor.y,Hn.y>=s&&Hn.y<s+i)},r.prototype.destroy=function(e){t.prototype.destroy.call(this,e),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null;var n=typeof e=="boolean"?e:e&&e.texture;if(n){var i=typeof e=="boolean"?e:e&&e.baseTexture;this._texture.destroy(!!i)}this._texture=null},r.from=function(e,n){var i=e instanceof mt?e:mt.from(e,n);return new r(i)},Object.defineProperty(r.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(e){this._roundPixels!==e&&(this._transformID=-1),this._roundPixels=e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"width",{get:function(){return Math.abs(this.scale.x)*this._texture.orig.width},set:function(e){var n=$r(this.scale.x)||1;this.scale.x=n*e/this._texture.orig.width,this._width=e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"height",{get:function(){return Math.abs(this.scale.y)*this._texture.orig.height},set:function(e){var n=$r(this.scale.y)||1;this.scale.y=n*e/this._texture.orig.height,this._height=e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"anchor",{get:function(){return this._anchor},set:function(e){this._anchor.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"tint",{get:function(){return this._tint},set:function(e){this._tint=e,this._tintRGB=(e>>16)+(e&65280)+((e&255)<<16)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"texture",{get:function(){return this._texture},set:function(e){this._texture!==e&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=e||mt.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,e&&(e.baseTexture.valid?this._onTextureUpdate():e.once("update",this._onTextureUpdate,this)))},enumerable:!1,configurable:!0}),r}(Ie);/*!
 * @pixi/text - v6.2.2
 * Compiled Wed, 26 Jan 2022 16:23:27 UTC
 *
 * @pixi/text is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var To=function(t,r){return To=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)n.hasOwnProperty(i)&&(e[i]=n[i])},To(t,r)};function c0(t,r){To(t,r);function e(){this.constructor=t}t.prototype=r===null?Object.create(r):(e.prototype=r.prototype,new e)}var si;(function(t){t[t.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",t[t.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL"})(si||(si={}));var Rs={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:si.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100,leading:0},d0=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],un=function(){function t(r){this.styleID=0,this.reset(),Ps(this,r,r)}return t.prototype.clone=function(){var r={};return Ps(r,this,Rs),new t(r)},t.prototype.reset=function(){Ps(this,Rs,Rs)},Object.defineProperty(t.prototype,"align",{get:function(){return this._align},set:function(r){this._align!==r&&(this._align=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"breakWords",{get:function(){return this._breakWords},set:function(r){this._breakWords!==r&&(this._breakWords=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadow",{get:function(){return this._dropShadow},set:function(r){this._dropShadow!==r&&(this._dropShadow=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowAlpha",{get:function(){return this._dropShadowAlpha},set:function(r){this._dropShadowAlpha!==r&&(this._dropShadowAlpha=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowAngle",{get:function(){return this._dropShadowAngle},set:function(r){this._dropShadowAngle!==r&&(this._dropShadowAngle=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowBlur",{get:function(){return this._dropShadowBlur},set:function(r){this._dropShadowBlur!==r&&(this._dropShadowBlur=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowColor",{get:function(){return this._dropShadowColor},set:function(r){var e=As(r);this._dropShadowColor!==e&&(this._dropShadowColor=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowDistance",{get:function(){return this._dropShadowDistance},set:function(r){this._dropShadowDistance!==r&&(this._dropShadowDistance=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fill",{get:function(){return this._fill},set:function(r){var e=As(r);this._fill!==e&&(this._fill=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fillGradientType",{get:function(){return this._fillGradientType},set:function(r){this._fillGradientType!==r&&(this._fillGradientType=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fillGradientStops",{get:function(){return this._fillGradientStops},set:function(r){p0(this._fillGradientStops,r)||(this._fillGradientStops=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontFamily",{get:function(){return this._fontFamily},set:function(r){this.fontFamily!==r&&(this._fontFamily=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontSize",{get:function(){return this._fontSize},set:function(r){this._fontSize!==r&&(this._fontSize=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontStyle",{get:function(){return this._fontStyle},set:function(r){this._fontStyle!==r&&(this._fontStyle=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontVariant",{get:function(){return this._fontVariant},set:function(r){this._fontVariant!==r&&(this._fontVariant=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontWeight",{get:function(){return this._fontWeight},set:function(r){this._fontWeight!==r&&(this._fontWeight=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(r){this._letterSpacing!==r&&(this._letterSpacing=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lineHeight",{get:function(){return this._lineHeight},set:function(r){this._lineHeight!==r&&(this._lineHeight=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"leading",{get:function(){return this._leading},set:function(r){this._leading!==r&&(this._leading=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lineJoin",{get:function(){return this._lineJoin},set:function(r){this._lineJoin!==r&&(this._lineJoin=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"miterLimit",{get:function(){return this._miterLimit},set:function(r){this._miterLimit!==r&&(this._miterLimit=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"padding",{get:function(){return this._padding},set:function(r){this._padding!==r&&(this._padding=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"stroke",{get:function(){return this._stroke},set:function(r){var e=As(r);this._stroke!==e&&(this._stroke=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"strokeThickness",{get:function(){return this._strokeThickness},set:function(r){this._strokeThickness!==r&&(this._strokeThickness=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"textBaseline",{get:function(){return this._textBaseline},set:function(r){this._textBaseline!==r&&(this._textBaseline=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"trim",{get:function(){return this._trim},set:function(r){this._trim!==r&&(this._trim=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"whiteSpace",{get:function(){return this._whiteSpace},set:function(r){this._whiteSpace!==r&&(this._whiteSpace=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"wordWrap",{get:function(){return this._wordWrap},set:function(r){this._wordWrap!==r&&(this._wordWrap=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"wordWrapWidth",{get:function(){return this._wordWrapWidth},set:function(r){this._wordWrapWidth!==r&&(this._wordWrapWidth=r,this.styleID++)},enumerable:!1,configurable:!0}),t.prototype.toFontString=function(){var r=typeof this.fontSize=="number"?this.fontSize+"px":this.fontSize,e=this.fontFamily;Array.isArray(this.fontFamily)||(e=this.fontFamily.split(","));for(var n=e.length-1;n>=0;n--){var i=e[n].trim();!/([\"\'])[^\'\"]+\1/.test(i)&&d0.indexOf(i)<0&&(i='"'+i+'"'),e[n]=i}return this.fontStyle+" "+this.fontVariant+" "+this.fontWeight+" "+r+" "+e.join(",")},t}();function bf(t){return typeof t=="number"?kl(t):(typeof t=="string"&&t.indexOf("0x")===0&&(t=t.replace("0x","#")),t)}function As(t){if(Array.isArray(t)){for(var r=0;r<t.length;++r)t[r]=bf(t[r]);return t}else return bf(t)}function p0(t,r){if(!Array.isArray(t)||!Array.isArray(r)||t.length!==r.length)return!1;for(var e=0;e<t.length;++e)if(t[e]!==r[e])return!1;return!0}function Ps(t,r,e){for(var n in e)Array.isArray(r[n])?t[n]=r[n].slice():t[n]=r[n]}var ge=function(){function t(r,e,n,i,a,s,o,u,h){this.text=r,this.style=e,this.width=n,this.height=i,this.lines=a,this.lineWidths=s,this.lineHeight=o,this.maxLineWidth=u,this.fontProperties=h}return t.measureText=function(r,e,n,i){i===void 0&&(i=t._canvas),n=n==null?e.wordWrap:n;var a=e.toFontString(),s=t.measureFont(a);s.fontSize===0&&(s.fontSize=e.fontSize,s.ascent=e.fontSize);var o=i.getContext("2d");o.font=a;for(var u=n?t.wordWrap(r,e,i):r,h=u.split(/(?:\r\n|\r|\n)/),f=new Array(h.length),l=0,c=0;c<h.length;c++){var d=o.measureText(h[c]).width+(h[c].length-1)*e.letterSpacing;f[c]=d,l=Math.max(l,d)}var p=l+e.strokeThickness;e.dropShadow&&(p+=e.dropShadowDistance);var v=e.lineHeight||s.fontSize+e.strokeThickness,_=Math.max(v,s.fontSize+e.strokeThickness)+(h.length-1)*(v+e.leading);return e.dropShadow&&(_+=e.dropShadowDistance),new t(r,e,p,_,h,f,v+e.leading,l,s)},t.wordWrap=function(r,e,n){n===void 0&&(n=t._canvas);for(var i=n.getContext("2d"),a=0,s="",o="",u=Object.create(null),h=e.letterSpacing,f=e.whiteSpace,l=t.collapseSpaces(f),c=t.collapseNewlines(f),d=!l,p=e.wordWrapWidth+h,v=t.tokenize(r),_=0;_<v.length;_++){var m=v[_];if(t.isNewline(m)){if(!c){o+=t.addLine(s),d=!l,s="",a=0;continue}m=" "}if(l){var b=t.isBreakingSpace(m),T=t.isBreakingSpace(s[s.length-1]);if(b&&T)continue}var w=t.getFromCache(m,h,u,i);if(w>p)if(s!==""&&(o+=t.addLine(s),s="",a=0),t.canBreakWords(m,e.breakWords))for(var y=t.wordWrapSplit(m),g=0;g<y.length;g++){for(var N=y[g],P=1;y[g+P];){var C=y[g+P],O=N[N.length-1];if(!t.canBreakChars(O,C,m,g,e.breakWords))N+=C;else break;P++}g+=N.length-1;var H=t.getFromCache(N,h,u,i);H+a>p&&(o+=t.addLine(s),d=!1,s="",a=0),s+=N,a+=H}else{s.length>0&&(o+=t.addLine(s),s="",a=0);var k=_===v.length-1;o+=t.addLine(m,!k),d=!1,s="",a=0}else w+a>p&&(d=!1,o+=t.addLine(s),s="",a=0),(s.length>0||!t.isBreakingSpace(m)||d)&&(s+=m,a+=w)}return o+=t.addLine(s,!1),o},t.addLine=function(r,e){return e===void 0&&(e=!0),r=t.trimRight(r),r=e?r+`
`:r,r},t.getFromCache=function(r,e,n,i){var a=n[r];if(typeof a!="number"){var s=r.length*e;a=i.measureText(r).width+s,n[r]=a}return a},t.collapseSpaces=function(r){return r==="normal"||r==="pre-line"},t.collapseNewlines=function(r){return r==="normal"},t.trimRight=function(r){if(typeof r!="string")return"";for(var e=r.length-1;e>=0;e--){var n=r[e];if(!t.isBreakingSpace(n))break;r=r.slice(0,-1)}return r},t.isNewline=function(r){return typeof r!="string"?!1:t._newlines.indexOf(r.charCodeAt(0))>=0},t.isBreakingSpace=function(r,e){return typeof r!="string"?!1:t._breakingSpaces.indexOf(r.charCodeAt(0))>=0},t.tokenize=function(r){var e=[],n="";if(typeof r!="string")return e;for(var i=0;i<r.length;i++){var a=r[i],s=r[i+1];if(t.isBreakingSpace(a,s)||t.isNewline(a)){n!==""&&(e.push(n),n=""),e.push(a);continue}n+=a}return n!==""&&e.push(n),e},t.canBreakWords=function(r,e){return e},t.canBreakChars=function(r,e,n,i,a){return!0},t.wordWrapSplit=function(r){return r.split("")},t.measureFont=function(r){if(t._fonts[r])return t._fonts[r];var e={ascent:0,descent:0,fontSize:0},n=t._canvas,i=t._context;i.font=r;var a=t.METRICS_STRING+t.BASELINE_SYMBOL,s=Math.ceil(i.measureText(a).width),o=Math.ceil(i.measureText(t.BASELINE_SYMBOL).width),u=Math.ceil(t.HEIGHT_MULTIPLIER*o);o=o*t.BASELINE_MULTIPLIER|0,n.width=s,n.height=u,i.fillStyle="#f00",i.fillRect(0,0,s,u),i.font=r,i.textBaseline="alphabetic",i.fillStyle="#000",i.fillText(a,0,o);var h=i.getImageData(0,0,s,u).data,f=h.length,l=s*4,c=0,d=0,p=!1;for(c=0;c<o;++c){for(var v=0;v<l;v+=4)if(h[d+v]!==255){p=!0;break}if(!p)d+=l;else break}for(e.ascent=o-c,d=f-l,p=!1,c=u;c>o;--c){for(var v=0;v<l;v+=4)if(h[d+v]!==255){p=!0;break}if(!p)d-=l;else break}return e.descent=c-o,e.fontSize=e.ascent+e.descent,t._fonts[r]=e,e},t.clearMetrics=function(r){r===void 0&&(r=""),r?delete t._fonts[r]:t._fonts={}},t}(),wa=function(){try{var t=new OffscreenCanvas(0,0),r=t.getContext("2d");return r&&r.measureText?t:document.createElement("canvas")}catch{return document.createElement("canvas")}}();wa.width=wa.height=10;ge._canvas=wa;ge._context=wa.getContext("2d");ge._fonts={};ge.METRICS_STRING="|\xC9q\xC5";ge.BASELINE_SYMBOL="M";ge.BASELINE_MULTIPLIER=1.4;ge.HEIGHT_MULTIPLIER=2;ge._newlines=[10,13];ge._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];var v0={texture:!0,children:!1,baseTexture:!0},Tu=function(t){c0(r,t);function r(e,n,i){var a=this,s=!1;i||(i=document.createElement("canvas"),s=!0),i.width=3,i.height=3;var o=mt.from(i);return o.orig=new Pt,o.trim=new Pt,a=t.call(this,o)||this,a._ownCanvas=s,a.canvas=i,a.context=a.canvas.getContext("2d"),a._resolution=at.RESOLUTION,a._autoResolution=!0,a._text=null,a._style=null,a._styleListener=null,a._font="",a.text=e,a.style=n,a.localStyleID=-1,a}return r.prototype.updateText=function(e){var n=this._style;if(this.localStyleID!==n.styleID&&(this.dirty=!0,this.localStyleID=n.styleID),!(!this.dirty&&e)){this._font=this._style.toFontString();var i=this.context,a=ge.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),s=a.width,o=a.height,u=a.lines,h=a.lineHeight,f=a.lineWidths,l=a.maxLineWidth,c=a.fontProperties;this.canvas.width=Math.ceil(Math.ceil(Math.max(1,s)+n.padding*2)*this._resolution),this.canvas.height=Math.ceil(Math.ceil(Math.max(1,o)+n.padding*2)*this._resolution),i.scale(this._resolution,this._resolution),i.clearRect(0,0,this.canvas.width,this.canvas.height),i.font=this._font,i.lineWidth=n.strokeThickness,i.textBaseline=n.textBaseline,i.lineJoin=n.lineJoin,i.miterLimit=n.miterLimit;for(var d,p,v=n.dropShadow?2:1,_=0;_<v;++_){var m=n.dropShadow&&_===0,b=m?Math.ceil(Math.max(1,o)+n.padding*2):0,T=b*this._resolution;if(m){i.fillStyle="black",i.strokeStyle="black";var w=n.dropShadowColor,y=sn(typeof w=="number"?w:Hl(w)),g=n.dropShadowBlur*this._resolution,N=n.dropShadowDistance*this._resolution;i.shadowColor="rgba("+y[0]*255+","+y[1]*255+","+y[2]*255+","+n.dropShadowAlpha+")",i.shadowBlur=g,i.shadowOffsetX=Math.cos(n.dropShadowAngle)*N,i.shadowOffsetY=Math.sin(n.dropShadowAngle)*N+T}else i.fillStyle=this._generateFillStyle(n,u,a),i.strokeStyle=n.stroke,i.shadowColor="black",i.shadowBlur=0,i.shadowOffsetX=0,i.shadowOffsetY=0;var P=(h-c.fontSize)/2;(!r.nextLineHeightBehavior||h-c.fontSize<0)&&(P=0);for(var C=0;C<u.length;C++)d=n.strokeThickness/2,p=n.strokeThickness/2+C*h+c.ascent+P,n.align==="right"?d+=l-f[C]:n.align==="center"&&(d+=(l-f[C])/2),n.stroke&&n.strokeThickness&&this.drawLetterSpacing(u[C],d+n.padding,p+n.padding-b,!0),n.fill&&this.drawLetterSpacing(u[C],d+n.padding,p+n.padding-b)}this.updateTexture()}},r.prototype.drawLetterSpacing=function(e,n,i,a){a===void 0&&(a=!1);var s=this._style,o=s.letterSpacing,u="letterSpacing"in CanvasRenderingContext2D.prototype||"textLetterSpacing"in CanvasRenderingContext2D.prototype;if(o===0||u){u&&(this.context.letterSpacing=o,this.context.textLetterSpacing=o),a?this.context.strokeText(e,n,i):this.context.fillText(e,n,i);return}for(var h=n,f=Array.from?Array.from(e):e.split(""),l=this.context.measureText(e).width,c=0,d=0;d<f.length;++d){var p=f[d];a?this.context.strokeText(p,h,i):this.context.fillText(p,h,i);for(var v="",_=d+1;_<f.length;++_)v+=f[_];c=this.context.measureText(v).width,h+=l-c+o,l=c}},r.prototype.updateTexture=function(){var e=this.canvas;if(this._style.trim){var n=Im(e);n.data&&(e.width=n.width,e.height=n.height,this.context.putImageData(n.data,0,0))}var i=this._texture,a=this._style,s=a.trim?0:a.padding,o=i.baseTexture;i.trim.width=i._frame.width=e.width/this._resolution,i.trim.height=i._frame.height=e.height/this._resolution,i.trim.x=-s,i.trim.y=-s,i.orig.width=i._frame.width-s*2,i.orig.height=i._frame.height-s*2,this._onTextureUpdate(),o.setRealSize(e.width,e.height,this._resolution),i.updateUvs(),this._recursivePostUpdateTransform(),this.dirty=!1},r.prototype._render=function(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),t.prototype._render.call(this,e)},r.prototype.getLocalBounds=function(e){return this.updateText(!0),t.prototype.getLocalBounds.call(this,e)},r.prototype._calculateBounds=function(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)},r.prototype._generateFillStyle=function(e,n,i){var a=e.fill;if(Array.isArray(a)){if(a.length===1)return a[0]}else return a;var s,o=e.dropShadow?e.dropShadowDistance:0,u=e.padding||0,h=this.canvas.width/this._resolution-o-u*2,f=this.canvas.height/this._resolution-o-u*2,l=a.slice(),c=e.fillGradientStops.slice();if(!c.length)for(var d=l.length+1,p=1;p<d;++p)c.push(p/d);if(l.unshift(a[0]),c.unshift(0),l.push(a[a.length-1]),c.push(1),e.fillGradientType===si.LINEAR_VERTICAL){s=this.context.createLinearGradient(h/2,u,h/2,f+u);for(var v=i.fontProperties.fontSize+e.strokeThickness,p=0;p<n.length;p++){var _=i.lineHeight*(p-1)+v,m=i.lineHeight*p,b=m;p>0&&_>m&&(b=(m+_)/2);var T=m+v,w=i.lineHeight*(p+1),y=T;p+1<n.length&&w<T&&(y=(T+w)/2);for(var g=(y-b)/f,N=0;N<l.length;N++){var P=0;typeof c[N]=="number"?P=c[N]:P=N/l.length;var C=Math.min(1,Math.max(0,b/f+P*g));C=Number(C.toFixed(5)),s.addColorStop(C,l[N])}}}else{s=this.context.createLinearGradient(u,f/2,h+u,f/2);for(var O=l.length+1,H=1,p=0;p<l.length;p++){var k=void 0;typeof c[p]=="number"?k=c[p]:k=H/O,s.addColorStop(k,l[p]),H++}}return s},r.prototype.destroy=function(e){typeof e=="boolean"&&(e={children:e}),e=Object.assign({},v0,e),t.prototype.destroy.call(this,e),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null},Object.defineProperty(r.prototype,"width",{get:function(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width},set:function(e){this.updateText(!0);var n=$r(this.scale.x)||1;this.scale.x=n*e/this._texture.orig.width,this._width=e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"height",{get:function(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height},set:function(e){this.updateText(!0);var n=$r(this.scale.y)||1;this.scale.y=n*e/this._texture.orig.height,this._height=e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"style",{get:function(){return this._style},set:function(e){e=e||{},e instanceof un?this._style=e:this._style=new un(e),this.localStyleID=-1,this.dirty=!0},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"text",{get:function(){return this._text},set:function(e){e=String(e==null?"":e),this._text!==e&&(this._text=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"resolution",{get:function(){return this._resolution},set:function(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)},enumerable:!1,configurable:!0}),r.nextLineHeightBehavior=!1,r}(_n);/*!
 * @pixi/prepare - v6.2.2
 * Compiled Wed, 26 Jan 2022 16:23:27 UTC
 *
 * @pixi/prepare is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */at.UPLOADS_PER_FRAME=4;/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Eo=function(t,r){return Eo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)n.hasOwnProperty(i)&&(e[i]=n[i])},Eo(t,r)};function _0(t,r){Eo(t,r);function e(){this.constructor=t}t.prototype=r===null?Object.create(r):(e.prototype=r.prototype,new e)}var m0=function(){function t(r){this.maxItemsPerFrame=r,this.itemsLeft=0}return t.prototype.beginFrame=function(){this.itemsLeft=this.maxItemsPerFrame},t.prototype.allowedToUpload=function(){return this.itemsLeft-- >0},t}();function g0(t,r){var e=!1;if(t&&t._textures&&t._textures.length){for(var n=0;n<t._textures.length;n++)if(t._textures[n]instanceof mt){var i=t._textures[n].baseTexture;r.indexOf(i)===-1&&(r.push(i),e=!0)}}return e}function y0(t,r){if(t.baseTexture instanceof St){var e=t.baseTexture;return r.indexOf(e)===-1&&r.push(e),!0}return!1}function b0(t,r){if(t._texture&&t._texture instanceof mt){var e=t._texture.baseTexture;return r.indexOf(e)===-1&&r.push(e),!0}return!1}function T0(t,r){return r instanceof Tu?(r.updateText(!0),!0):!1}function E0(t,r){if(r instanceof un){var e=r.toFontString();return ge.measureFont(e),!0}return!1}function w0(t,r){if(t instanceof Tu){r.indexOf(t.style)===-1&&r.push(t.style),r.indexOf(t)===-1&&r.push(t);var e=t._texture.baseTexture;return r.indexOf(e)===-1&&r.push(e),!0}return!1}function x0(t,r){return t instanceof un?(r.indexOf(t)===-1&&r.push(t),!0):!1}var I0=function(){function t(r){var e=this;this.limiter=new m0(at.UPLOADS_PER_FRAME),this.renderer=r,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=function(){!e.queue||e.prepareItems()},this.registerFindHook(w0),this.registerFindHook(x0),this.registerFindHook(g0),this.registerFindHook(y0),this.registerFindHook(b0),this.registerUploadHook(T0),this.registerUploadHook(E0)}return t.prototype.upload=function(r,e){typeof r=="function"&&(e=r,r=null),r&&this.add(r),this.queue.length?(e&&this.completes.push(e),this.ticking||(this.ticking=!0,ne.system.addOnce(this.tick,this,Ze.UTILITY))):e&&e()},t.prototype.tick=function(){setTimeout(this.delayedTick,0)},t.prototype.prepareItems=function(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){var r=this.queue[0],e=!1;if(r&&!r._destroyed){for(var n=0,i=this.uploadHooks.length;n<i;n++)if(this.uploadHooks[n](this.uploadHookHelper,r)){this.queue.shift(),e=!0;break}}e||this.queue.shift()}if(this.queue.length)ne.system.addOnce(this.tick,this,Ze.UTILITY);else{this.ticking=!1;var a=this.completes.slice(0);this.completes.length=0;for(var n=0,i=a.length;n<i;n++)a[n]()}},t.prototype.registerFindHook=function(r){return r&&this.addHooks.push(r),this},t.prototype.registerUploadHook=function(r){return r&&this.uploadHooks.push(r),this},t.prototype.add=function(r){for(var e=0,n=this.addHooks.length;e<n&&!this.addHooks[e](r,this.queue);e++);if(r instanceof Ie)for(var e=r.children.length-1;e>=0;e--)this.add(r.children[e]);return this},t.prototype.destroy=function(){this.ticking&&ne.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null},t}();function Uc(t,r){return r instanceof St?(r._glTextures[t.CONTEXT_UID]||t.texture.bind(r),!0):!1}function C0(t,r){if(!(r instanceof bu))return!1;var e=r.geometry;r.finishPoly(),e.updateBatches();for(var n=e.batches,i=0;i<n.length;i++){var a=n[i].style.texture;a&&Uc(t,a.baseTexture)}return e.batchable||t.geometry.bind(e,r._resolveDirectShader(t)),!0}function R0(t,r){return t instanceof bu?(r.push(t),!0):!1}var A0=function(t){_0(r,t);function r(e){var n=t.call(this,e)||this;return n.uploadHookHelper=n.renderer,n.registerFindHook(R0),n.registerUploadHook(Uc),n.registerUploadHook(C0),n}return r}(I0);/*!
 * @pixi/spritesheet - v6.2.2
 * Compiled Wed, 26 Jan 2022 16:23:27 UTC
 *
 * @pixi/spritesheet is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var P0=function(){function t(r,e,n){n===void 0&&(n=null),this._texture=r instanceof mt?r:null,this.baseTexture=r instanceof St?r:this._texture.baseTexture,this.textures={},this.animations={},this.data=e;var i=this.baseTexture.resource;this.resolution=this._updateResolution(n||(i?i.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}return t.prototype._updateResolution=function(r){r===void 0&&(r=null);var e=this.data.meta.scale,n=ya(r,null);return n===null&&(n=e!==void 0?parseFloat(e):1),n!==1&&this.baseTexture.setResolution(n),n},t.prototype.parse=function(r){this._batchIndex=0,this._callback=r,this._frameKeys.length<=t.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()},t.prototype._processFrames=function(r){for(var e=r,n=t.BATCH_SIZE;e-r<n&&e<this._frameKeys.length;){var i=this._frameKeys[e],a=this._frames[i],s=a.frame;if(s){var o=null,u=null,h=a.trimmed!==!1&&a.sourceSize?a.sourceSize:a.frame,f=new Pt(0,0,Math.floor(h.w)/this.resolution,Math.floor(h.h)/this.resolution);a.rotated?o=new Pt(Math.floor(s.x)/this.resolution,Math.floor(s.y)/this.resolution,Math.floor(s.h)/this.resolution,Math.floor(s.w)/this.resolution):o=new Pt(Math.floor(s.x)/this.resolution,Math.floor(s.y)/this.resolution,Math.floor(s.w)/this.resolution,Math.floor(s.h)/this.resolution),a.trimmed!==!1&&a.spriteSourceSize&&(u=new Pt(Math.floor(a.spriteSourceSize.x)/this.resolution,Math.floor(a.spriteSourceSize.y)/this.resolution,Math.floor(s.w)/this.resolution,Math.floor(s.h)/this.resolution)),this.textures[i]=new mt(this.baseTexture,o,f,u,a.rotated?2:0,a.anchor),mt.addToCache(this.textures[i],i)}e++}},t.prototype._processAnimations=function(){var r=this.data.animations||{};for(var e in r){this.animations[e]=[];for(var n=0;n<r[e].length;n++){var i=r[e][n];this.animations[e].push(this.textures[i])}}},t.prototype._parseComplete=function(){var r=this._callback;this._callback=null,this._batchIndex=0,r.call(this,this.textures)},t.prototype._nextBatch=function(){var r=this;this._processFrames(this._batchIndex*t.BATCH_SIZE),this._batchIndex++,setTimeout(function(){r._batchIndex*t.BATCH_SIZE<r._frameKeys.length?r._nextBatch():(r._processAnimations(),r._parseComplete())},0)},t.prototype.destroy=function(r){var e;r===void 0&&(r=!1);for(var n in this.textures)this.textures[n].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,r&&((e=this._texture)===null||e===void 0||e.destroy(),this.baseTexture.destroy()),this._texture=null,this.baseTexture=null},t.BATCH_SIZE=1e3,t}(),N0=function(){function t(){}return t.use=function(r,e){var n,i,a=this,s=r.name+"_image";if(!r.data||r.type!==Xt.TYPE.JSON||!r.data.frames||a.resources[s]){e();return}var o=(i=(n=r.data)===null||n===void 0?void 0:n.meta)===null||i===void 0?void 0:i.related_multi_packs;if(Array.isArray(o))for(var u=function(p){if(typeof p!="string")return"continue";var v=p.replace(".json",""),_=Qr.resolve(r.url.replace(a.baseUrl,""),p);if(a.resources[v]||Object.values(a.resources).some(function(b){return Qr.format(Qr.parse(b.url))===_}))return"continue";var m={crossOrigin:r.crossOrigin,loadType:Xt.LOAD_TYPE.XHR,xhrType:Xt.XHR_RESPONSE_TYPE.JSON,parentResource:r,metadata:r.metadata};a.add(v,_,m)},h=0,f=o;h<f.length;h++){var l=f[h];u(l)}var c={crossOrigin:r.crossOrigin,metadata:r.metadata.imageMetadata,parentResource:r},d=t.getResourcePath(r,a.baseUrl);a.add(s,d,c,function(v){if(v.error){e(v.error);return}var _=new P0(v.texture,r.data,r.url);_.parse(function(){r.spritesheet=_,r.textures=_.textures,e()})})},t.getResourcePath=function(r,e){return r.isDataUrl?r.data.meta.image:Qr.resolve(r.url.replace(e,""),r.data.meta.image)},t}();/*!
 * @pixi/sprite-tiling - v6.2.2
 * Compiled Wed, 26 Jan 2022 16:23:27 UTC
 *
 * @pixi/sprite-tiling is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var wo=function(t,r){return wo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)n.hasOwnProperty(i)&&(e[i]=n[i])},wo(t,r)};function Fc(t,r){wo(t,r);function e(){this.constructor=t}t.prototype=r===null?Object.create(r):(e.prototype=r.prototype,new e)}var Xn=new zt;(function(t){Fc(r,t);function r(e,n,i){n===void 0&&(n=100),i===void 0&&(i=100);var a=t.call(this,e)||this;return a.tileTransform=new Kl,a._width=n,a._height=i,a.uvMatrix=a.texture.uvMatrix||new _u(e),a.pluginName="tilingSprite",a.uvRespectAnchor=!1,a}return Object.defineProperty(r.prototype,"clampMargin",{get:function(){return this.uvMatrix.clampMargin},set:function(e){this.uvMatrix.clampMargin=e,this.uvMatrix.update(!0)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"tileScale",{get:function(){return this.tileTransform.scale},set:function(e){this.tileTransform.scale.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"tilePosition",{get:function(){return this.tileTransform.position},set:function(e){this.tileTransform.position.copyFrom(e)},enumerable:!1,configurable:!0}),r.prototype._onTextureUpdate=function(){this.uvMatrix&&(this.uvMatrix.texture=this._texture),this._cachedTint=16777215},r.prototype._render=function(e){var n=this._texture;!n||!n.valid||(this.tileTransform.updateLocalTransform(),this.uvMatrix.update(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this))},r.prototype._calculateBounds=function(){var e=this._width*-this._anchor._x,n=this._height*-this._anchor._y,i=this._width*(1-this._anchor._x),a=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,e,n,i,a)},r.prototype.getLocalBounds=function(e){return this.children.length===0?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new Pt),e=this._localBoundsRect),this._bounds.getRectangle(e)):t.prototype.getLocalBounds.call(this,e)},r.prototype.containsPoint=function(e){this.worldTransform.applyInverse(e,Xn);var n=this._width,i=this._height,a=-n*this.anchor._x;if(Xn.x>=a&&Xn.x<a+n){var s=-i*this.anchor._y;if(Xn.y>=s&&Xn.y<s+i)return!0}return!1},r.prototype.destroy=function(e){t.prototype.destroy.call(this,e),this.tileTransform=null,this.uvMatrix=null},r.from=function(e,n){var i=e instanceof mt?e:mt.from(e,n);return new r(i,n.width,n.height)},Object.defineProperty(r.prototype,"width",{get:function(){return this._width},set:function(e){this._width=e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"height",{get:function(){return this._height},set:function(e){this._height=e},enumerable:!1,configurable:!0}),r})(_n);var S0=`#version 100
#define SHADER_NAME Tiling-Sprite-Simple-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;

void main(void)
{
    vec4 texSample = texture2D(uSampler, vTextureCoord);
    gl_FragColor = texSample * uColor;
}
`,Tf=`#version 100
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,O0=`#version 100
#ifdef GL_EXT_shader_texture_lod
    #extension GL_EXT_shader_texture_lod : enable
#endif
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    #ifdef GL_EXT_shader_texture_lod
        vec4 texSample = unclamped == coord
            ? texture2D(uSampler, coord) 
            : texture2DLodEXT(uSampler, coord, 0);
    #else
        vec4 texSample = texture2D(uSampler, coord);
    #endif

    gl_FragColor = texSample * uColor;
}
`,U0=`#version 300 es
#define SHADER_NAME Tiling-Sprite-300

precision lowp float;

in vec2 aVertexPosition;
in vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

out vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,F0=`#version 300 es
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

in vec2 vTextureCoord;

out vec4 fragmentColor;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    vec4 texSample = texture(uSampler, coord, unclamped == coord ? 0.0f : -32.0f);// lod-bias very negative to force lod 0

    fragmentColor = texSample * uColor;
}
`,$i=new Wt,B0=function(t){Fc(r,t);function r(e){var n=t.call(this,e)||this;return e.runners.contextChange.add(n),n.quad=new nc,n.state=kr.for2d(),n}return r.prototype.contextChange=function(){var e=this.renderer,n={globals:e.globalUniforms};this.simpleShader=sr.from(Tf,S0,n),this.shader=e.context.webGLVersion>1?sr.from(U0,F0,n):sr.from(Tf,O0,n)},r.prototype.render=function(e){var n=this.renderer,i=this.quad,a=i.vertices;a[0]=a[6]=e._width*-e.anchor.x,a[1]=a[3]=e._height*-e.anchor.y,a[2]=a[4]=e._width*(1-e.anchor.x),a[5]=a[7]=e._height*(1-e.anchor.y);var s=e.uvRespectAnchor?e.anchor.x:0,o=e.uvRespectAnchor?e.anchor.y:0;a=i.uvs,a[0]=a[6]=-s,a[1]=a[3]=-o,a[2]=a[4]=1-s,a[5]=a[7]=1-o,i.invalidate();var u=e._texture,h=u.baseTexture,f=e.tileTransform.localTransform,l=e.uvMatrix,c=h.isPowerOfTwo&&u.frame.width===h.width&&u.frame.height===h.height;c&&(h._glTextures[n.CONTEXT_UID]?c=h.wrapMode!==Ke.CLAMP:h.wrapMode===Ke.CLAMP&&(h.wrapMode=Ke.REPEAT));var d=c?this.simpleShader:this.shader,p=u.width,v=u.height,_=e._width,m=e._height;$i.set(f.a*p/_,f.b*p/m,f.c*v/_,f.d*v/m,f.tx/_,f.ty/m),$i.invert(),c?$i.prepend(l.mapCoord):(d.uniforms.uMapCoord=l.mapCoord.toArray(!0),d.uniforms.uClampFrame=l.uClampFrame,d.uniforms.uClampOffset=l.uClampOffset),d.uniforms.uTransform=$i.toArray(!0),d.uniforms.uColor=Vl(e.tint,e.worldAlpha,d.uniforms.uColor,h.alphaMode),d.uniforms.translationMatrix=e.transform.worldTransform.toArray(!0),d.uniforms.uSampler=u,n.shader.bind(d),n.geometry.bind(i),this.state.blendMode=jl(e.blendMode,h.alphaMode),n.state.set(this.state),n.geometry.draw(this.renderer.gl.TRIANGLES,6,0)},r}(Ha);/*!
 * @pixi/mesh - v6.2.2
 * Compiled Wed, 26 Jan 2022 16:23:27 UTC
 *
 * @pixi/mesh is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var xo=function(t,r){return xo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)n.hasOwnProperty(i)&&(e[i]=n[i])},xo(t,r)};function Eu(t,r){xo(t,r);function e(){this.constructor=t}t.prototype=r===null?Object.create(r):(e.prototype=r.prototype,new e)}var L0=function(){function t(r,e){this.uvBuffer=r,this.uvMatrix=e,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}return t.prototype.update=function(r){if(!(!r&&this._bufferUpdateId===this.uvBuffer._updateID&&this._textureUpdateId===this.uvMatrix._updateID)){this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;var e=this.uvBuffer.data;(!this.data||this.data.length!==e.length)&&(this.data=new Float32Array(e.length)),this.uvMatrix.multiplyUvs(e,this.data),this._updateID++}},t}(),Ns=new zt,Ef=new ua,oi=function(t){Eu(r,t);function r(e,n,i,a){a===void 0&&(a=Ee.TRIANGLES);var s=t.call(this)||this;return s.geometry=e,s.shader=n,s.state=i||kr.for2d(),s.drawMode=a,s.start=0,s.size=0,s.uvs=null,s.indices=null,s.vertexData=new Float32Array(1),s.vertexDirty=-1,s._transformID=-1,s._roundPixels=at.ROUND_PIXELS,s.batchUvs=null,s}return Object.defineProperty(r.prototype,"geometry",{get:function(){return this._geometry},set:function(e){this._geometry!==e&&(this._geometry&&(this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose()),this._geometry=e,this._geometry&&this._geometry.refCount++,this.vertexDirty=-1)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"uvBuffer",{get:function(){return this.geometry.buffers[1]},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"verticesBuffer",{get:function(){return this.geometry.buffers[0]},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"material",{get:function(){return this.shader},set:function(e){this.shader=e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(e){this.state.blendMode=e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(e){this._roundPixels!==e&&(this._transformID=-1),this._roundPixels=e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"tint",{get:function(){return"tint"in this.shader?this.shader.tint:null},set:function(e){this.shader.tint=e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"texture",{get:function(){return"texture"in this.shader?this.shader.texture:null},set:function(e){this.shader.texture=e},enumerable:!1,configurable:!0}),r.prototype._render=function(e){var n=this.geometry.buffers[0].data,i=this.shader;i.batchable&&this.drawMode===Ee.TRIANGLES&&n.length<r.BATCHABLE_SIZE*2?this._renderToBatch(e):this._renderDefault(e)},r.prototype._renderDefault=function(e){var n=this.shader;n.alpha=this.worldAlpha,n.update&&n.update(),e.batch.flush(),n.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0),e.shader.bind(n),e.state.set(this.state),e.geometry.bind(this.geometry,n),e.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)},r.prototype._renderToBatch=function(e){var n=this.geometry,i=this.shader;i.uvMatrix&&(i.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=n.indexBuffer.data,this._tintRGB=i._tintRGB,this._texture=i.texture;var a=this.material.pluginName;e.batch.setObjectRenderer(e.plugins[a]),e.plugins[a].render(this)},r.prototype.calculateVertices=function(){var e=this.geometry,n=e.buffers[0],i=n.data,a=n._updateID;if(!(a===this.vertexDirty&&this._transformID===this.transform._worldID)){this._transformID=this.transform._worldID,this.vertexData.length!==i.length&&(this.vertexData=new Float32Array(i.length));for(var s=this.transform.worldTransform,o=s.a,u=s.b,h=s.c,f=s.d,l=s.tx,c=s.ty,d=this.vertexData,p=0;p<d.length/2;p++){var v=i[p*2],_=i[p*2+1];d[p*2]=o*v+h*_+l,d[p*2+1]=u*v+f*_+c}if(this._roundPixels)for(var m=at.RESOLUTION,p=0;p<d.length;++p)d[p]=Math.round((d[p]*m|0)/m);this.vertexDirty=a}},r.prototype.calculateUvs=function(){var e=this.geometry.buffers[1],n=this.shader;n.uvMatrix.isSimple?this.uvs=e.data:(this.batchUvs||(this.batchUvs=new L0(e,n.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)},r.prototype._calculateBounds=function(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)},r.prototype.containsPoint=function(e){if(!this.getBounds().contains(e.x,e.y))return!1;this.worldTransform.applyInverse(e,Ns);for(var n=this.geometry.getBuffer("aVertexPosition").data,i=Ef.points,a=this.geometry.getIndex().data,s=a.length,o=this.drawMode===4?3:1,u=0;u+2<s;u+=o){var h=a[u]*2,f=a[u+1]*2,l=a[u+2]*2;if(i[0]=n[h],i[1]=n[h+1],i[2]=n[f],i[3]=n[f+1],i[4]=n[l],i[5]=n[l+1],Ef.contains(Ns.x,Ns.y))return!0}return!1},r.prototype.destroy=function(e){t.prototype.destroy.call(this,e),this._cachedTexture&&(this._cachedTexture.destroy(),this._cachedTexture=null),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null},r.BATCHABLE_SIZE=100,r}(Ie),M0=`varying vec2 vTextureCoord;
uniform vec4 uColor;

uniform sampler2D uSampler;

void main(void)
{
    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;
}
`,G0=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTextureMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;
}
`,ui=function(t){Eu(r,t);function r(e,n){var i=this,a={uSampler:e,alpha:1,uTextureMatrix:Wt.IDENTITY,uColor:new Float32Array([1,1,1,1])};return n=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},n),n.uniforms&&Object.assign(a,n.uniforms),i=t.call(this,n.program||wi.from(G0,M0),a)||this,i._colorDirty=!1,i.uvMatrix=new _u(e),i.batchable=n.program===void 0,i.pluginName=n.pluginName,i.tint=n.tint,i.alpha=n.alpha,i}return Object.defineProperty(r.prototype,"texture",{get:function(){return this.uniforms.uSampler},set:function(e){this.uniforms.uSampler!==e&&(this.uniforms.uSampler=e,this.uvMatrix.texture=e)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"alpha",{get:function(){return this._alpha},set:function(e){e!==this._alpha&&(this._alpha=e,this._colorDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"tint",{get:function(){return this._tint},set:function(e){e!==this._tint&&(this._tint=e,this._tintRGB=(e>>16)+(e&65280)+((e&255)<<16),this._colorDirty=!0)},enumerable:!1,configurable:!0}),r.prototype.update=function(){if(this._colorDirty){this._colorDirty=!1;var e=this.texture.baseTexture;Vl(this._tint,this._alpha,this.uniforms.uColor,e.alphaMode)}this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)},r}(sr),Xa=function(t){Eu(r,t);function r(e,n,i){var a=t.call(this)||this,s=new Jt(e),o=new Jt(n,!0),u=new Jt(i,!0,!0);return a.addAttribute("aVertexPosition",s,2,!1,dt.FLOAT).addAttribute("aTextureCoord",o,2,!1,dt.FLOAT).addIndex(u),a._updateId=-1,a}return Object.defineProperty(r.prototype,"vertexDirtyId",{get:function(){return this.buffers[0]._updateID},enumerable:!1,configurable:!0}),r}(Ei);/*!
 * @pixi/text-bitmap - v6.2.2
 * Compiled Wed, 26 Jan 2022 16:23:27 UTC
 *
 * @pixi/text-bitmap is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Io=function(t,r){return Io=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)n.hasOwnProperty(i)&&(e[i]=n[i])},Io(t,r)};function D0(t,r){Io(t,r);function e(){this.constructor=t}t.prototype=r===null?Object.create(r):(e.prototype=r.prototype,new e)}var xa=function(){function t(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[],this.distanceField=[]}return t}(),k0=function(){function t(){}return t.test=function(r){return typeof r=="string"&&r.indexOf("info face=")===0},t.parse=function(r){var e=r.match(/^[a-z]+\s+.+$/gm),n={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(var i in e){var a=e[i].match(/^[a-z]+/gm)[0],s=e[i].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),o={};for(var u in s){var h=s[u].split("="),f=h[0],l=h[1].replace(/"/gm,""),c=parseFloat(l),d=isNaN(c)?l:c;o[f]=d}n[a].push(o)}var p=new xa;return n.info.forEach(function(v){return p.info.push({face:v.face,size:parseInt(v.size,10)})}),n.common.forEach(function(v){return p.common.push({lineHeight:parseInt(v.lineHeight,10)})}),n.page.forEach(function(v){return p.page.push({id:parseInt(v.id,10),file:v.file})}),n.char.forEach(function(v){return p.char.push({id:parseInt(v.id,10),page:parseInt(v.page,10),x:parseInt(v.x,10),y:parseInt(v.y,10),width:parseInt(v.width,10),height:parseInt(v.height,10),xoffset:parseInt(v.xoffset,10),yoffset:parseInt(v.yoffset,10),xadvance:parseInt(v.xadvance,10)})}),n.kerning.forEach(function(v){return p.kerning.push({first:parseInt(v.first,10),second:parseInt(v.second,10),amount:parseInt(v.amount,10)})}),n.distanceField.forEach(function(v){return p.distanceField.push({distanceRange:parseInt(v.distanceRange,10),fieldType:v.fieldType})}),p},t}(),Co=function(){function t(){}return t.test=function(r){return r instanceof XMLDocument&&r.getElementsByTagName("page").length&&r.getElementsByTagName("info")[0].getAttribute("face")!==null},t.parse=function(r){for(var e=new xa,n=r.getElementsByTagName("info"),i=r.getElementsByTagName("common"),a=r.getElementsByTagName("page"),s=r.getElementsByTagName("char"),o=r.getElementsByTagName("kerning"),u=r.getElementsByTagName("distanceField"),h=0;h<n.length;h++)e.info.push({face:n[h].getAttribute("face"),size:parseInt(n[h].getAttribute("size"),10)});for(var h=0;h<i.length;h++)e.common.push({lineHeight:parseInt(i[h].getAttribute("lineHeight"),10)});for(var h=0;h<a.length;h++)e.page.push({id:parseInt(a[h].getAttribute("id"),10)||0,file:a[h].getAttribute("file")});for(var h=0;h<s.length;h++){var f=s[h];e.char.push({id:parseInt(f.getAttribute("id"),10),page:parseInt(f.getAttribute("page"),10)||0,x:parseInt(f.getAttribute("x"),10),y:parseInt(f.getAttribute("y"),10),width:parseInt(f.getAttribute("width"),10),height:parseInt(f.getAttribute("height"),10),xoffset:parseInt(f.getAttribute("xoffset"),10),yoffset:parseInt(f.getAttribute("yoffset"),10),xadvance:parseInt(f.getAttribute("xadvance"),10)})}for(var h=0;h<o.length;h++)e.kerning.push({first:parseInt(o[h].getAttribute("first"),10),second:parseInt(o[h].getAttribute("second"),10),amount:parseInt(o[h].getAttribute("amount"),10)});for(var h=0;h<u.length;h++)e.distanceField.push({fieldType:u[h].getAttribute("fieldType"),distanceRange:parseInt(u[h].getAttribute("distanceRange"),10)});return e},t}(),H0=function(){function t(){}return t.test=function(r){if(typeof r=="string"&&r.indexOf("<font>")>-1){var e=new self.DOMParser().parseFromString(r,"text/xml");return Co.test(e)}return!1},t.parse=function(r){var e=new self.DOMParser().parseFromString(r,"text/xml");return Co.parse(e)},t}(),Ss=[k0,Co,H0];function Bc(t){for(var r=0;r<Ss.length;r++)if(Ss[r].test(t))return Ss[r];return null}function X0(t,r,e,n,i,a){var s=e.fill;if(Array.isArray(s)){if(s.length===1)return s[0]}else return s;var o,u=e.dropShadow?e.dropShadowDistance:0,h=e.padding||0,f=t.width/n-u-h*2,l=t.height/n-u-h*2,c=s.slice(),d=e.fillGradientStops.slice();if(!d.length)for(var p=c.length+1,v=1;v<p;++v)d.push(v/p);if(c.unshift(s[0]),d.unshift(0),c.push(s[s.length-1]),d.push(1),e.fillGradientType===si.LINEAR_VERTICAL){o=r.createLinearGradient(f/2,h,f/2,l+h);for(var _=0,m=a.fontProperties.fontSize+e.strokeThickness,b=m/l,v=0;v<i.length;v++)for(var T=a.lineHeight*v,w=0;w<c.length;w++){var y=0;typeof d[w]=="number"?y=d[w]:y=w/c.length;var g=T/l+y*b,N=Math.max(_,g);N=Math.min(N,1),o.addColorStop(N,c[w]),_=N}}else{o=r.createLinearGradient(h,l/2,f+h,l/2);for(var P=c.length+1,C=1,v=0;v<c.length;v++){var O=void 0;typeof d[v]=="number"?O=d[v]:O=C/P,o.addColorStop(O,c[v]),C++}}return o}function j0(t,r,e,n,i,a,s){var o=e.text,u=e.fontProperties;r.translate(n,i),r.scale(a,a);var h=s.strokeThickness/2,f=-(s.strokeThickness/2);if(r.font=s.toFontString(),r.lineWidth=s.strokeThickness,r.textBaseline=s.textBaseline,r.lineJoin=s.lineJoin,r.miterLimit=s.miterLimit,r.fillStyle=X0(t,r,s,a,[o],e),r.strokeStyle=s.stroke,s.dropShadow){var l=s.dropShadowColor,c=sn(typeof l=="number"?l:Hl(l)),d=s.dropShadowBlur*a,p=s.dropShadowDistance*a;r.shadowColor="rgba("+c[0]*255+","+c[1]*255+","+c[2]*255+","+s.dropShadowAlpha+")",r.shadowBlur=d,r.shadowOffsetX=Math.cos(s.dropShadowAngle)*p,r.shadowOffsetY=Math.sin(s.dropShadowAngle)*p}else r.shadowColor="black",r.shadowBlur=0,r.shadowOffsetX=0,r.shadowOffsetY=0;s.stroke&&s.strokeThickness&&r.strokeText(o,h,f+e.lineHeight-u.descent),s.fill&&r.fillText(o,h,f+e.lineHeight-u.descent),r.setTransform(1,0,0,1,0,0),r.fillStyle="rgba(0, 0, 0, 0)"}function Lc(t){return Array.from?Array.from(t):t.split("")}function V0(t){typeof t=="string"&&(t=[t]);for(var r=[],e=0,n=t.length;e<n;e++){var i=t[e];if(Array.isArray(i)){if(i.length!==2)throw new Error("[BitmapFont]: Invalid character range length, expecting 2 got "+i.length+".");var a=i[0].charCodeAt(0),s=i[1].charCodeAt(0);if(s<a)throw new Error("[BitmapFont]: Invalid character range.");for(var o=a,u=s;o<=u;o++)r.push(String.fromCharCode(o))}else r.push.apply(r,Lc(i))}if(r.length===0)throw new Error("[BitmapFont]: Empty set when resolving characters.");return r}function ha(t){return t.codePointAt?t.codePointAt(0):t.charCodeAt(0)}var qr=function(){function t(r,e,n){var i,a,s=r.info[0],o=r.common[0],u=r.page[0],h=r.distanceField[0],f=ya(u.file),l={};this._ownsTextures=n,this.font=s.face,this.size=s.size,this.lineHeight=o.lineHeight/f,this.chars={},this.pageTextures=l;for(var c=0;c<r.page.length;c++){var d=r.page[c],p=d.id,v=d.file;l[p]=e instanceof Array?e[c]:e[v],(h==null?void 0:h.fieldType)&&h.fieldType!=="none"&&(l[p].baseTexture.alphaMode=Oe.NO_PREMULTIPLIED_ALPHA)}for(var c=0;c<r.char.length;c++){var _=r.char[c],p=_.id,m=_.page,b=r.char[c],T=b.x,w=b.y,y=b.width,g=b.height,N=b.xoffset,P=b.yoffset,C=b.xadvance;T/=f,w/=f,y/=f,g/=f,N/=f,P/=f,C/=f;var O=new Pt(T+l[m].frame.x/f,w+l[m].frame.y/f,y,g);this.chars[p]={xOffset:N,yOffset:P,xAdvance:C,kerning:{},texture:new mt(l[m].baseTexture,O),page:m}}for(var c=0;c<r.kerning.length;c++){var H=r.kerning[c],k=H.first,j=H.second,Z=H.amount;k/=f,j/=f,Z/=f,this.chars[j]&&(this.chars[j].kerning[k]=Z)}this.distanceFieldRange=h==null?void 0:h.distanceRange,this.distanceFieldType=(a=(i=h==null?void 0:h.fieldType)===null||i===void 0?void 0:i.toLowerCase())!==null&&a!==void 0?a:"none"}return t.prototype.destroy=function(){for(var r in this.chars)this.chars[r].texture.destroy(),this.chars[r].texture=null;for(var r in this.pageTextures)this._ownsTextures&&this.pageTextures[r].destroy(!0),this.pageTextures[r]=null;this.chars=null,this.pageTextures=null},t.install=function(r,e,n){var i;if(r instanceof xa)i=r;else{var a=Bc(r);if(!a)throw new Error("Unrecognized data format for font.");i=a.parse(r)}e instanceof mt&&(e=[e]);var s=new t(i,e,n);return t.available[s.font]=s,s},t.uninstall=function(r){var e=t.available[r];if(!e)throw new Error("No font found named '"+r+"'");e.destroy(),delete t.available[r]},t.from=function(r,e,n){if(!r)throw new Error("[BitmapFont] Property `name` is required.");var i=Object.assign({},t.defaultOptions,n),a=i.chars,s=i.padding,o=i.resolution,u=i.textureWidth,h=i.textureHeight,f=V0(a),l=e instanceof un?e:new un(e),c=u,d=new xa;d.info[0]={face:l.fontFamily,size:l.fontSize},d.common[0]={lineHeight:l.fontSize};for(var p=0,v=0,_,m,b,T=0,w=[],y=0;y<f.length;y++){_||(_=document.createElement("canvas"),_.width=u,_.height=h,m=_.getContext("2d"),b=new St(_,{resolution:o}),w.push(new mt(b)),d.page.push({id:w.length-1,file:""}));var g=ge.measureText(f[y],l,!1,_),N=g.width,P=Math.ceil(g.height),C=Math.ceil((l.fontStyle==="italic"?2:1)*N);if(v>=h-P*o){if(v===0)throw new Error("[BitmapFont] textureHeight "+h+"px is "+("too small for "+l.fontSize+"px fonts"));--y,_=null,m=null,b=null,v=0,p=0,T=0;continue}if(T=Math.max(P+g.fontProperties.descent,T),C*o+p>=c){--y,v+=T*o,v=Math.ceil(v),p=0,T=0;continue}j0(_,m,g,p,v,o,l);var O=ha(g.text);d.char.push({id:O,page:w.length-1,x:p/o,y:v/o,width:C,height:P,xoffset:0,yoffset:0,xadvance:Math.ceil(N-(l.dropShadow?l.dropShadowDistance:0)-(l.stroke?l.strokeThickness:0))}),p+=(C+2*s)*o,p=Math.ceil(p)}for(var y=0,H=f.length;y<H;y++)for(var k=f[y],j=0;j<H;j++){var Z=f[j],F=m.measureText(k).width,X=m.measureText(Z).width,z=m.measureText(k+Z).width,A=z-(F+X);A&&d.kerning.push({first:ha(k),second:ha(Z),amount:A})}var W=new t(d,w,!0);return t.available[r]!==void 0&&t.uninstall(r),t.available[r]=W,W},t.ALPHA=[["a","z"],["A","Z"]," "],t.NUMERIC=[["0","9"]],t.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],t.ASCII=[[" ","~"]],t.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:t.ALPHANUMERIC},t.available={},t}(),z0=`// Pixi texture info\r
varying vec2 vTextureCoord;\r
uniform sampler2D uSampler;\r
\r
// Tint\r
uniform vec4 uColor;\r
\r
// on 2D applications fwidth is screenScale / glyphAtlasScale * distanceFieldRange\r
uniform float uFWidth;\r
\r
void main(void) {\r
\r
  // To stack MSDF and SDF we need a non-pre-multiplied-alpha texture.\r
  vec4 texColor = texture2D(uSampler, vTextureCoord);\r
\r
  // MSDF\r
  float median = texColor.r + texColor.g + texColor.b -\r
                  min(texColor.r, min(texColor.g, texColor.b)) -\r
                  max(texColor.r, max(texColor.g, texColor.b));\r
  // SDF\r
  median = min(median, texColor.a);\r
\r
  float screenPxDistance = uFWidth * (median - 0.5);\r
  float alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);\r
\r
  // NPM Textures, NPM outputs\r
  gl_FragColor = vec4(uColor.rgb, uColor.a * alpha);\r
\r
}\r
`,W0=`// Mesh material default fragment\r
attribute vec2 aVertexPosition;\r
attribute vec2 aTextureCoord;\r
\r
uniform mat3 projectionMatrix;\r
uniform mat3 translationMatrix;\r
uniform mat3 uTextureMatrix;\r
\r
varying vec2 vTextureCoord;\r
\r
void main(void)\r
{\r
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\r
\r
    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\r
}\r
`,K0=[],Y0=[],wf=[];(function(t){D0(r,t);function r(e,n){n===void 0&&(n={});var i=t.call(this)||this;i._tint=16777215;var a=Object.assign({},r.styleDefaults,n),s=a.align,o=a.tint,u=a.maxWidth,h=a.letterSpacing,f=a.fontName,l=a.fontSize;if(!qr.available[f])throw new Error('Missing BitmapFont "'+f+'"');return i._activePagesMeshData=[],i._textWidth=0,i._textHeight=0,i._align=s,i._tint=o,i._fontName=f,i._fontSize=l||qr.available[f].size,i._text=e,i._maxWidth=u,i._maxLineHeight=0,i._letterSpacing=h,i._anchor=new tn(function(){i.dirty=!0},i,0,0),i._roundPixels=at.ROUND_PIXELS,i.dirty=!0,i._textureCache={},i}return r.prototype.updateText=function(){for(var e,n=qr.available[this._fontName],i=this._fontSize/n.size,a=new zt,s=[],o=[],u=[],h=this._text.replace(/(?:\r\n|\r)/g,`
`)||" ",f=Lc(h),l=this._maxWidth*n.size/this._fontSize,c=n.distanceFieldType==="none"?K0:Y0,d=null,p=0,v=0,_=0,m=-1,b=0,T=0,w=0,y=0,g=0;g<f.length;g++){var N=f[g],P=ha(N);if(/(?:\s)/.test(N)&&(m=g,b=p,y++),N==="\r"||N===`
`){o.push(p),u.push(-1),v=Math.max(v,p),++_,++T,a.x=0,a.y+=n.lineHeight,d=null,y=0;continue}var C=n.chars[P];if(!!C){d&&C.kerning[d]&&(a.x+=C.kerning[d]);var O=wf.pop()||{texture:mt.EMPTY,line:0,charCode:0,prevSpaces:0,position:new zt};O.texture=C.texture,O.line=_,O.charCode=P,O.position.x=a.x+C.xOffset+this._letterSpacing/2,O.position.y=a.y+C.yOffset,O.prevSpaces=y,s.push(O),p=O.position.x+C.texture.orig.width,a.x+=C.xAdvance+this._letterSpacing,w=Math.max(w,C.yOffset+C.texture.height),d=P,m!==-1&&l>0&&a.x>l&&(++T,rn(s,1+m-T,1+g-m),g=m,m=-1,o.push(b),u.push(s.length>0?s[s.length-1].prevSpaces:0),v=Math.max(v,b),_++,a.x=0,a.y+=n.lineHeight,d=null,y=0)}}var H=f[f.length-1];H!=="\r"&&H!==`
`&&(/(?:\s)/.test(H)&&(p=b),o.push(p),v=Math.max(v,p),u.push(-1));for(var k=[],g=0;g<=_;g++){var j=0;this._align==="right"?j=v-o[g]:this._align==="center"?j=(v-o[g])/2:this._align==="justify"&&(j=u[g]<0?0:(v-o[g])/u[g]),k.push(j)}for(var Z=s.length,F={},X=[],z=this._activePagesMeshData,g=0;g<z.length;g++)c.push(z[g]);for(var g=0;g<Z;g++){var A=s[g].texture,W=A.baseTexture.uid;if(!F[W]){var B=c.pop();if(!B){var S=new Xa,K=void 0,tt=void 0;n.distanceFieldType==="none"?(K=new ui(mt.EMPTY),tt=ht.NORMAL):(K=new ui(mt.EMPTY,{program:wi.from(W0,z0),uniforms:{uFWidth:0}}),tt=ht.NORMAL_NPM);var nt=new oi(S,K);nt.blendMode=tt,B={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:nt,vertices:null,uvs:null,indices:null}}B.index=0,B.indexCount=0,B.vertexCount=0,B.uvsCount=0,B.total=0;var et=this._textureCache;et[W]=et[W]||new mt(A.baseTexture),B.mesh.texture=et[W],B.mesh.tint=this._tint,X.push(B),F[W]=B}F[W].total++}for(var g=0;g<z.length;g++)X.indexOf(z[g])===-1&&this.removeChild(z[g].mesh);for(var g=0;g<X.length;g++)X[g].mesh.parent!==this&&this.addChild(X[g].mesh);this._activePagesMeshData=X;for(var g in F){var B=F[g],st=B.total;if(!(((e=B.indices)===null||e===void 0?void 0:e.length)>6*st)||B.vertices.length<oi.BATCHABLE_SIZE*2)B.vertices=new Float32Array(4*2*st),B.uvs=new Float32Array(4*2*st),B.indices=new Uint16Array(6*st);else for(var it=B.total,It=B.vertices,vt=it*4*2;vt<It.length;vt++)It[vt]=0;B.mesh.size=6*st}for(var g=0;g<Z;g++){var N=s[g],Ct=N.position.x+k[N.line]*(this._align==="justify"?N.prevSpaces:1);this._roundPixels&&(Ct=Math.round(Ct));var bt=Ct*i,wt=N.position.y*i,A=N.texture,ot=F[A.baseTexture.uid],Nt=A.frame,At=A._uvs,ft=ot.index++;ot.indices[ft*6+0]=0+ft*4,ot.indices[ft*6+1]=1+ft*4,ot.indices[ft*6+2]=2+ft*4,ot.indices[ft*6+3]=0+ft*4,ot.indices[ft*6+4]=2+ft*4,ot.indices[ft*6+5]=3+ft*4,ot.vertices[ft*8+0]=bt,ot.vertices[ft*8+1]=wt,ot.vertices[ft*8+2]=bt+Nt.width*i,ot.vertices[ft*8+3]=wt,ot.vertices[ft*8+4]=bt+Nt.width*i,ot.vertices[ft*8+5]=wt+Nt.height*i,ot.vertices[ft*8+6]=bt,ot.vertices[ft*8+7]=wt+Nt.height*i,ot.uvs[ft*8+0]=At.x0,ot.uvs[ft*8+1]=At.y0,ot.uvs[ft*8+2]=At.x1,ot.uvs[ft*8+3]=At.y1,ot.uvs[ft*8+4]=At.x2,ot.uvs[ft*8+5]=At.y2,ot.uvs[ft*8+6]=At.x3,ot.uvs[ft*8+7]=At.y3}this._textWidth=v*i,this._textHeight=(a.y+n.lineHeight)*i;for(var g in F){var B=F[g];if(this.anchor.x!==0||this.anchor.y!==0)for(var Bt=0,Ht=this._textWidth*this.anchor.x,Yt=this._textHeight*this.anchor.y,$t=0;$t<B.total;$t++)B.vertices[Bt++]-=Ht,B.vertices[Bt++]-=Yt,B.vertices[Bt++]-=Ht,B.vertices[Bt++]-=Yt,B.vertices[Bt++]-=Ht,B.vertices[Bt++]-=Yt,B.vertices[Bt++]-=Ht,B.vertices[Bt++]-=Yt;this._maxLineHeight=w*i;var te=B.mesh.geometry.getBuffer("aVertexPosition"),ee=B.mesh.geometry.getBuffer("aTextureCoord"),re=B.mesh.geometry.getIndex();te.data=B.vertices,ee.data=B.uvs,re.data=B.indices,te.update(),ee.update(),re.update()}for(var g=0;g<s.length;g++)wf.push(s[g])},r.prototype.updateTransform=function(){this.validate(),this.containerUpdateTransform()},r.prototype._render=function(e){var n=qr.available[this._fontName],i=n.distanceFieldRange,a=n.distanceFieldType,s=n.size;if(a!=="none")for(var o=this.worldTransform,u=o.a,h=o.b,f=o.c,l=o.d,c=Math.sqrt(u*u+h*h),d=Math.sqrt(f*f+l*l),p=(Math.abs(c)+Math.abs(d))/2,v=this._fontSize/s,_=0,m=this._activePagesMeshData;_<m.length;_++){var b=m[_];b.mesh.shader.uniforms.uFWidth=p*i*v*e.resolution}t.prototype._render.call(this,e)},r.prototype.getLocalBounds=function(){return this.validate(),t.prototype.getLocalBounds.call(this)},r.prototype.validate=function(){this.dirty&&(this.updateText(),this.dirty=!1)},Object.defineProperty(r.prototype,"tint",{get:function(){return this._tint},set:function(e){if(this._tint!==e){this._tint=e;for(var n=0;n<this._activePagesMeshData.length;n++)this._activePagesMeshData[n].mesh.tint=e}},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"align",{get:function(){return this._align},set:function(e){this._align!==e&&(this._align=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"fontName",{get:function(){return this._fontName},set:function(e){if(!qr.available[e])throw new Error('Missing BitmapFont "'+e+'"');this._fontName!==e&&(this._fontName=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"fontSize",{get:function(){return this._fontSize},set:function(e){this._fontSize!==e&&(this._fontSize=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"anchor",{get:function(){return this._anchor},set:function(e){typeof e=="number"?this._anchor.set(e):this._anchor.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"text",{get:function(){return this._text},set:function(e){e=String(e==null?"":e),this._text!==e&&(this._text=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"maxWidth",{get:function(){return this._maxWidth},set:function(e){this._maxWidth!==e&&(this._maxWidth=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"maxLineHeight",{get:function(){return this.validate(),this._maxLineHeight},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"textWidth",{get:function(){return this.validate(),this._textWidth},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(e){e!==this._roundPixels&&(this._roundPixels=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"textHeight",{get:function(){return this.validate(),this._textHeight},enumerable:!1,configurable:!0}),r.prototype.destroy=function(e){var n=this._textureCache;for(var i in n){var a=n[i];a.destroy(),delete n[i]}this._textureCache=null,t.prototype.destroy.call(this,e)},r.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0},r})(Ie);var q0=function(){function t(){}return t.add=function(){Xt.setExtensionXhrType("fnt",Xt.XHR_RESPONSE_TYPE.TEXT)},t.use=function(r,e){var n=Bc(r.data);if(!n){e();return}for(var i=t.getBaseUrl(this,r),a=n.parse(r.data),s={},o=function(v){s[v.metadata.pageFile]=v.texture,Object.keys(s).length===a.page.length&&(r.bitmapFont=qr.install(a,s,!0),e())},u=0;u<a.page.length;++u){var h=a.page[u].file,f=i+h,l=!1;for(var c in this.resources){var d=this.resources[c];if(d.url===f){d.metadata.pageFile=h,d.texture?o(d):d.onAfterMiddleware.add(o),l=!0;break}}if(!l){var p={crossOrigin:r.crossOrigin,loadType:Xt.LOAD_TYPE.IMAGE,metadata:Object.assign({pageFile:h},r.metadata.imageMetadata),parentResource:r};this.add(f,p,o)}}},t.getBaseUrl=function(r,e){var n=e.isDataUrl?"":t.dirname(e.url);return e.isDataUrl&&(n==="."&&(n=""),r.baseUrl&&n&&r.baseUrl.charAt(r.baseUrl.length-1)==="/"&&(n+="/")),n=n.replace(r.baseUrl,""),n&&n.charAt(n.length-1)!=="/"&&(n+="/"),n},t.dirname=function(r){var e=r.replace(/\\/g,"/").replace(/\/$/,"").replace(/\/[^\/]*$/,"");return e===r?".":e===""?"/":e},t}();/*!
 * @pixi/filter-alpha - v6.2.2
 * Compiled Wed, 26 Jan 2022 16:23:27 UTC
 *
 * @pixi/filter-alpha is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Ro=function(t,r){return Ro=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)n.hasOwnProperty(i)&&(e[i]=n[i])},Ro(t,r)};function Z0(t,r){Ro(t,r);function e(){this.constructor=t}t.prototype=r===null?Object.create(r):(e.prototype=r.prototype,new e)}var J0=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform float uAlpha;

void main(void)
{
   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;
}
`;(function(t){Z0(r,t);function r(e){e===void 0&&(e=1);var n=t.call(this,$g,J0,{uAlpha:1})||this;return n.alpha=e,n}return Object.defineProperty(r.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(e){this.uniforms.uAlpha=e},enumerable:!1,configurable:!0}),r})(cr);/*!
 * @pixi/filter-blur - v6.2.2
 * Compiled Wed, 26 Jan 2022 16:23:27 UTC
 *
 * @pixi/filter-blur is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Ao=function(t,r){return Ao=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)n.hasOwnProperty(i)&&(e[i]=n[i])},Ao(t,r)};function Mc(t,r){Ao(t,r);function e(){this.constructor=t}t.prototype=r===null?Object.create(r):(e.prototype=r.prototype,new e)}var Q0=`
    attribute vec2 aVertexPosition;

    uniform mat3 projectionMatrix;

    uniform float strength;

    varying vec2 vBlurTexCoords[%size%];

    uniform vec4 inputSize;
    uniform vec4 outputFrame;

    vec4 filterVertexPosition( void )
    {
        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
    }

    vec2 filterTextureCoord( void )
    {
        return aVertexPosition * (outputFrame.zw * inputSize.zw);
    }

    void main(void)
    {
        gl_Position = filterVertexPosition();

        vec2 textureCoord = filterTextureCoord();
        %blur%
    }`;function $0(t,r){var e=Math.ceil(t/2),n=Q0,i="",a;r?a="vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":a="vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(var s=0;s<t;s++){var o=a.replace("%index%",s.toString());o=o.replace("%sampleIndex%",s-(e-1)+".0"),i+=o,i+=`
`}return n=n.replace("%blur%",i),n=n.replace("%size%",t.toString()),n}var tb={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},eb=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join(`
`);function rb(t){for(var r=tb[t],e=r.length,n=eb,i="",a="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;",s,o=0;o<t;o++){var u=a.replace("%index%",o.toString());s=o,o>=e&&(s=t-o-1),u=u.replace("%value%",r[s].toString()),i+=u,i+=`
`}return n=n.replace("%blur%",i),n=n.replace("%size%",t.toString()),n}/*!
 * @pixi/constants - v6.2.2
 * Compiled Wed, 26 Jan 2022 16:23:27 UTC
 *
 * @pixi/constants is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var xf;(function(t){t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2"})(xf||(xf={}));var If;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS"})(If||(If={}));var Cf;(function(t){t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL"})(Cf||(Cf={}));var Rf;(function(t){t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR"})(Rf||(Rf={}));var Af;(function(t){t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN"})(Af||(Af={}));var Pf;(function(t){t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.RG=33319]="RG",t[t.RED=6403]="RED",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL"})(Pf||(Pf={}));var Nf;(function(t){t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"})(Nf||(Nf={}));var Sf;(function(t){t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.BYTE=5120]="BYTE",t[t.SHORT=5122]="SHORT",t[t.INT=5124]="INT",t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",t[t.HALF_FLOAT=36193]="HALF_FLOAT"})(Sf||(Sf={}));var Of;(function(t){t[t.FLOAT=0]="FLOAT",t[t.INT=1]="INT",t[t.UINT=2]="UINT"})(Of||(Of={}));var Uf;(function(t){t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR"})(Uf||(Uf={}));var Ff;(function(t){t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"})(Ff||(Ff={}));var Bf;(function(t){t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON",t[t.ON_MANUAL=3]="ON_MANUAL"})(Bf||(Bf={}));var Lf;(function(t){t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",t[t.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA"})(Lf||(Lf={}));var hi;(function(t){t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT"})(hi||(hi={}));var Mf;(function(t){t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL"})(Mf||(Mf={}));var Gf;(function(t){t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp"})(Gf||(Gf={}));var Df;(function(t){t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE"})(Df||(Df={}));var kf;(function(t){t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH"})(kf||(kf={}));var Hf;(function(t){t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"})(Hf||(Hf={}));var Xf=function(t){Mc(r,t);function r(e,n,i,a,s){n===void 0&&(n=8),i===void 0&&(i=4),a===void 0&&(a=at.FILTER_RESOLUTION),s===void 0&&(s=5);var o=this,u=$0(s,e),h=rb(s);return o=t.call(this,u,h)||this,o.horizontal=e,o.resolution=a,o._quality=0,o.quality=i,o.blur=n,o}return r.prototype.apply=function(e,n,i,a){if(i?this.horizontal?this.uniforms.strength=1/i.width*(i.width/n.width):this.uniforms.strength=1/i.height*(i.height/n.height):this.horizontal?this.uniforms.strength=1/e.renderer.width*(e.renderer.width/n.width):this.uniforms.strength=1/e.renderer.height*(e.renderer.height/n.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,this.passes===1)e.applyFilter(this,n,i,a);else{var s=e.getFilterTexture(),o=e.renderer,u=n,h=s;this.state.blend=!1,e.applyFilter(this,u,h,hi.CLEAR);for(var f=1;f<this.passes-1;f++){e.bindAndClear(u,hi.BLIT),this.uniforms.uSampler=h;var l=h;h=u,u=l,o.shader.bind(this),o.geometry.draw(5)}this.state.blend=!0,e.applyFilter(this,h,i,a),e.returnFilterTexture(s)}},Object.defineProperty(r.prototype,"blur",{get:function(){return this.strength},set:function(e){this.padding=1+Math.abs(e)*2,this.strength=e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"quality",{get:function(){return this._quality},set:function(e){this._quality=e,this.passes=e},enumerable:!1,configurable:!0}),r}(cr);(function(t){Mc(r,t);function r(e,n,i,a){e===void 0&&(e=8),n===void 0&&(n=4),i===void 0&&(i=at.FILTER_RESOLUTION),a===void 0&&(a=5);var s=t.call(this)||this;return s.blurXFilter=new Xf(!0,e,n,i,a),s.blurYFilter=new Xf(!1,e,n,i,a),s.resolution=i,s.quality=n,s.blur=e,s.repeatEdgePixels=!1,s}return r.prototype.apply=function(e,n,i,a){var s=Math.abs(this.blurXFilter.strength),o=Math.abs(this.blurYFilter.strength);if(s&&o){var u=e.getFilterTexture();this.blurXFilter.apply(e,n,u,hi.CLEAR),this.blurYFilter.apply(e,u,i,a),e.returnFilterTexture(u)}else o?this.blurYFilter.apply(e,n,i,a):this.blurXFilter.apply(e,n,i,a)},r.prototype.updatePadding=function(){this._repeatEdgePixels?this.padding=0:this.padding=Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))*2},Object.defineProperty(r.prototype,"blur",{get:function(){return this.blurXFilter.blur},set:function(e){this.blurXFilter.blur=this.blurYFilter.blur=e,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"quality",{get:function(){return this.blurXFilter.quality},set:function(e){this.blurXFilter.quality=this.blurYFilter.quality=e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"blurX",{get:function(){return this.blurXFilter.blur},set:function(e){this.blurXFilter.blur=e,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"blurY",{get:function(){return this.blurYFilter.blur},set:function(e){this.blurYFilter.blur=e,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"blendMode",{get:function(){return this.blurYFilter.blendMode},set:function(e){this.blurYFilter.blendMode=e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"repeatEdgePixels",{get:function(){return this._repeatEdgePixels},set:function(e){this._repeatEdgePixels=e,this.updatePadding()},enumerable:!1,configurable:!0}),r})(cr);/*!
 * @pixi/filter-color-matrix - v6.2.2
 * Compiled Wed, 26 Jan 2022 16:23:27 UTC
 *
 * @pixi/filter-color-matrix is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Po=function(t,r){return Po=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)n.hasOwnProperty(i)&&(e[i]=n[i])},Po(t,r)};function nb(t,r){Po(t,r);function e(){this.constructor=t}t.prototype=r===null?Object.create(r):(e.prototype=r.prototype,new e)}var ib=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform float m[20];
uniform float uAlpha;

void main(void)
{
    vec4 c = texture2D(uSampler, vTextureCoord);

    if (uAlpha == 0.0) {
        gl_FragColor = c;
        return;
    }

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (c.a > 0.0) {
      c.rgb /= c.a;
    }

    vec4 result;

    result.r = (m[0] * c.r);
        result.r += (m[1] * c.g);
        result.r += (m[2] * c.b);
        result.r += (m[3] * c.a);
        result.r += m[4];

    result.g = (m[5] * c.r);
        result.g += (m[6] * c.g);
        result.g += (m[7] * c.b);
        result.g += (m[8] * c.a);
        result.g += m[9];

    result.b = (m[10] * c.r);
       result.b += (m[11] * c.g);
       result.b += (m[12] * c.b);
       result.b += (m[13] * c.a);
       result.b += m[14];

    result.a = (m[15] * c.r);
       result.a += (m[16] * c.g);
       result.a += (m[17] * c.b);
       result.a += (m[18] * c.a);
       result.a += m[19];

    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);

    // Premultiply alpha again.
    rgb *= result.a;

    gl_FragColor = vec4(rgb, result.a);
}
`,jf=function(t){nb(r,t);function r(){var e=this,n={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};return e=t.call(this,Ic,ib,n)||this,e.alpha=1,e}return r.prototype._loadMatrix=function(e,n){n===void 0&&(n=!1);var i=e;n&&(this._multiply(i,this.uniforms.m,e),i=this._colorMatrix(i)),this.uniforms.m=i},r.prototype._multiply=function(e,n,i){return e[0]=n[0]*i[0]+n[1]*i[5]+n[2]*i[10]+n[3]*i[15],e[1]=n[0]*i[1]+n[1]*i[6]+n[2]*i[11]+n[3]*i[16],e[2]=n[0]*i[2]+n[1]*i[7]+n[2]*i[12]+n[3]*i[17],e[3]=n[0]*i[3]+n[1]*i[8]+n[2]*i[13]+n[3]*i[18],e[4]=n[0]*i[4]+n[1]*i[9]+n[2]*i[14]+n[3]*i[19]+n[4],e[5]=n[5]*i[0]+n[6]*i[5]+n[7]*i[10]+n[8]*i[15],e[6]=n[5]*i[1]+n[6]*i[6]+n[7]*i[11]+n[8]*i[16],e[7]=n[5]*i[2]+n[6]*i[7]+n[7]*i[12]+n[8]*i[17],e[8]=n[5]*i[3]+n[6]*i[8]+n[7]*i[13]+n[8]*i[18],e[9]=n[5]*i[4]+n[6]*i[9]+n[7]*i[14]+n[8]*i[19]+n[9],e[10]=n[10]*i[0]+n[11]*i[5]+n[12]*i[10]+n[13]*i[15],e[11]=n[10]*i[1]+n[11]*i[6]+n[12]*i[11]+n[13]*i[16],e[12]=n[10]*i[2]+n[11]*i[7]+n[12]*i[12]+n[13]*i[17],e[13]=n[10]*i[3]+n[11]*i[8]+n[12]*i[13]+n[13]*i[18],e[14]=n[10]*i[4]+n[11]*i[9]+n[12]*i[14]+n[13]*i[19]+n[14],e[15]=n[15]*i[0]+n[16]*i[5]+n[17]*i[10]+n[18]*i[15],e[16]=n[15]*i[1]+n[16]*i[6]+n[17]*i[11]+n[18]*i[16],e[17]=n[15]*i[2]+n[16]*i[7]+n[17]*i[12]+n[18]*i[17],e[18]=n[15]*i[3]+n[16]*i[8]+n[17]*i[13]+n[18]*i[18],e[19]=n[15]*i[4]+n[16]*i[9]+n[17]*i[14]+n[18]*i[19]+n[19],e},r.prototype._colorMatrix=function(e){var n=new Float32Array(e);return n[4]/=255,n[9]/=255,n[14]/=255,n[19]/=255,n},r.prototype.brightness=function(e,n){var i=[e,0,0,0,0,0,e,0,0,0,0,0,e,0,0,0,0,0,1,0];this._loadMatrix(i,n)},r.prototype.tint=function(e,n){var i=e>>16&255,a=e>>8&255,s=e&255,o=[i/255,0,0,0,0,0,a/255,0,0,0,0,0,s/255,0,0,0,0,0,1,0];this._loadMatrix(o,n)},r.prototype.greyscale=function(e,n){var i=[e,e,e,0,0,e,e,e,0,0,e,e,e,0,0,0,0,0,1,0];this._loadMatrix(i,n)},r.prototype.blackAndWhite=function(e){var n=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0];this._loadMatrix(n,e)},r.prototype.hue=function(e,n){e=(e||0)/180*Math.PI;var i=Math.cos(e),a=Math.sin(e),s=Math.sqrt,o=1/3,u=s(o),h=i+(1-i)*o,f=o*(1-i)-u*a,l=o*(1-i)+u*a,c=o*(1-i)+u*a,d=i+o*(1-i),p=o*(1-i)-u*a,v=o*(1-i)-u*a,_=o*(1-i)+u*a,m=i+o*(1-i),b=[h,f,l,0,0,c,d,p,0,0,v,_,m,0,0,0,0,0,1,0];this._loadMatrix(b,n)},r.prototype.contrast=function(e,n){var i=(e||0)+1,a=-.5*(i-1),s=[i,0,0,0,a,0,i,0,0,a,0,0,i,0,a,0,0,0,1,0];this._loadMatrix(s,n)},r.prototype.saturate=function(e,n){e===void 0&&(e=0);var i=e*2/3+1,a=(i-1)*-.5,s=[i,a,a,0,0,a,i,a,0,0,a,a,i,0,0,0,0,0,1,0];this._loadMatrix(s,n)},r.prototype.desaturate=function(){this.saturate(-1)},r.prototype.negative=function(e){var n=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0];this._loadMatrix(n,e)},r.prototype.sepia=function(e){var n=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0];this._loadMatrix(n,e)},r.prototype.technicolor=function(e){var n=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0];this._loadMatrix(n,e)},r.prototype.polaroid=function(e){var n=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0];this._loadMatrix(n,e)},r.prototype.toBGR=function(e){var n=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0];this._loadMatrix(n,e)},r.prototype.kodachrome=function(e){var n=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0];this._loadMatrix(n,e)},r.prototype.browni=function(e){var n=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0];this._loadMatrix(n,e)},r.prototype.vintage=function(e){var n=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0];this._loadMatrix(n,e)},r.prototype.colorTone=function(e,n,i,a,s){e=e||.2,n=n||.15,i=i||16770432,a=a||3375104;var o=(i>>16&255)/255,u=(i>>8&255)/255,h=(i&255)/255,f=(a>>16&255)/255,l=(a>>8&255)/255,c=(a&255)/255,d=[.3,.59,.11,0,0,o,u,h,e,0,f,l,c,n,0,o-f,u-l,h-c,0,0];this._loadMatrix(d,s)},r.prototype.night=function(e,n){e=e||.1;var i=[e*-2,-e,0,0,0,-e,0,e,0,0,0,e,e*2,0,0,0,0,0,1,0];this._loadMatrix(i,n)},r.prototype.predator=function(e,n){var i=[11.224130630493164*e,-4.794486999511719*e,-2.8746118545532227*e,0*e,.40342438220977783*e,-3.6330697536468506*e,9.193157196044922*e,-2.951810836791992*e,0*e,-1.316135048866272*e,-3.2184197902679443*e,-4.2375030517578125*e,7.476448059082031*e,0*e,.8044459223747253*e,0,0,0,1,0];this._loadMatrix(i,n)},r.prototype.lsd=function(e){var n=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0];this._loadMatrix(n,e)},r.prototype.reset=function(){var e=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];this._loadMatrix(e,!1)},Object.defineProperty(r.prototype,"matrix",{get:function(){return this.uniforms.m},set:function(e){this.uniforms.m=e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(e){this.uniforms.uAlpha=e},enumerable:!1,configurable:!0}),r}(cr);jf.prototype.grayscale=jf.prototype.greyscale;/*!
 * @pixi/filter-displacement - v6.2.2
 * Compiled Wed, 26 Jan 2022 16:23:27 UTC
 *
 * @pixi/filter-displacement is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var No=function(t,r){return No=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)n.hasOwnProperty(i)&&(e[i]=n[i])},No(t,r)};function ab(t,r){No(t,r);function e(){this.constructor=t}t.prototype=r===null?Object.create(r):(e.prototype=r.prototype,new e)}var sb=`varying vec2 vFilterCoord;
varying vec2 vTextureCoord;

uniform vec2 scale;
uniform mat2 rotation;
uniform sampler2D uSampler;
uniform sampler2D mapSampler;

uniform highp vec4 inputSize;
uniform vec4 inputClamp;

void main(void)
{
  vec4 map =  texture2D(mapSampler, vFilterCoord);

  map -= 0.5;
  map.xy = scale * inputSize.zw * (rotation * map.xy);

  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));
}
`,ob=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;
uniform mat3 filterMatrix;

varying vec2 vTextureCoord;
varying vec2 vFilterCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
	gl_Position = filterVertexPosition();
	vTextureCoord = filterTextureCoord();
	vFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;
}
`;(function(t){ab(r,t);function r(e,n){var i=this,a=new Wt;return e.renderable=!1,i=t.call(this,ob,sb,{mapSampler:e._texture,filterMatrix:a,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])})||this,i.maskSprite=e,i.maskMatrix=a,n==null&&(n=20),i.scale=new zt(n,n),i}return r.prototype.apply=function(e,n,i,a){this.uniforms.filterMatrix=e.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;var s=this.maskSprite.worldTransform,o=Math.sqrt(s.a*s.a+s.b*s.b),u=Math.sqrt(s.c*s.c+s.d*s.d);o!==0&&u!==0&&(this.uniforms.rotation[0]=s.a/o,this.uniforms.rotation[1]=s.b/o,this.uniforms.rotation[2]=s.c/u,this.uniforms.rotation[3]=s.d/u),e.applyFilter(this,n,i,a)},Object.defineProperty(r.prototype,"map",{get:function(){return this.uniforms.mapSampler},set:function(e){this.uniforms.mapSampler=e},enumerable:!1,configurable:!0}),r})(cr);/*!
 * @pixi/filter-fxaa - v6.2.2
 * Compiled Wed, 26 Jan 2022 16:23:27 UTC
 *
 * @pixi/filter-fxaa is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var So=function(t,r){return So=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)n.hasOwnProperty(i)&&(e[i]=n[i])},So(t,r)};function ub(t,r){So(t,r);function e(){this.constructor=t}t.prototype=r===null?Object.create(r):(e.prototype=r.prototype,new e)}var hb=`
attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

void texcoords(vec2 fragCoord, vec2 inverseVP,
               out vec2 v_rgbNW, out vec2 v_rgbNE,
               out vec2 v_rgbSW, out vec2 v_rgbSE,
               out vec2 v_rgbM) {
    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;
    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;
    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;
    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;
    v_rgbM = vec2(fragCoord * inverseVP);
}

void main(void) {

   gl_Position = filterVertexPosition();

   vFragCoord = aVertexPosition * outputFrame.zw;

   texcoords(vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);
}
`,fb=`varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;
uniform sampler2D uSampler;
uniform highp vec4 inputSize;


/**
 Basic FXAA implementation based on the code on geeks3d.com with the
 modification that the texture2DLod stuff was removed since it's
 unsupported by WebGL.

 --

 From:
 https://github.com/mitsuhiko/webgl-meincraft

 Copyright (c) 2011 by Armin Ronacher.

 Some rights reserved.

 Redistribution and use in source and binary forms, with or without
 modification, are permitted provided that the following conditions are
 met:

 * Redistributions of source code must retain the above copyright
 notice, this list of conditions and the following disclaimer.

 * Redistributions in binary form must reproduce the above
 copyright notice, this list of conditions and the following
 disclaimer in the documentation and/or other materials provided
 with the distribution.

 * The names of the contributors may not be used to endorse or
 promote products derived from this software without specific
 prior written permission.

 THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
 "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
 LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
 A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
 OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
 LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
 THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */

#ifndef FXAA_REDUCE_MIN
#define FXAA_REDUCE_MIN   (1.0/ 128.0)
#endif
#ifndef FXAA_REDUCE_MUL
#define FXAA_REDUCE_MUL   (1.0 / 8.0)
#endif
#ifndef FXAA_SPAN_MAX
#define FXAA_SPAN_MAX     8.0
#endif

//optimized version for mobile, where dependent
//texture reads can be a bottleneck
vec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,
          vec2 v_rgbNW, vec2 v_rgbNE,
          vec2 v_rgbSW, vec2 v_rgbSE,
          vec2 v_rgbM) {
    vec4 color;
    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;
    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;
    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;
    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;
    vec4 texColor = texture2D(tex, v_rgbM);
    vec3 rgbM  = texColor.xyz;
    vec3 luma = vec3(0.299, 0.587, 0.114);
    float lumaNW = dot(rgbNW, luma);
    float lumaNE = dot(rgbNE, luma);
    float lumaSW = dot(rgbSW, luma);
    float lumaSE = dot(rgbSE, luma);
    float lumaM  = dot(rgbM,  luma);
    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));
    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));

    mediump vec2 dir;
    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));
    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));

    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *
                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);

    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);
    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),
              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),
                  dir * rcpDirMin)) * inverseVP;

    vec3 rgbA = 0.5 * (
                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +
                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);
    vec3 rgbB = rgbA * 0.5 + 0.25 * (
                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +
                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);

    float lumaB = dot(rgbB, luma);
    if ((lumaB < lumaMin) || (lumaB > lumaMax))
        color = vec4(rgbA, texColor.a);
    else
        color = vec4(rgbB, texColor.a);
    return color;
}

void main() {

      vec4 color;

      color = fxaa(uSampler, vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);

      gl_FragColor = color;
}
`;(function(t){ub(r,t);function r(){return t.call(this,hb,fb)||this}return r})(cr);/*!
 * @pixi/filter-noise - v6.2.2
 * Compiled Wed, 26 Jan 2022 16:23:27 UTC
 *
 * @pixi/filter-noise is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Oo=function(t,r){return Oo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)n.hasOwnProperty(i)&&(e[i]=n[i])},Oo(t,r)};function lb(t,r){Oo(t,r);function e(){this.constructor=t}t.prototype=r===null?Object.create(r):(e.prototype=r.prototype,new e)}var cb=`precision highp float;

varying vec2 vTextureCoord;
varying vec4 vColor;

uniform float uNoise;
uniform float uSeed;
uniform sampler2D uSampler;

float rand(vec2 co)
{
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

void main()
{
    vec4 color = texture2D(uSampler, vTextureCoord);
    float randomValue = rand(gl_FragCoord.xy * uSeed);
    float diff = (randomValue - 0.5) * uNoise;

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (color.a > 0.0) {
        color.rgb /= color.a;
    }

    color.r += diff;
    color.g += diff;
    color.b += diff;

    // Premultiply alpha again.
    color.rgb *= color.a;

    gl_FragColor = color;
}
`;(function(t){lb(r,t);function r(e,n){e===void 0&&(e=.5),n===void 0&&(n=Math.random());var i=t.call(this,Ic,cb,{uNoise:0,uSeed:0})||this;return i.noise=e,i.seed=n,i}return Object.defineProperty(r.prototype,"noise",{get:function(){return this.uniforms.uNoise},set:function(e){this.uniforms.uNoise=e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"seed",{get:function(){return this.uniforms.uSeed},set:function(e){this.uniforms.uSeed=e},enumerable:!1,configurable:!0}),r})(cr);/*!
 * @pixi/mixin-cache-as-bitmap - v6.2.2
 * Compiled Wed, 26 Jan 2022 16:23:27 UTC
 *
 * @pixi/mixin-cache-as-bitmap is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*!
 * @pixi/constants - v6.2.2
 * Compiled Wed, 26 Jan 2022 16:23:27 UTC
 *
 * @pixi/constants is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Vf;(function(t){t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2"})(Vf||(Vf={}));var zf;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS"})(zf||(zf={}));var Wf;(function(t){t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL"})(Wf||(Wf={}));var Kf;(function(t){t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR"})(Kf||(Kf={}));var Yf;(function(t){t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN"})(Yf||(Yf={}));var qf;(function(t){t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.RG=33319]="RG",t[t.RED=6403]="RED",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL"})(qf||(qf={}));var Zf;(function(t){t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"})(Zf||(Zf={}));var Jf;(function(t){t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.BYTE=5120]="BYTE",t[t.SHORT=5122]="SHORT",t[t.INT=5124]="INT",t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",t[t.HALF_FLOAT=36193]="HALF_FLOAT"})(Jf||(Jf={}));var Qf;(function(t){t[t.FLOAT=0]="FLOAT",t[t.INT=1]="INT",t[t.UINT=2]="UINT"})(Qf||(Qf={}));var $f;(function(t){t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR"})($f||($f={}));var tl;(function(t){t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"})(tl||(tl={}));var el;(function(t){t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON",t[t.ON_MANUAL=3]="ON_MANUAL"})(el||(el={}));var rl;(function(t){t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",t[t.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA"})(rl||(rl={}));var nl;(function(t){t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT"})(nl||(nl={}));var il;(function(t){t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL"})(il||(il={}));var al;(function(t){t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp"})(al||(al={}));var sl;(function(t){t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE"})(sl||(sl={}));var Uo;(function(t){t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH"})(Uo||(Uo={}));var ol;(function(t){t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"})(ol||(ol={}));var Gc=new Wt;Kt.prototype._cacheAsBitmap=!1;Kt.prototype._cacheData=null;Kt.prototype._cacheAsBitmapResolution=null;Kt.prototype._cacheAsBitmapMultisample=Uo.NONE;var db=function(){function t(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.originalContainsPoint=null,this.sprite=null}return t}();Object.defineProperties(Kt.prototype,{cacheAsBitmapResolution:{get:function(){return this._cacheAsBitmapResolution},set:function(t){t!==this._cacheAsBitmapResolution&&(this._cacheAsBitmapResolution=t,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmapMultisample:{get:function(){return this._cacheAsBitmapMultisample},set:function(t){t!==this._cacheAsBitmapMultisample&&(this._cacheAsBitmapMultisample=t,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmap:{get:function(){return this._cacheAsBitmap},set:function(t){if(this._cacheAsBitmap!==t){this._cacheAsBitmap=t;var r;t?(this._cacheData||(this._cacheData=new db),r=this._cacheData,r.originalRender=this.render,r.originalRenderCanvas=this.renderCanvas,r.originalUpdateTransform=this.updateTransform,r.originalCalculateBounds=this.calculateBounds,r.originalGetLocalBounds=this.getLocalBounds,r.originalDestroy=this.destroy,r.originalContainsPoint=this.containsPoint,r.originalMask=this._mask,r.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):(r=this._cacheData,r.sprite&&this._destroyCachedDisplayObject(),this.render=r.originalRender,this.renderCanvas=r.originalRenderCanvas,this.calculateBounds=r.originalCalculateBounds,this.getLocalBounds=r.originalGetLocalBounds,this.destroy=r.originalDestroy,this.updateTransform=r.originalUpdateTransform,this.containsPoint=r.originalContainsPoint,this._mask=r.originalMask,this.filterArea=r.originalFilterArea)}}}});Kt.prototype._renderCached=function(r){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(r),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(r))};Kt.prototype._initCachedDisplayObject=function(r){var e;if(!(this._cacheData&&this._cacheData.sprite)){var n=this.alpha;this.alpha=1,r.batch.flush();var i=this.getLocalBounds(null,!0).clone();if(this.filters&&this.filters.length){var a=this.filters[0].padding;i.pad(a)}i.ceil(at.RESOLUTION);var s=r.renderTexture.current,o=r.renderTexture.sourceFrame.clone(),u=r.renderTexture.destinationFrame.clone(),h=r.projection.transform,f=Mr.create({width:i.width,height:i.height,resolution:this.cacheAsBitmapResolution||r.resolution,multisample:(e=this.cacheAsBitmapMultisample)!==null&&e!==void 0?e:r.multisample}),l="cacheAsBitmap_"+Br();this._cacheData.textureCacheId=l,St.addToCache(f.baseTexture,l),mt.addToCache(f,l);var c=this.transform.localTransform.copyTo(Gc).invert().translate(-i.x,-i.y);this.render=this._cacheData.originalRender,r.render(this,{renderTexture:f,clear:!0,transform:c,skipUpdateTransform:!1}),r.framebuffer.blit(),r.projection.transform=h,r.renderTexture.bind(s,o,u),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=n;var d=new _n(f);d.transform.worldTransform=this.transform.worldTransform,d.anchor.x=-(i.x/i.width),d.anchor.y=-(i.y/i.height),d.alpha=n,d._bounds=this._bounds,this._cacheData.sprite=d,this.transform._parentID=-1,this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null)),this.containsPoint=d.containsPoint.bind(d)}};Kt.prototype._renderCachedCanvas=function(r){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(r),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(r))};Kt.prototype._initCachedDisplayObjectCanvas=function(r){if(!(this._cacheData&&this._cacheData.sprite)){var e=this.getLocalBounds(null,!0),n=this.alpha;this.alpha=1;var i=r.context,a=r._projTransform;e.ceil(at.RESOLUTION);var s=Mr.create({width:e.width,height:e.height}),o="cacheAsBitmap_"+Br();this._cacheData.textureCacheId=o,St.addToCache(s.baseTexture,o),mt.addToCache(s,o);var u=Gc;this.transform.localTransform.copyTo(u),u.invert(),u.tx-=e.x,u.ty-=e.y,this.renderCanvas=this._cacheData.originalRenderCanvas,r.render(this,{renderTexture:s,clear:!0,transform:u,skipUpdateTransform:!1}),r.context=i,r._projTransform=a,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=n;var h=new _n(s);h.transform.worldTransform=this.transform.worldTransform,h.anchor.x=-(e.x/e.width),h.anchor.y=-(e.y/e.height),h.alpha=n,h._bounds=this._bounds,this._cacheData.sprite=h,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=r._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=h.containsPoint.bind(h)}};Kt.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._bounds.updateID=this._boundsID};Kt.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds(null)};Kt.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,St.removeFromCache(this._cacheData.textureCacheId),mt.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null};Kt.prototype._cacheAsBitmapDestroy=function(r){this.cacheAsBitmap=!1,this.destroy(r)};/*!
 * @pixi/mixin-get-child-by-name - v6.2.2
 * Compiled Wed, 26 Jan 2022 16:23:27 UTC
 *
 * @pixi/mixin-get-child-by-name is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */Kt.prototype.name=null;Ie.prototype.getChildByName=function(r,e){for(var n=0,i=this.children.length;n<i;n++)if(this.children[n].name===r)return this.children[n];if(e)for(var n=0,i=this.children.length;n<i;n++){var a=this.children[n];if(!!a.getChildByName){var s=this.children[n].getChildByName(r,!0);if(s)return s}}return null};/*!
 * @pixi/mixin-get-global-position - v6.2.2
 * Compiled Wed, 26 Jan 2022 16:23:27 UTC
 *
 * @pixi/mixin-get-global-position is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */Kt.prototype.getGlobalPosition=function(r,e){return r===void 0&&(r=new zt),e===void 0&&(e=!1),this.parent?this.parent.toGlobal(this.position,r,e):(r.x=this.position.x,r.y=this.position.y),r};/*!
 * @pixi/mesh-extras - v6.2.2
 * Compiled Wed, 26 Jan 2022 16:23:27 UTC
 *
 * @pixi/mesh-extras is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Fo=function(t,r){return Fo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)n.hasOwnProperty(i)&&(e[i]=n[i])},Fo(t,r)};function mn(t,r){Fo(t,r);function e(){this.constructor=t}t.prototype=r===null?Object.create(r):(e.prototype=r.prototype,new e)}var pb=function(t){mn(r,t);function r(e,n,i,a){e===void 0&&(e=100),n===void 0&&(n=100),i===void 0&&(i=10),a===void 0&&(a=10);var s=t.call(this)||this;return s.segWidth=i,s.segHeight=a,s.width=e,s.height=n,s.build(),s}return r.prototype.build=function(){for(var e=this.segWidth*this.segHeight,n=[],i=[],a=[],s=this.segWidth-1,o=this.segHeight-1,u=this.width/s,h=this.height/o,f=0;f<e;f++){var l=f%this.segWidth,c=f/this.segWidth|0;n.push(l*u,c*h),i.push(l/s,c/o)}for(var d=s*o,f=0;f<d;f++){var p=f%s,v=f/s|0,_=v*this.segWidth+p,m=v*this.segWidth+p+1,b=(v+1)*this.segWidth+p,T=(v+1)*this.segWidth+p+1;a.push(_,m,b,m,T,b)}this.buffers[0].data=new Float32Array(n),this.buffers[1].data=new Float32Array(i),this.indexBuffer.data=new Uint16Array(a),this.buffers[0].update(),this.buffers[1].update(),this.indexBuffer.update()},r}(Xa),vb=function(t){mn(r,t);function r(e,n,i){e===void 0&&(e=200),i===void 0&&(i=0);var a=t.call(this,new Float32Array(n.length*4),new Float32Array(n.length*4),new Uint16Array((n.length-1)*6))||this;return a.points=n,a._width=e,a.textureScale=i,a.build(),a}return Object.defineProperty(r.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),r.prototype.build=function(){var e=this.points;if(!!e){var n=this.getBuffer("aVertexPosition"),i=this.getBuffer("aTextureCoord"),a=this.getIndex();if(!(e.length<1)){n.data.length/4!==e.length&&(n.data=new Float32Array(e.length*4),i.data=new Float32Array(e.length*4),a.data=new Uint16Array((e.length-1)*6));var s=i.data,o=a.data;s[0]=0,s[1]=0,s[2]=0,s[3]=1;for(var u=0,h=e[0],f=this._width*this.textureScale,l=e.length,c=0;c<l;c++){var d=c*4;if(this.textureScale>0){var p=h.x-e[c].x,v=h.y-e[c].y,_=Math.sqrt(p*p+v*v);h=e[c],u+=_/f}else u=c/(l-1);s[d]=u,s[d+1]=0,s[d+2]=u,s[d+3]=1}for(var m=0,c=0;c<l-1;c++){var d=c*2;o[m++]=d,o[m++]=d+1,o[m++]=d+2,o[m++]=d+2,o[m++]=d+1,o[m++]=d+3}i.update(),a.update(),this.updateVertices()}}},r.prototype.updateVertices=function(){var e=this.points;if(!(e.length<1)){for(var n=e[0],i,a=0,s=0,o=this.buffers[0].data,u=e.length,h=0;h<u;h++){var f=e[h],l=h*4;h<e.length-1?i=e[h+1]:i=f,s=-(i.x-n.x),a=i.y-n.y;var c=Math.sqrt(a*a+s*s),d=this.textureScale>0?this.textureScale*this._width/2:this._width/2;a/=c,s/=c,a*=d,s*=d,o[l]=f.x+a,o[l+1]=f.y+s,o[l+2]=f.x-a,o[l+3]=f.y-s,n=f}this.buffers[0].update()}},r.prototype.update=function(){this.textureScale>0?this.build():this.updateVertices()},r}(Xa);(function(t){mn(r,t);function r(e,n,i){i===void 0&&(i=0);var a=this,s=new vb(e.height,n,i),o=new ui(e);return i>0&&(e.baseTexture.wrapMode=Ke.REPEAT),a=t.call(this,s,o)||this,a.autoUpdate=!0,a}return r.prototype._render=function(e){var n=this.geometry;(this.autoUpdate||n._width!==this.shader.texture.height)&&(n._width=this.shader.texture.height,n.update()),t.prototype._render.call(this,e)},r})(oi);var _b=function(t){mn(r,t);function r(e,n,i){var a=this,s=new pb(e.width,e.height,n,i),o=new ui(mt.WHITE);return a=t.call(this,s,o)||this,a.texture=e,a.autoResize=!0,a}return r.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID;var e=this.geometry,n=this.shader.texture,i=n.width,a=n.height;this.autoResize&&(e.width!==i||e.height!==a)&&(e.width=this.shader.texture.width,e.height=this.shader.texture.height,e.build())},Object.defineProperty(r.prototype,"texture",{get:function(){return this.shader.texture},set:function(e){this.shader.texture!==e&&(this.shader.texture=e,this._textureID=-1,e.baseTexture.valid?this.textureUpdated():e.once("update",this.textureUpdated,this))},enumerable:!1,configurable:!0}),r.prototype._render=function(e){this._textureID!==this.shader.texture._updateID&&this.textureUpdated(),t.prototype._render.call(this,e)},r.prototype.destroy=function(e){this.shader.texture.off("update",this.textureUpdated,this),t.prototype.destroy.call(this,e)},r}(oi);(function(t){mn(r,t);function r(e,n,i,a,s){e===void 0&&(e=mt.EMPTY);var o=this,u=new Xa(n,i,a);u.getBuffer("aVertexPosition").static=!1;var h=new ui(e);return o=t.call(this,u,h,null,s)||this,o.autoUpdate=!0,o}return Object.defineProperty(r.prototype,"vertices",{get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(e){this.geometry.getBuffer("aVertexPosition").data=e},enumerable:!1,configurable:!0}),r.prototype._render=function(e){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update(),t.prototype._render.call(this,e)},r})(oi);var ta=10;(function(t){mn(r,t);function r(e,n,i,a,s){n===void 0&&(n=ta),i===void 0&&(i=ta),a===void 0&&(a=ta),s===void 0&&(s=ta);var o=t.call(this,mt.WHITE,4,4)||this;return o._origWidth=e.orig.width,o._origHeight=e.orig.height,o._width=o._origWidth,o._height=o._origHeight,o._leftWidth=n,o._rightWidth=a,o._topHeight=i,o._bottomHeight=s,o.texture=e,o}return r.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID,this._refresh()},Object.defineProperty(r.prototype,"vertices",{get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(e){this.geometry.getBuffer("aVertexPosition").data=e},enumerable:!1,configurable:!0}),r.prototype.updateHorizontalVertices=function(){var e=this.vertices,n=this._getMinScale();e[9]=e[11]=e[13]=e[15]=this._topHeight*n,e[17]=e[19]=e[21]=e[23]=this._height-this._bottomHeight*n,e[25]=e[27]=e[29]=e[31]=this._height},r.prototype.updateVerticalVertices=function(){var e=this.vertices,n=this._getMinScale();e[2]=e[10]=e[18]=e[26]=this._leftWidth*n,e[4]=e[12]=e[20]=e[28]=this._width-this._rightWidth*n,e[6]=e[14]=e[22]=e[30]=this._width},r.prototype._getMinScale=function(){var e=this._leftWidth+this._rightWidth,n=this._width>e?1:this._width/e,i=this._topHeight+this._bottomHeight,a=this._height>i?1:this._height/i,s=Math.min(n,a);return s},Object.defineProperty(r.prototype,"width",{get:function(){return this._width},set:function(e){this._width=e,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"height",{get:function(){return this._height},set:function(e){this._height=e,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"leftWidth",{get:function(){return this._leftWidth},set:function(e){this._leftWidth=e,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"rightWidth",{get:function(){return this._rightWidth},set:function(e){this._rightWidth=e,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"topHeight",{get:function(){return this._topHeight},set:function(e){this._topHeight=e,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"bottomHeight",{get:function(){return this._bottomHeight},set:function(e){this._bottomHeight=e,this._refresh()},enumerable:!1,configurable:!0}),r.prototype._refresh=function(){var e=this.texture,n=this.geometry.buffers[1].data;this._origWidth=e.orig.width,this._origHeight=e.orig.height;var i=1/this._origWidth,a=1/this._origHeight;n[0]=n[8]=n[16]=n[24]=0,n[1]=n[3]=n[5]=n[7]=0,n[6]=n[14]=n[22]=n[30]=1,n[25]=n[27]=n[29]=n[31]=1,n[2]=n[10]=n[18]=n[26]=i*this._leftWidth,n[4]=n[12]=n[20]=n[28]=1-i*this._rightWidth,n[9]=n[11]=n[13]=n[15]=a*this._topHeight,n[17]=n[19]=n[21]=n[23]=1-a*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.geometry.buffers[0].update(),this.geometry.buffers[1].update()},r})(_b);/*!
 * @pixi/sprite-animated - v6.2.2
 * Compiled Wed, 26 Jan 2022 16:23:27 UTC
 *
 * @pixi/sprite-animated is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Bo=function(t,r){return Bo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)n.hasOwnProperty(i)&&(e[i]=n[i])},Bo(t,r)};function mb(t,r){Bo(t,r);function e(){this.constructor=t}t.prototype=r===null?Object.create(r):(e.prototype=r.prototype,new e)}(function(t){mb(r,t);function r(e,n){n===void 0&&(n=!0);var i=t.call(this,e[0]instanceof mt?e[0]:e[0].texture)||this;return i._textures=null,i._durations=null,i._autoUpdate=n,i._isConnectedToTicker=!1,i.animationSpeed=1,i.loop=!0,i.updateAnchor=!1,i.onComplete=null,i.onFrameChange=null,i.onLoop=null,i._currentTime=0,i._playing=!1,i._previousFrame=null,i.textures=e,i}return r.prototype.stop=function(){!this._playing||(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&(ne.shared.remove(this.update,this),this._isConnectedToTicker=!1))},r.prototype.play=function(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&(ne.shared.add(this.update,this,Ze.HIGH),this._isConnectedToTicker=!0))},r.prototype.gotoAndStop=function(e){this.stop();var n=this.currentFrame;this._currentTime=e,n!==this.currentFrame&&this.updateTexture()},r.prototype.gotoAndPlay=function(e){var n=this.currentFrame;this._currentTime=e,n!==this.currentFrame&&this.updateTexture(),this.play()},r.prototype.update=function(e){if(!!this._playing){var n=this.animationSpeed*e,i=this.currentFrame;if(this._durations!==null){var a=this._currentTime%1*this._durations[this.currentFrame];for(a+=n/60*1e3;a<0;)this._currentTime--,a+=this._durations[this.currentFrame];var s=Math.sign(this.animationSpeed*e);for(this._currentTime=Math.floor(this._currentTime);a>=this._durations[this.currentFrame];)a-=this._durations[this.currentFrame]*s,this._currentTime+=s;this._currentTime+=a/this._durations[this.currentFrame]}else this._currentTime+=n;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):i!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<i?this.onLoop():this.animationSpeed<0&&this.currentFrame>i&&this.onLoop()),this.updateTexture())}},r.prototype.updateTexture=function(){var e=this.currentFrame;this._previousFrame!==e&&(this._previousFrame=e,this._texture=this._textures[e],this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this.uvs=this._texture._uvs.uvsFloat32,this.updateAnchor&&this._anchor.copyFrom(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame))},r.prototype.destroy=function(e){this.stop(),t.prototype.destroy.call(this,e),this.onComplete=null,this.onFrameChange=null,this.onLoop=null},r.fromFrames=function(e){for(var n=[],i=0;i<e.length;++i)n.push(mt.from(e[i]));return new r(n)},r.fromImages=function(e){for(var n=[],i=0;i<e.length;++i)n.push(mt.from(e[i]));return new r(n)},Object.defineProperty(r.prototype,"totalFrames",{get:function(){return this._textures.length},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"textures",{get:function(){return this._textures},set:function(e){if(e[0]instanceof mt)this._textures=e,this._durations=null;else{this._textures=[],this._durations=[];for(var n=0;n<e.length;n++)this._textures.push(e[n].texture),this._durations.push(e[n].time)}this._previousFrame=null,this.gotoAndStop(0),this.updateTexture()},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"currentFrame",{get:function(){var e=Math.floor(this._currentTime)%this._textures.length;return e<0&&(e+=this._textures.length),e},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"playing",{get:function(){return this._playing},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(e){e!==this._autoUpdate&&(this._autoUpdate=e,!this._autoUpdate&&this._isConnectedToTicker?(ne.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&(ne.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0}),r})(_n);/*!
 * pixi.js - v6.2.2
 * Compiled Wed, 26 Jan 2022 16:23:27 UTC
 *
 * pixi.js is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */dr.registerPlugin("accessibility",Hm);dr.registerPlugin("extract",hy);dr.registerPlugin("interaction",Km);dr.registerPlugin("particle",Jy);dr.registerPlugin("prepare",A0);dr.registerPlugin("batch",ny);dr.registerPlugin("tilingSprite",B0);Ue.registerPlugin(q0);Ue.registerPlugin(Cy);Ue.registerPlugin(jy);Ue.registerPlugin(Yy);Ue.registerPlugin(N0);gu.registerPlugin(Xm);gu.registerPlugin(gy);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function xi(t,r,e,n){function i(a){return a instanceof e?a:new e(function(s){s(a)})}return new(e||(e=Promise))(function(a,s){function o(f){try{h(n.next(f))}catch(l){s(l)}}function u(f){try{h(n.throw(f))}catch(l){s(l)}}function h(f){f.done?a(f.value):i(f.value).then(o,u)}h((n=n.apply(t,r||[])).next())})}const Ot=(t,r,e,n=i=>i)=>{const i=(...a)=>r(e,n(...a));return t.on(e,i),()=>t.off(e,i)};function Et(...t){for(const r of t)if(typeof r!="undefined")return!0;return!1}function gb(t){let r;const e=t[31].default,n=fn(e,t,t[30],null);return{c(){n&&n.c()},m(i,a){n&&n.m(i,a),r=!0},p(i,a){n&&n.p&&(!r||a[0]&1073741824)&&cn(n,e,i,i[30],r?ln(e,i[30],a,null):dn(i[30]),null)},i(i){r||(me(n,i),r=!0)},o(i){Ce(n,i),r=!1},d(i){n&&n.d(i)}}}function yb(t,r,e){let{$$slots:n={},$$scope:i}=r,{accessible:a=void 0}=r,{accessibleChildren:s=!0}=r,{accessibleHint:o=void 0}=r,{accessiblePointerEvents:u="auto"}=r,{accessibleTitle:h=void 0}=r,{accessibleType:f=void 0}=r,{alpha:l=void 0}=r,{angle:c=void 0}=r,{buttonMode:d=void 0}=r,{cacheAsBitmap:p=void 0}=r,{cursor:v=void 0}=r,{filterArea:_=void 0}=r,{filters:m=void 0}=r,{hitArea:b=void 0}=r,{interactive:T=void 0}=r,{mask:w=void 0}=r,{name:y=void 0}=r,{pivot:g=void 0}=r,{position:N=void 0}=r,{renderable:P=void 0}=r,{rotation:C=void 0}=r,{scale:O=void 0}=r,{skew:H=void 0}=r,{transform:k=void 0}=r,{visible:j=void 0}=r,{x:Z=void 0}=r,{y:F=void 0}=r,{zIndex:X=void 0}=r,{parent:z=We("pixi/container")||We("pixi/stage")}=r,{instance:A}=r;const W=Ud(),B=We("pixi/app");return Fr(()=>{let S=-1;try{S=z.getChildIndex(A)}catch{}if(z&&S===-1)z.addChild(A);else throw new Error("Unable to find container or stage");return()=>{z==null||z.removeChild(A)}}),Fr(()=>{function S(){return xi(this,void 0,void 0,function*(){e(6,l=A.alpha),e(0,a=A.accessible),e(1,s=A.accessibleChildren),e(2,o=A.accessibleHint),e(3,u=A.accessiblePointerEvents),e(4,h=A.accessibleTitle),e(5,f=A.accessibleType),e(7,c=A.angle),e(8,d=A.buttonMode),e(9,p=A.cacheAsBitmap),e(10,v=A.cursor),e(11,_=A.filterArea),e(12,m=A.filters),e(13,b=A.hitArea),e(14,T=A.interactive),e(15,w=A.mask),e(16,y=A.name),e(17,g=A.pivot),e(18,N=A.position),e(19,P=A.renderable),e(20,C=A.rotation),e(21,O=A.scale),e(22,H=A.skew),e(23,k=A.transform),e(24,j=A.visible),e(25,Z=A.x),e(26,F=A.y),e(27,X=A.zIndex)})}B.ticker.add(S);const K=[Ot(A,W,"click"),Ot(A,W,"mousedown"),Ot(A,W,"mousemove"),Ot(A,W,"mouseout"),Ot(A,W,"mouseover"),Ot(A,W,"mouseup"),Ot(A,W,"mouseupoutside"),Ot(A,W,"mouseupoutside"),Ot(A,W,"pointercancel"),Ot(A,W,"pointerdown"),Ot(A,W,"pointermove"),Ot(A,W,"pointerout"),Ot(A,W,"pointerover"),Ot(A,W,"pointertap"),Ot(A,W,"pointerup"),Ot(A,W,"pointerupoutside"),Ot(A,W,"removedFrom"),Ot(A,W,"rightclick"),Ot(A,W,"rightdown"),Ot(A,W,"rightup"),Ot(A,W,"rightupoutside"),Ot(A,W,"tap"),Ot(A,W,"touchcancel"),Ot(A,W,"touchend"),Ot(A,W,"touchendoutside"),Ot(A,W,"touchmove"),Ot(A,W,"touchstart"),Ot(A,W,"added"),Ot(A,W,"removed")];return()=>{K.forEach(tt=>tt()),B.ticker.remove(S)}}),t.$$set=S=>{"accessible"in S&&e(0,a=S.accessible),"accessibleChildren"in S&&e(1,s=S.accessibleChildren),"accessibleHint"in S&&e(2,o=S.accessibleHint),"accessiblePointerEvents"in S&&e(3,u=S.accessiblePointerEvents),"accessibleTitle"in S&&e(4,h=S.accessibleTitle),"accessibleType"in S&&e(5,f=S.accessibleType),"alpha"in S&&e(6,l=S.alpha),"angle"in S&&e(7,c=S.angle),"buttonMode"in S&&e(8,d=S.buttonMode),"cacheAsBitmap"in S&&e(9,p=S.cacheAsBitmap),"cursor"in S&&e(10,v=S.cursor),"filterArea"in S&&e(11,_=S.filterArea),"filters"in S&&e(12,m=S.filters),"hitArea"in S&&e(13,b=S.hitArea),"interactive"in S&&e(14,T=S.interactive),"mask"in S&&e(15,w=S.mask),"name"in S&&e(16,y=S.name),"pivot"in S&&e(17,g=S.pivot),"position"in S&&e(18,N=S.position),"renderable"in S&&e(19,P=S.renderable),"rotation"in S&&e(20,C=S.rotation),"scale"in S&&e(21,O=S.scale),"skew"in S&&e(22,H=S.skew),"transform"in S&&e(23,k=S.transform),"visible"in S&&e(24,j=S.visible),"x"in S&&e(25,Z=S.x),"y"in S&&e(26,F=S.y),"zIndex"in S&&e(27,X=S.zIndex),"parent"in S&&e(29,z=S.parent),"instance"in S&&e(28,A=S.instance),"$$scope"in S&&e(30,i=S.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&64&&Et(l)&&e(28,A.alpha=l,A),t.$$.dirty[0]&1&&Et(a)&&e(28,A.accessible=a,A),t.$$.dirty[0]&2&&Et(s)&&e(28,A.accessibleChildren=s,A),t.$$.dirty[0]&4&&Et(o)&&e(28,A.accessibleHint=o,A),t.$$.dirty[0]&8&&Et(u)&&e(28,A.accessiblePointerEvents=u,A),t.$$.dirty[0]&16&&Et(h)&&e(28,A.accessibleTitle=h,A),t.$$.dirty[0]&32&&Et(f)&&e(28,A.accessibleType=f,A),t.$$.dirty[0]&128&&Et(c)&&e(28,A.angle=c,A),t.$$.dirty[0]&256&&Et(d)&&e(28,A.buttonMode=d,A),t.$$.dirty[0]&512&&Et(p)&&e(28,A.cacheAsBitmap=p,A),t.$$.dirty[0]&1024&&Et(v)&&e(28,A.cursor=v,A),t.$$.dirty[0]&2048&&Et(_)&&e(28,A.filterArea=_,A),t.$$.dirty[0]&4096&&Et(m)&&e(28,A.filters=m,A),t.$$.dirty[0]&8192&&Et(b)&&e(28,A.hitArea=b,A),t.$$.dirty[0]&16384&&Et(T)&&e(28,A.interactive=T,A),t.$$.dirty[0]&32768&&Et(w)&&e(28,A.mask=w,A),t.$$.dirty[0]&65536&&Et(y)&&e(28,A.name=y,A),t.$$.dirty[0]&131072&&Et(g)&&e(28,A.pivot=g,A),t.$$.dirty[0]&262144&&Et(N)&&e(28,A.position=N,A),t.$$.dirty[0]&524288&&Et(P)&&e(28,A.renderable=P,A),t.$$.dirty[0]&1048576&&Et(C)&&e(28,A.rotation=C,A),t.$$.dirty[0]&2097152&&Et(O)&&e(28,A.scale=O,A),t.$$.dirty[0]&4194304&&Et(H)&&e(28,A.skew=H,A),t.$$.dirty[0]&8388608&&Et(k)&&e(28,A.transform=k,A),t.$$.dirty[0]&16777216&&Et(j)&&e(28,A.visible=j,A),t.$$.dirty[0]&33554432&&Et(Z)&&e(28,A.x=Z,A),t.$$.dirty[0]&67108864&&Et(F)&&e(28,A.y=F,A),t.$$.dirty[0]&134217728&&Et(X)&&e(28,A.zIndex=X,A)},[a,s,o,u,h,f,l,c,d,p,v,_,m,b,T,w,y,g,N,P,C,O,H,k,j,Z,F,X,A,z,i,n]}class bb extends vn{constructor(r){super();pn(this,r,yb,gb,ou,{accessible:0,accessibleChildren:1,accessibleHint:2,accessiblePointerEvents:3,accessibleTitle:4,accessibleType:5,alpha:6,angle:7,buttonMode:8,cacheAsBitmap:9,cursor:10,filterArea:11,filters:12,hitArea:13,interactive:14,mask:15,name:16,pivot:17,position:18,renderable:19,rotation:20,scale:21,skew:22,transform:23,visible:24,x:25,y:26,zIndex:27,parent:29,instance:28},null,[-1,-1])}}function Tb(t){let r;const e=t[34].default,n=fn(e,t,t[93],null);return{c(){n&&n.c()},m(i,a){n&&n.m(i,a),r=!0},p(i,a){n&&n.p&&(!r||a[3]&1)&&cn(n,e,i,i[93],r?ln(e,i[93],a,null):dn(i[93]),null)},i(i){r||(me(n,i),r=!0)},o(i){Ce(n,i),r=!1},d(i){n&&n.d(i)}}}function Eb(t){let r,e,n,i,a,s,o,u,h,f,l,c,d,p,v,_,m,b,T,w,y,g,N,P,C,O,H,k,j,Z,F;function X(V){t[35](V)}function z(V){t[36](V)}function A(V){t[37](V)}function W(V){t[38](V)}function B(V){t[39](V)}function S(V){t[40](V)}function K(V){t[41](V)}function tt(V){t[42](V)}function nt(V){t[43](V)}function et(V){t[44](V)}function st(V){t[45](V)}function it(V){t[46](V)}function It(V){t[47](V)}function vt(V){t[48](V)}function Ct(V){t[49](V)}function bt(V){t[50](V)}function wt(V){t[51](V)}function ot(V){t[52](V)}function Nt(V){t[53](V)}function At(V){t[54](V)}function ft(V){t[55](V)}function Bt(V){t[56](V)}function Ht(V){t[57](V)}function Yt(V){t[58](V)}function $t(V){t[59](V)}function te(V){t[60](V)}function ee(V){t[61](V)}function re(V){t[62](V)}function ue(V){t[63](V)}let Tt={parent:t[29],$$slots:{default:[Tb]},$$scope:{ctx:t}};return t[28]!==void 0&&(Tt.instance=t[28]),t[0]!==void 0&&(Tt.accessible=t[0]),t[1]!==void 0&&(Tt.accessibleChildren=t[1]),t[2]!==void 0&&(Tt.accessibleHint=t[2]),t[3]!==void 0&&(Tt.accessiblePointerEvents=t[3]),t[4]!==void 0&&(Tt.accessibleTitle=t[4]),t[5]!==void 0&&(Tt.accessibleType=t[5]),t[6]!==void 0&&(Tt.alpha=t[6]),t[7]!==void 0&&(Tt.angle=t[7]),t[8]!==void 0&&(Tt.buttonMode=t[8]),t[9]!==void 0&&(Tt.cacheAsBitmap=t[9]),t[10]!==void 0&&(Tt.cursor=t[10]),t[11]!==void 0&&(Tt.filterArea=t[11]),t[12]!==void 0&&(Tt.filters=t[12]),t[13]!==void 0&&(Tt.hitArea=t[13]),t[14]!==void 0&&(Tt.interactive=t[14]),t[15]!==void 0&&(Tt.mask=t[15]),t[16]!==void 0&&(Tt.name=t[16]),t[17]!==void 0&&(Tt.pivot=t[17]),t[18]!==void 0&&(Tt.position=t[18]),t[19]!==void 0&&(Tt.renderable=t[19]),t[20]!==void 0&&(Tt.rotation=t[20]),t[21]!==void 0&&(Tt.scale=t[21]),t[22]!==void 0&&(Tt.skew=t[22]),t[23]!==void 0&&(Tt.transform=t[23]),t[24]!==void 0&&(Tt.visible=t[24]),t[25]!==void 0&&(Tt.x=t[25]),t[26]!==void 0&&(Tt.y=t[26]),t[27]!==void 0&&(Tt.zIndex=t[27]),r=new bb({props:Tt}),L.push(()=>G(r,"instance",X)),L.push(()=>G(r,"accessible",z)),L.push(()=>G(r,"accessibleChildren",A)),L.push(()=>G(r,"accessibleHint",W)),L.push(()=>G(r,"accessiblePointerEvents",B)),L.push(()=>G(r,"accessibleTitle",S)),L.push(()=>G(r,"accessibleType",K)),L.push(()=>G(r,"alpha",tt)),L.push(()=>G(r,"angle",nt)),L.push(()=>G(r,"buttonMode",et)),L.push(()=>G(r,"cacheAsBitmap",st)),L.push(()=>G(r,"cursor",it)),L.push(()=>G(r,"filterArea",It)),L.push(()=>G(r,"filters",vt)),L.push(()=>G(r,"hitArea",Ct)),L.push(()=>G(r,"interactive",bt)),L.push(()=>G(r,"mask",wt)),L.push(()=>G(r,"name",ot)),L.push(()=>G(r,"pivot",Nt)),L.push(()=>G(r,"position",At)),L.push(()=>G(r,"renderable",ft)),L.push(()=>G(r,"rotation",Bt)),L.push(()=>G(r,"scale",Ht)),L.push(()=>G(r,"skew",Yt)),L.push(()=>G(r,"transform",$t)),L.push(()=>G(r,"visible",te)),L.push(()=>G(r,"x",ee)),L.push(()=>G(r,"y",re)),L.push(()=>G(r,"zIndex",ue)),r.$on("click",t[64]),r.$on("mousedown",t[65]),r.$on("mousemove",t[66]),r.$on("mouseout",t[67]),r.$on("mouseover",t[68]),r.$on("mouseup",t[69]),r.$on("mouseupoutside",t[70]),r.$on("mouseupoutside",t[71]),r.$on("pointercancel",t[72]),r.$on("pointerdown",t[73]),r.$on("pointermove",t[74]),r.$on("pointerout",t[75]),r.$on("pointerover",t[76]),r.$on("pointertap",t[77]),r.$on("pointerup",t[78]),r.$on("pointerupoutside",t[79]),r.$on("removedFrom",t[80]),r.$on("rightclick",t[81]),r.$on("rightdown",t[82]),r.$on("rightup",t[83]),r.$on("rightupoutside",t[84]),r.$on("tap",t[85]),r.$on("touchcancel",t[86]),r.$on("touchend",t[87]),r.$on("touchendoutside",t[88]),r.$on("touchmove",t[89]),r.$on("touchstart",t[90]),r.$on("added",t[91]),r.$on("removed",t[92]),{c(){La(r.$$.fragment)},m(V,ct){gi(r,V,ct),F=!0},p(V,ct){const gt={};ct[0]&536870912&&(gt.parent=V[29]),ct[3]&1&&(gt.$$scope={dirty:ct,ctx:V}),!e&&ct[0]&268435456&&(e=!0,gt.instance=V[28],M(()=>e=!1)),!n&&ct[0]&1&&(n=!0,gt.accessible=V[0],M(()=>n=!1)),!i&&ct[0]&2&&(i=!0,gt.accessibleChildren=V[1],M(()=>i=!1)),!a&&ct[0]&4&&(a=!0,gt.accessibleHint=V[2],M(()=>a=!1)),!s&&ct[0]&8&&(s=!0,gt.accessiblePointerEvents=V[3],M(()=>s=!1)),!o&&ct[0]&16&&(o=!0,gt.accessibleTitle=V[4],M(()=>o=!1)),!u&&ct[0]&32&&(u=!0,gt.accessibleType=V[5],M(()=>u=!1)),!h&&ct[0]&64&&(h=!0,gt.alpha=V[6],M(()=>h=!1)),!f&&ct[0]&128&&(f=!0,gt.angle=V[7],M(()=>f=!1)),!l&&ct[0]&256&&(l=!0,gt.buttonMode=V[8],M(()=>l=!1)),!c&&ct[0]&512&&(c=!0,gt.cacheAsBitmap=V[9],M(()=>c=!1)),!d&&ct[0]&1024&&(d=!0,gt.cursor=V[10],M(()=>d=!1)),!p&&ct[0]&2048&&(p=!0,gt.filterArea=V[11],M(()=>p=!1)),!v&&ct[0]&4096&&(v=!0,gt.filters=V[12],M(()=>v=!1)),!_&&ct[0]&8192&&(_=!0,gt.hitArea=V[13],M(()=>_=!1)),!m&&ct[0]&16384&&(m=!0,gt.interactive=V[14],M(()=>m=!1)),!b&&ct[0]&32768&&(b=!0,gt.mask=V[15],M(()=>b=!1)),!T&&ct[0]&65536&&(T=!0,gt.name=V[16],M(()=>T=!1)),!w&&ct[0]&131072&&(w=!0,gt.pivot=V[17],M(()=>w=!1)),!y&&ct[0]&262144&&(y=!0,gt.position=V[18],M(()=>y=!1)),!g&&ct[0]&524288&&(g=!0,gt.renderable=V[19],M(()=>g=!1)),!N&&ct[0]&1048576&&(N=!0,gt.rotation=V[20],M(()=>N=!1)),!P&&ct[0]&2097152&&(P=!0,gt.scale=V[21],M(()=>P=!1)),!C&&ct[0]&4194304&&(C=!0,gt.skew=V[22],M(()=>C=!1)),!O&&ct[0]&8388608&&(O=!0,gt.transform=V[23],M(()=>O=!1)),!H&&ct[0]&16777216&&(H=!0,gt.visible=V[24],M(()=>H=!1)),!k&&ct[0]&33554432&&(k=!0,gt.x=V[25],M(()=>k=!1)),!j&&ct[0]&67108864&&(j=!0,gt.y=V[26],M(()=>j=!1)),!Z&&ct[0]&134217728&&(Z=!0,gt.zIndex=V[27],M(()=>Z=!1)),r.$set(gt)},i(V){F||(me(r.$$.fragment,V),F=!0)},o(V){Ce(r.$$.fragment,V),F=!1},d(V){yi(r,V)}}}function wb(t,r,e){let{$$slots:n={},$$scope:i}=r,{accessible:a=void 0}=r,{accessibleChildren:s=!0}=r,{accessibleHint:o=void 0}=r,{accessiblePointerEvents:u="auto"}=r,{accessibleTitle:h=void 0}=r,{accessibleType:f=void 0}=r,{alpha:l=void 0}=r,{angle:c=void 0}=r,{buttonMode:d=void 0}=r,{cacheAsBitmap:p=void 0}=r,{cursor:v=void 0}=r,{filterArea:_=void 0}=r,{filters:m=void 0}=r,{hitArea:b=void 0}=r,{interactive:T=void 0}=r,{mask:w=void 0}=r,{name:y=void 0}=r,{pivot:g=void 0}=r,{position:N=void 0}=r,{renderable:P=void 0}=r,{rotation:C=void 0}=r,{scale:O=void 0}=r,{skew:H=void 0}=r,{transform:k=void 0}=r,{visible:j=void 0}=r,{x:Z=void 0}=r,{y:F=void 0}=r,{zIndex:X=void 0}=r,{height:z=void 0}=r,{width:A=void 0}=r,{sortableChildren:W=void 0}=r,{interactiveChildren:B=void 0}=r,{instance:S=new Ie}=r,{parent:K=We("pixi/container")||We("pixi/stage")}=r;const tt=We("pixi/app");Ds("pixi/container",S),Fr(()=>{function R(){return xi(this,void 0,void 0,function*(){e(30,z=S.height),e(31,A=S.width),e(32,W=S.sortableChildren),e(33,B=S.interactiveChildren)})}return tt.ticker.add(R),()=>tt.ticker.remove(R)});function nt(R){S=R,e(28,S),e(30,z),e(31,A),e(32,W),e(33,B)}function et(R){a=R,e(0,a)}function st(R){s=R,e(1,s)}function it(R){o=R,e(2,o)}function It(R){u=R,e(3,u)}function vt(R){h=R,e(4,h)}function Ct(R){f=R,e(5,f)}function bt(R){l=R,e(6,l)}function wt(R){c=R,e(7,c)}function ot(R){d=R,e(8,d)}function Nt(R){p=R,e(9,p)}function At(R){v=R,e(10,v)}function ft(R){_=R,e(11,_)}function Bt(R){m=R,e(12,m)}function Ht(R){b=R,e(13,b)}function Yt(R){T=R,e(14,T)}function $t(R){w=R,e(15,w)}function te(R){y=R,e(16,y)}function ee(R){g=R,e(17,g)}function re(R){N=R,e(18,N)}function ue(R){P=R,e(19,P)}function Tt(R){C=R,e(20,C)}function V(R){O=R,e(21,O)}function ct(R){H=R,e(22,H)}function gt(R){k=R,e(23,k)}function le(R){j=R,e(24,j)}function ce(R){Z=R,e(25,Z)}function de(R){F=R,e(26,F)}function pe(R){X=R,e(27,X)}function Q(R){q.call(this,t,R)}function E(R){q.call(this,t,R)}function Y(R){q.call(this,t,R)}function J(R){q.call(this,t,R)}function Be(R){q.call(this,t,R)}function Le(R){q.call(this,t,R)}function Me(R){q.call(this,t,R)}function U(R){q.call(this,t,R)}function pr(R){q.call(this,t,R)}function vr(R){q.call(this,t,R)}function _r(R){q.call(this,t,R)}function mr(R){q.call(this,t,R)}function yt(R){q.call(this,t,R)}function D(R){q.call(this,t,R)}function lt(R){q.call(this,t,R)}function _t(R){q.call(this,t,R)}function En(R){q.call(this,t,R)}function wn(R){q.call(this,t,R)}function xn(R){q.call(this,t,R)}function In(R){q.call(this,t,R)}function Cn(R){q.call(this,t,R)}function Rn(R){q.call(this,t,R)}function An(R){q.call(this,t,R)}function Pn(R){q.call(this,t,R)}function Nn(R){q.call(this,t,R)}function Sn(R){q.call(this,t,R)}function On(R){q.call(this,t,R)}function Un(R){q.call(this,t,R)}function Fn(R){q.call(this,t,R)}return t.$$set=R=>{"accessible"in R&&e(0,a=R.accessible),"accessibleChildren"in R&&e(1,s=R.accessibleChildren),"accessibleHint"in R&&e(2,o=R.accessibleHint),"accessiblePointerEvents"in R&&e(3,u=R.accessiblePointerEvents),"accessibleTitle"in R&&e(4,h=R.accessibleTitle),"accessibleType"in R&&e(5,f=R.accessibleType),"alpha"in R&&e(6,l=R.alpha),"angle"in R&&e(7,c=R.angle),"buttonMode"in R&&e(8,d=R.buttonMode),"cacheAsBitmap"in R&&e(9,p=R.cacheAsBitmap),"cursor"in R&&e(10,v=R.cursor),"filterArea"in R&&e(11,_=R.filterArea),"filters"in R&&e(12,m=R.filters),"hitArea"in R&&e(13,b=R.hitArea),"interactive"in R&&e(14,T=R.interactive),"mask"in R&&e(15,w=R.mask),"name"in R&&e(16,y=R.name),"pivot"in R&&e(17,g=R.pivot),"position"in R&&e(18,N=R.position),"renderable"in R&&e(19,P=R.renderable),"rotation"in R&&e(20,C=R.rotation),"scale"in R&&e(21,O=R.scale),"skew"in R&&e(22,H=R.skew),"transform"in R&&e(23,k=R.transform),"visible"in R&&e(24,j=R.visible),"x"in R&&e(25,Z=R.x),"y"in R&&e(26,F=R.y),"zIndex"in R&&e(27,X=R.zIndex),"height"in R&&e(30,z=R.height),"width"in R&&e(31,A=R.width),"sortableChildren"in R&&e(32,W=R.sortableChildren),"interactiveChildren"in R&&e(33,B=R.interactiveChildren),"instance"in R&&e(28,S=R.instance),"parent"in R&&e(29,K=R.parent),"$$scope"in R&&e(93,i=R.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&1073741824&&Et(z)&&e(28,S.height=z,S),t.$$.dirty[1]&1&&Et(A)&&e(28,S.width=A,S),t.$$.dirty[1]&2&&Et(W)&&e(28,S.sortableChildren=W,S),t.$$.dirty[1]&4&&Et(B)&&e(28,S.interactiveChildren=B,S)},[a,s,o,u,h,f,l,c,d,p,v,_,m,b,T,w,y,g,N,P,C,O,H,k,j,Z,F,X,S,K,z,A,W,B,n,nt,et,st,it,It,vt,Ct,bt,wt,ot,Nt,At,ft,Bt,Ht,Yt,$t,te,ee,re,ue,Tt,V,ct,gt,le,ce,de,pe,Q,E,Y,J,Be,Le,Me,U,pr,vr,_r,mr,yt,D,lt,_t,En,wn,xn,In,Cn,Rn,An,Pn,Nn,Sn,On,Un,Fn,i]}class Dc extends vn{constructor(r){super();pn(this,r,wb,Eb,ou,{accessible:0,accessibleChildren:1,accessibleHint:2,accessiblePointerEvents:3,accessibleTitle:4,accessibleType:5,alpha:6,angle:7,buttonMode:8,cacheAsBitmap:9,cursor:10,filterArea:11,filters:12,hitArea:13,interactive:14,mask:15,name:16,pivot:17,position:18,renderable:19,rotation:20,scale:21,skew:22,transform:23,visible:24,x:25,y:26,zIndex:27,height:30,width:31,sortableChildren:32,interactiveChildren:33,instance:28,parent:29},null,[-1,-1,-1,-1])}}function xb(t){let r;const e=t[39].default,n=fn(e,t,t[101],null);return{c(){n&&n.c()},m(i,a){n&&n.m(i,a),r=!0},p(i,a){n&&n.p&&(!r||a[3]&256)&&cn(n,e,i,i[101],r?ln(e,i[101],a,null):dn(i[101]),null)},i(i){r||(me(n,i),r=!0)},o(i){Ce(n,i),r=!1},d(i){n&&n.d(i)}}}function Ib(t){let r,e,n,i,a,s,o,u,h,f,l,c,d,p,v,_,m,b,T,w,y,g,N,P,C,O,H,k,j,Z,F,X,z,A,W;function B(E){t[40](E)}function S(E){t[41](E)}function K(E){t[42](E)}function tt(E){t[43](E)}function nt(E){t[44](E)}function et(E){t[45](E)}function st(E){t[46](E)}function it(E){t[47](E)}function It(E){t[48](E)}function vt(E){t[49](E)}function Ct(E){t[50](E)}function bt(E){t[51](E)}function wt(E){t[52](E)}function ot(E){t[53](E)}function Nt(E){t[54](E)}function At(E){t[55](E)}function ft(E){t[56](E)}function Bt(E){t[57](E)}function Ht(E){t[58](E)}function Yt(E){t[59](E)}function $t(E){t[60](E)}function te(E){t[61](E)}function ee(E){t[62](E)}function re(E){t[63](E)}function ue(E){t[64](E)}function Tt(E){t[65](E)}function V(E){t[66](E)}function ct(E){t[67](E)}function gt(E){t[68](E)}function le(E){t[69](E)}function ce(E){t[70](E)}function de(E){t[71](E)}function pe(E){t[72](E)}let Q={$$slots:{default:[xb]},$$scope:{ctx:t}};return t[32]!==void 0&&(Q.instance=t[32]),t[4]!==void 0&&(Q.accessible=t[4]),t[5]!==void 0&&(Q.accessibleChildren=t[5]),t[6]!==void 0&&(Q.accessibleHint=t[6]),t[7]!==void 0&&(Q.accessiblePointerEvents=t[7]),t[8]!==void 0&&(Q.accessibleTitle=t[8]),t[9]!==void 0&&(Q.accessibleType=t[9]),t[10]!==void 0&&(Q.alpha=t[10]),t[11]!==void 0&&(Q.angle=t[11]),t[12]!==void 0&&(Q.buttonMode=t[12]),t[13]!==void 0&&(Q.cacheAsBitmap=t[13]),t[14]!==void 0&&(Q.cursor=t[14]),t[15]!==void 0&&(Q.filterArea=t[15]),t[16]!==void 0&&(Q.filters=t[16]),t[17]!==void 0&&(Q.hitArea=t[17]),t[18]!==void 0&&(Q.interactive=t[18]),t[19]!==void 0&&(Q.mask=t[19]),t[20]!==void 0&&(Q.name=t[20]),t[21]!==void 0&&(Q.pivot=t[21]),t[22]!==void 0&&(Q.position=t[22]),t[23]!==void 0&&(Q.renderable=t[23]),t[24]!==void 0&&(Q.rotation=t[24]),t[25]!==void 0&&(Q.scale=t[25]),t[26]!==void 0&&(Q.skew=t[26]),t[27]!==void 0&&(Q.transform=t[27]),t[28]!==void 0&&(Q.visible=t[28]),t[29]!==void 0&&(Q.x=t[29]),t[30]!==void 0&&(Q.y=t[30]),t[31]!==void 0&&(Q.zIndex=t[31]),t[0]!==void 0&&(Q.height=t[0]),t[1]!==void 0&&(Q.width=t[1]),t[3]!==void 0&&(Q.interactiveChildren=t[3]),t[2]!==void 0&&(Q.sortableChildren=t[2]),r=new Dc({props:Q}),L.push(()=>G(r,"instance",B)),L.push(()=>G(r,"accessible",S)),L.push(()=>G(r,"accessibleChildren",K)),L.push(()=>G(r,"accessibleHint",tt)),L.push(()=>G(r,"accessiblePointerEvents",nt)),L.push(()=>G(r,"accessibleTitle",et)),L.push(()=>G(r,"accessibleType",st)),L.push(()=>G(r,"alpha",it)),L.push(()=>G(r,"angle",It)),L.push(()=>G(r,"buttonMode",vt)),L.push(()=>G(r,"cacheAsBitmap",Ct)),L.push(()=>G(r,"cursor",bt)),L.push(()=>G(r,"filterArea",wt)),L.push(()=>G(r,"filters",ot)),L.push(()=>G(r,"hitArea",Nt)),L.push(()=>G(r,"interactive",At)),L.push(()=>G(r,"mask",ft)),L.push(()=>G(r,"name",Bt)),L.push(()=>G(r,"pivot",Ht)),L.push(()=>G(r,"position",Yt)),L.push(()=>G(r,"renderable",$t)),L.push(()=>G(r,"rotation",te)),L.push(()=>G(r,"scale",ee)),L.push(()=>G(r,"skew",re)),L.push(()=>G(r,"transform",ue)),L.push(()=>G(r,"visible",Tt)),L.push(()=>G(r,"x",V)),L.push(()=>G(r,"y",ct)),L.push(()=>G(r,"zIndex",gt)),L.push(()=>G(r,"height",le)),L.push(()=>G(r,"width",ce)),L.push(()=>G(r,"interactiveChildren",de)),L.push(()=>G(r,"sortableChildren",pe)),r.$on("mousedown",t[73]),r.$on("mousemove",t[74]),r.$on("mouseout",t[75]),r.$on("mouseover",t[76]),r.$on("mouseup",t[77]),r.$on("mouseupoutside",t[78]),r.$on("mouseupoutside",t[79]),r.$on("pointercancel",t[80]),r.$on("pointerdown",t[81]),r.$on("pointermove",t[82]),r.$on("pointerout",t[83]),r.$on("pointerover",t[84]),r.$on("pointertap",t[85]),r.$on("pointerup",t[86]),r.$on("pointerupoutside",t[87]),r.$on("removedFrom",t[88]),r.$on("rightclick",t[89]),r.$on("rightdown",t[90]),r.$on("rightup",t[91]),r.$on("rightupoutside",t[92]),r.$on("tap",t[93]),r.$on("touchcancel",t[94]),r.$on("touchend",t[95]),r.$on("touchendoutside",t[96]),r.$on("touchmove",t[97]),r.$on("touchstart",t[98]),r.$on("added",t[99]),r.$on("removed",t[100]),{c(){La(r.$$.fragment)},m(E,Y){gi(r,E,Y),W=!0},p(E,Y){const J={};Y[3]&256&&(J.$$scope={dirty:Y,ctx:E}),!e&&Y[1]&2&&(e=!0,J.instance=E[32],M(()=>e=!1)),!n&&Y[0]&16&&(n=!0,J.accessible=E[4],M(()=>n=!1)),!i&&Y[0]&32&&(i=!0,J.accessibleChildren=E[5],M(()=>i=!1)),!a&&Y[0]&64&&(a=!0,J.accessibleHint=E[6],M(()=>a=!1)),!s&&Y[0]&128&&(s=!0,J.accessiblePointerEvents=E[7],M(()=>s=!1)),!o&&Y[0]&256&&(o=!0,J.accessibleTitle=E[8],M(()=>o=!1)),!u&&Y[0]&512&&(u=!0,J.accessibleType=E[9],M(()=>u=!1)),!h&&Y[0]&1024&&(h=!0,J.alpha=E[10],M(()=>h=!1)),!f&&Y[0]&2048&&(f=!0,J.angle=E[11],M(()=>f=!1)),!l&&Y[0]&4096&&(l=!0,J.buttonMode=E[12],M(()=>l=!1)),!c&&Y[0]&8192&&(c=!0,J.cacheAsBitmap=E[13],M(()=>c=!1)),!d&&Y[0]&16384&&(d=!0,J.cursor=E[14],M(()=>d=!1)),!p&&Y[0]&32768&&(p=!0,J.filterArea=E[15],M(()=>p=!1)),!v&&Y[0]&65536&&(v=!0,J.filters=E[16],M(()=>v=!1)),!_&&Y[0]&131072&&(_=!0,J.hitArea=E[17],M(()=>_=!1)),!m&&Y[0]&262144&&(m=!0,J.interactive=E[18],M(()=>m=!1)),!b&&Y[0]&524288&&(b=!0,J.mask=E[19],M(()=>b=!1)),!T&&Y[0]&1048576&&(T=!0,J.name=E[20],M(()=>T=!1)),!w&&Y[0]&2097152&&(w=!0,J.pivot=E[21],M(()=>w=!1)),!y&&Y[0]&4194304&&(y=!0,J.position=E[22],M(()=>y=!1)),!g&&Y[0]&8388608&&(g=!0,J.renderable=E[23],M(()=>g=!1)),!N&&Y[0]&16777216&&(N=!0,J.rotation=E[24],M(()=>N=!1)),!P&&Y[0]&33554432&&(P=!0,J.scale=E[25],M(()=>P=!1)),!C&&Y[0]&67108864&&(C=!0,J.skew=E[26],M(()=>C=!1)),!O&&Y[0]&134217728&&(O=!0,J.transform=E[27],M(()=>O=!1)),!H&&Y[0]&268435456&&(H=!0,J.visible=E[28],M(()=>H=!1)),!k&&Y[0]&536870912&&(k=!0,J.x=E[29],M(()=>k=!1)),!j&&Y[0]&1073741824&&(j=!0,J.y=E[30],M(()=>j=!1)),!Z&&Y[1]&1&&(Z=!0,J.zIndex=E[31],M(()=>Z=!1)),!F&&Y[0]&1&&(F=!0,J.height=E[0],M(()=>F=!1)),!X&&Y[0]&2&&(X=!0,J.width=E[1],M(()=>X=!1)),!z&&Y[0]&8&&(z=!0,J.interactiveChildren=E[3],M(()=>z=!1)),!A&&Y[0]&4&&(A=!0,J.sortableChildren=E[2],M(()=>A=!1)),r.$set(J)},i(E){W||(me(r.$$.fragment,E),W=!0)},o(E){Ce(r.$$.fragment,E),W=!1},d(E){yi(r,E)}}}function Cb(t,r,e){let{$$slots:n={},$$scope:i}=r,{anchor:a=void 0}=r,{blendMode:s=void 0}=r,{pluginName:o=void 0}=r,{roundPixels:u=void 0}=r,{texture:h=void 0}=r,{tint:f=void 0}=r,{height:l=void 0}=r,{width:c=void 0}=r,{sortableChildren:d=void 0}=r,{interactiveChildren:p=void 0}=r,{accessible:v=void 0}=r,{accessibleChildren:_=!0}=r,{accessibleHint:m=void 0}=r,{accessiblePointerEvents:b="auto"}=r,{accessibleTitle:T=void 0}=r,{accessibleType:w=void 0}=r,{alpha:y=void 0}=r,{angle:g=void 0}=r,{buttonMode:N=void 0}=r,{cacheAsBitmap:P=void 0}=r,{cursor:C=void 0}=r,{filterArea:O=void 0}=r,{filters:H=void 0}=r,{hitArea:k=void 0}=r,{interactive:j=void 0}=r,{mask:Z=void 0}=r,{name:F=void 0}=r,{pivot:X=void 0}=r,{position:z=void 0}=r,{renderable:A=void 0}=r,{rotation:W=void 0}=r,{scale:B=void 0}=r,{skew:S=void 0}=r,{transform:K=void 0}=r,{visible:tt=void 0}=r,{x:nt=void 0}=r,{y:et=void 0}=r,{zIndex:st=void 0}=r,{instance:it=new _n}=r;const It=We("pixi/app");Fr(()=>{function I(){return xi(this,void 0,void 0,function*(){e(33,a=it.anchor),e(34,s=it.blendMode),e(35,o=it.pluginName),e(36,u=it.roundPixels),e(37,h=it.texture)})}return It.ticker.add(I),()=>It.ticker.remove(I)});function vt(I){it=I,e(32,it),e(33,a),e(34,s),e(35,o),e(36,u),e(37,h),e(38,f)}function Ct(I){v=I,e(4,v)}function bt(I){_=I,e(5,_)}function wt(I){m=I,e(6,m)}function ot(I){b=I,e(7,b)}function Nt(I){T=I,e(8,T)}function At(I){w=I,e(9,w)}function ft(I){y=I,e(10,y)}function Bt(I){g=I,e(11,g)}function Ht(I){N=I,e(12,N)}function Yt(I){P=I,e(13,P)}function $t(I){C=I,e(14,C)}function te(I){O=I,e(15,O)}function ee(I){H=I,e(16,H)}function re(I){k=I,e(17,k)}function ue(I){j=I,e(18,j)}function Tt(I){Z=I,e(19,Z)}function V(I){F=I,e(20,F)}function ct(I){X=I,e(21,X)}function gt(I){z=I,e(22,z)}function le(I){A=I,e(23,A)}function ce(I){W=I,e(24,W)}function de(I){B=I,e(25,B)}function pe(I){S=I,e(26,S)}function Q(I){K=I,e(27,K)}function E(I){tt=I,e(28,tt)}function Y(I){nt=I,e(29,nt)}function J(I){et=I,e(30,et)}function Be(I){st=I,e(31,st)}function Le(I){l=I,e(0,l)}function Me(I){c=I,e(1,c)}function U(I){p=I,e(3,p)}function pr(I){d=I,e(2,d)}function vr(I){q.call(this,t,I)}function _r(I){q.call(this,t,I)}function mr(I){q.call(this,t,I)}function yt(I){q.call(this,t,I)}function D(I){q.call(this,t,I)}function lt(I){q.call(this,t,I)}function _t(I){q.call(this,t,I)}function En(I){q.call(this,t,I)}function wn(I){q.call(this,t,I)}function xn(I){q.call(this,t,I)}function In(I){q.call(this,t,I)}function Cn(I){q.call(this,t,I)}function Rn(I){q.call(this,t,I)}function An(I){q.call(this,t,I)}function Pn(I){q.call(this,t,I)}function Nn(I){q.call(this,t,I)}function Sn(I){q.call(this,t,I)}function On(I){q.call(this,t,I)}function Un(I){q.call(this,t,I)}function Fn(I){q.call(this,t,I)}function R(I){q.call(this,t,I)}function Ka(I){q.call(this,t,I)}function Ya(I){q.call(this,t,I)}function qa(I){q.call(this,t,I)}function Za(I){q.call(this,t,I)}function Ja(I){q.call(this,t,I)}function Qa(I){q.call(this,t,I)}function $a(I){q.call(this,t,I)}return t.$$set=I=>{"anchor"in I&&e(33,a=I.anchor),"blendMode"in I&&e(34,s=I.blendMode),"pluginName"in I&&e(35,o=I.pluginName),"roundPixels"in I&&e(36,u=I.roundPixels),"texture"in I&&e(37,h=I.texture),"tint"in I&&e(38,f=I.tint),"height"in I&&e(0,l=I.height),"width"in I&&e(1,c=I.width),"sortableChildren"in I&&e(2,d=I.sortableChildren),"interactiveChildren"in I&&e(3,p=I.interactiveChildren),"accessible"in I&&e(4,v=I.accessible),"accessibleChildren"in I&&e(5,_=I.accessibleChildren),"accessibleHint"in I&&e(6,m=I.accessibleHint),"accessiblePointerEvents"in I&&e(7,b=I.accessiblePointerEvents),"accessibleTitle"in I&&e(8,T=I.accessibleTitle),"accessibleType"in I&&e(9,w=I.accessibleType),"alpha"in I&&e(10,y=I.alpha),"angle"in I&&e(11,g=I.angle),"buttonMode"in I&&e(12,N=I.buttonMode),"cacheAsBitmap"in I&&e(13,P=I.cacheAsBitmap),"cursor"in I&&e(14,C=I.cursor),"filterArea"in I&&e(15,O=I.filterArea),"filters"in I&&e(16,H=I.filters),"hitArea"in I&&e(17,k=I.hitArea),"interactive"in I&&e(18,j=I.interactive),"mask"in I&&e(19,Z=I.mask),"name"in I&&e(20,F=I.name),"pivot"in I&&e(21,X=I.pivot),"position"in I&&e(22,z=I.position),"renderable"in I&&e(23,A=I.renderable),"rotation"in I&&e(24,W=I.rotation),"scale"in I&&e(25,B=I.scale),"skew"in I&&e(26,S=I.skew),"transform"in I&&e(27,K=I.transform),"visible"in I&&e(28,tt=I.visible),"x"in I&&e(29,nt=I.x),"y"in I&&e(30,et=I.y),"zIndex"in I&&e(31,st=I.zIndex),"instance"in I&&e(32,it=I.instance),"$$scope"in I&&e(101,i=I.$$scope)},t.$$.update=()=>{t.$$.dirty[1]&4&&Et(a)&&e(32,it.anchor=a,it),t.$$.dirty[1]&8&&Et(s)&&e(32,it.blendMode=s,it),t.$$.dirty[1]&16&&Et(o)&&e(32,it.pluginName=o,it),t.$$.dirty[1]&32&&Et(u)&&e(32,it.roundPixels=u,it),t.$$.dirty[1]&64&&Et(h)&&e(32,it.texture=h,it),t.$$.dirty[1]&128&&Et(f)&&e(32,it.tint=f,it)},[l,c,d,p,v,_,m,b,T,w,y,g,N,P,C,O,H,k,j,Z,F,X,z,A,W,B,S,K,tt,nt,et,st,it,a,s,o,u,h,f,n,vt,Ct,bt,wt,ot,Nt,At,ft,Bt,Ht,Yt,$t,te,ee,re,ue,Tt,V,ct,gt,le,ce,de,pe,Q,E,Y,J,Be,Le,Me,U,pr,vr,_r,mr,yt,D,lt,_t,En,wn,xn,In,Cn,Rn,An,Pn,Nn,Sn,On,Un,Fn,R,Ka,Ya,qa,Za,Ja,Qa,$a,i]}class Rb extends vn{constructor(r){super();pn(this,r,Cb,Ib,su,{anchor:33,blendMode:34,pluginName:35,roundPixels:36,texture:37,tint:38,height:0,width:1,sortableChildren:2,interactiveChildren:3,accessible:4,accessibleChildren:5,accessibleHint:6,accessiblePointerEvents:7,accessibleTitle:8,accessibleType:9,alpha:10,angle:11,buttonMode:12,cacheAsBitmap:13,cursor:14,filterArea:15,filters:16,hitArea:17,interactive:18,mask:19,name:20,pivot:21,position:22,renderable:23,rotation:24,scale:25,skew:26,transform:27,visible:28,x:29,y:30,zIndex:31,instance:32},null,[-1,-1,-1,-1])}}function Ab(t){let r;const e=t[41].default,n=fn(e,t,t[109],null);return{c(){n&&n.c()},m(i,a){n&&n.m(i,a),r=!0},p(i,a){n&&n.p&&(!r||a[3]&65536)&&cn(n,e,i,i[109],r?ln(e,i[109],a,null):dn(i[109]),null)},i(i){r||(me(n,i),r=!0)},o(i){Ce(n,i),r=!1},d(i){n&&n.d(i)}}}function Pb(t){let r,e,n,i,a,s,o,u,h,f,l,c,d,p,v,_,m,b,T,w,y,g,N,P,C,O,H,k,j,Z,F,X,z,A,W,B,S,K,tt,nt,et;function st(D){t[42](D)}function it(D){t[43](D)}function It(D){t[44](D)}function vt(D){t[45](D)}function Ct(D){t[46](D)}function bt(D){t[47](D)}function wt(D){t[48](D)}function ot(D){t[49](D)}function Nt(D){t[50](D)}function At(D){t[51](D)}function ft(D){t[52](D)}function Bt(D){t[53](D)}function Ht(D){t[54](D)}function Yt(D){t[55](D)}function $t(D){t[56](D)}function te(D){t[57](D)}function ee(D){t[58](D)}function re(D){t[59](D)}function ue(D){t[60](D)}function Tt(D){t[61](D)}function V(D){t[62](D)}function ct(D){t[63](D)}function gt(D){t[64](D)}function le(D){t[65](D)}function ce(D){t[66](D)}function de(D){t[67](D)}function pe(D){t[68](D)}function Q(D){t[69](D)}function E(D){t[70](D)}function Y(D){t[71](D)}function J(D){t[72](D)}function Be(D){t[73](D)}function Le(D){t[74](D)}function Me(D){t[75](D)}function U(D){t[76](D)}function pr(D){t[77](D)}function vr(D){t[78](D)}function _r(D){t[79](D)}function mr(D){t[80](D)}let yt={$$slots:{default:[Ab]},$$scope:{ctx:t}};return t[38]!==void 0&&(yt.instance=t[38]),t[10]!==void 0&&(yt.accessible=t[10]),t[11]!==void 0&&(yt.accessibleChildren=t[11]),t[12]!==void 0&&(yt.accessibleHint=t[12]),t[13]!==void 0&&(yt.accessiblePointerEvents=t[13]),t[14]!==void 0&&(yt.accessibleTitle=t[14]),t[15]!==void 0&&(yt.accessibleType=t[15]),t[16]!==void 0&&(yt.alpha=t[16]),t[0]!==void 0&&(yt.anchor=t[0]),t[17]!==void 0&&(yt.angle=t[17]),t[1]!==void 0&&(yt.blendMode=t[1]),t[18]!==void 0&&(yt.buttonMode=t[18]),t[19]!==void 0&&(yt.cacheAsBitmap=t[19]),t[20]!==void 0&&(yt.cursor=t[20]),t[21]!==void 0&&(yt.filterArea=t[21]),t[22]!==void 0&&(yt.filters=t[22]),t[6]!==void 0&&(yt.height=t[6]),t[23]!==void 0&&(yt.hitArea=t[23]),t[24]!==void 0&&(yt.interactive=t[24]),t[9]!==void 0&&(yt.interactiveChildren=t[9]),t[25]!==void 0&&(yt.mask=t[25]),t[26]!==void 0&&(yt.name=t[26]),t[27]!==void 0&&(yt.pivot=t[27]),t[2]!==void 0&&(yt.pluginName=t[2]),t[28]!==void 0&&(yt.position=t[28]),t[29]!==void 0&&(yt.renderable=t[29]),t[30]!==void 0&&(yt.rotation=t[30]),t[3]!==void 0&&(yt.roundPixels=t[3]),t[31]!==void 0&&(yt.scale=t[31]),t[32]!==void 0&&(yt.skew=t[32]),t[8]!==void 0&&(yt.sortableChildren=t[8]),t[4]!==void 0&&(yt.texture=t[4]),t[5]!==void 0&&(yt.tint=t[5]),t[33]!==void 0&&(yt.transform=t[33]),t[34]!==void 0&&(yt.visible=t[34]),t[7]!==void 0&&(yt.width=t[7]),t[35]!==void 0&&(yt.x=t[35]),t[36]!==void 0&&(yt.y=t[36]),t[37]!==void 0&&(yt.zIndex=t[37]),r=new Rb({props:yt}),L.push(()=>G(r,"instance",st)),L.push(()=>G(r,"accessible",it)),L.push(()=>G(r,"accessibleChildren",It)),L.push(()=>G(r,"accessibleHint",vt)),L.push(()=>G(r,"accessiblePointerEvents",Ct)),L.push(()=>G(r,"accessibleTitle",bt)),L.push(()=>G(r,"accessibleType",wt)),L.push(()=>G(r,"alpha",ot)),L.push(()=>G(r,"anchor",Nt)),L.push(()=>G(r,"angle",At)),L.push(()=>G(r,"blendMode",ft)),L.push(()=>G(r,"buttonMode",Bt)),L.push(()=>G(r,"cacheAsBitmap",Ht)),L.push(()=>G(r,"cursor",Yt)),L.push(()=>G(r,"filterArea",$t)),L.push(()=>G(r,"filters",te)),L.push(()=>G(r,"height",ee)),L.push(()=>G(r,"hitArea",re)),L.push(()=>G(r,"interactive",ue)),L.push(()=>G(r,"interactiveChildren",Tt)),L.push(()=>G(r,"mask",V)),L.push(()=>G(r,"name",ct)),L.push(()=>G(r,"pivot",gt)),L.push(()=>G(r,"pluginName",le)),L.push(()=>G(r,"position",ce)),L.push(()=>G(r,"renderable",de)),L.push(()=>G(r,"rotation",pe)),L.push(()=>G(r,"roundPixels",Q)),L.push(()=>G(r,"scale",E)),L.push(()=>G(r,"skew",Y)),L.push(()=>G(r,"sortableChildren",J)),L.push(()=>G(r,"texture",Be)),L.push(()=>G(r,"tint",Le)),L.push(()=>G(r,"transform",Me)),L.push(()=>G(r,"visible",U)),L.push(()=>G(r,"width",pr)),L.push(()=>G(r,"x",vr)),L.push(()=>G(r,"y",_r)),L.push(()=>G(r,"zIndex",mr)),r.$on("mousedown",t[81]),r.$on("mousemove",t[82]),r.$on("mouseout",t[83]),r.$on("mouseover",t[84]),r.$on("mouseup",t[85]),r.$on("mouseupoutside",t[86]),r.$on("mouseupoutside",t[87]),r.$on("pointercancel",t[88]),r.$on("pointerdown",t[89]),r.$on("pointermove",t[90]),r.$on("pointerout",t[91]),r.$on("pointerover",t[92]),r.$on("pointertap",t[93]),r.$on("pointerup",t[94]),r.$on("pointerupoutside",t[95]),r.$on("removedFrom",t[96]),r.$on("rightclick",t[97]),r.$on("rightdown",t[98]),r.$on("rightup",t[99]),r.$on("rightupoutside",t[100]),r.$on("tap",t[101]),r.$on("touchcancel",t[102]),r.$on("touchend",t[103]),r.$on("touchendoutside",t[104]),r.$on("touchmove",t[105]),r.$on("touchstart",t[106]),r.$on("added",t[107]),r.$on("removed",t[108]),{c(){La(r.$$.fragment)},m(D,lt){gi(r,D,lt),et=!0},p(D,lt){const _t={};lt[3]&65536&&(_t.$$scope={dirty:lt,ctx:D}),!e&&lt[1]&128&&(e=!0,_t.instance=D[38],M(()=>e=!1)),!n&&lt[0]&1024&&(n=!0,_t.accessible=D[10],M(()=>n=!1)),!i&&lt[0]&2048&&(i=!0,_t.accessibleChildren=D[11],M(()=>i=!1)),!a&&lt[0]&4096&&(a=!0,_t.accessibleHint=D[12],M(()=>a=!1)),!s&&lt[0]&8192&&(s=!0,_t.accessiblePointerEvents=D[13],M(()=>s=!1)),!o&&lt[0]&16384&&(o=!0,_t.accessibleTitle=D[14],M(()=>o=!1)),!u&&lt[0]&32768&&(u=!0,_t.accessibleType=D[15],M(()=>u=!1)),!h&&lt[0]&65536&&(h=!0,_t.alpha=D[16],M(()=>h=!1)),!f&&lt[0]&1&&(f=!0,_t.anchor=D[0],M(()=>f=!1)),!l&&lt[0]&131072&&(l=!0,_t.angle=D[17],M(()=>l=!1)),!c&&lt[0]&2&&(c=!0,_t.blendMode=D[1],M(()=>c=!1)),!d&&lt[0]&262144&&(d=!0,_t.buttonMode=D[18],M(()=>d=!1)),!p&&lt[0]&524288&&(p=!0,_t.cacheAsBitmap=D[19],M(()=>p=!1)),!v&&lt[0]&1048576&&(v=!0,_t.cursor=D[20],M(()=>v=!1)),!_&&lt[0]&2097152&&(_=!0,_t.filterArea=D[21],M(()=>_=!1)),!m&&lt[0]&4194304&&(m=!0,_t.filters=D[22],M(()=>m=!1)),!b&&lt[0]&64&&(b=!0,_t.height=D[6],M(()=>b=!1)),!T&&lt[0]&8388608&&(T=!0,_t.hitArea=D[23],M(()=>T=!1)),!w&&lt[0]&16777216&&(w=!0,_t.interactive=D[24],M(()=>w=!1)),!y&&lt[0]&512&&(y=!0,_t.interactiveChildren=D[9],M(()=>y=!1)),!g&&lt[0]&33554432&&(g=!0,_t.mask=D[25],M(()=>g=!1)),!N&&lt[0]&67108864&&(N=!0,_t.name=D[26],M(()=>N=!1)),!P&&lt[0]&134217728&&(P=!0,_t.pivot=D[27],M(()=>P=!1)),!C&&lt[0]&4&&(C=!0,_t.pluginName=D[2],M(()=>C=!1)),!O&&lt[0]&268435456&&(O=!0,_t.position=D[28],M(()=>O=!1)),!H&&lt[0]&536870912&&(H=!0,_t.renderable=D[29],M(()=>H=!1)),!k&&lt[0]&1073741824&&(k=!0,_t.rotation=D[30],M(()=>k=!1)),!j&&lt[0]&8&&(j=!0,_t.roundPixels=D[3],M(()=>j=!1)),!Z&&lt[1]&1&&(Z=!0,_t.scale=D[31],M(()=>Z=!1)),!F&&lt[1]&2&&(F=!0,_t.skew=D[32],M(()=>F=!1)),!X&&lt[0]&256&&(X=!0,_t.sortableChildren=D[8],M(()=>X=!1)),!z&&lt[0]&16&&(z=!0,_t.texture=D[4],M(()=>z=!1)),!A&&lt[0]&32&&(A=!0,_t.tint=D[5],M(()=>A=!1)),!W&&lt[1]&4&&(W=!0,_t.transform=D[33],M(()=>W=!1)),!B&&lt[1]&8&&(B=!0,_t.visible=D[34],M(()=>B=!1)),!S&&lt[0]&128&&(S=!0,_t.width=D[7],M(()=>S=!1)),!K&&lt[1]&16&&(K=!0,_t.x=D[35],M(()=>K=!1)),!tt&&lt[1]&32&&(tt=!0,_t.y=D[36],M(()=>tt=!1)),!nt&&lt[1]&64&&(nt=!0,_t.zIndex=D[37],M(()=>nt=!1)),r.$set(_t)},i(D){et||(me(r.$$.fragment,D),et=!0)},o(D){Ce(r.$$.fragment,D),et=!1},d(D){yi(r,D)}}}function Nb(t,r,e){let{$$slots:n={},$$scope:i}=r,{text:a}=r,{style:s}=r,{anchor:o=void 0}=r,{blendMode:u=void 0}=r,{pluginName:h=void 0}=r,{roundPixels:f=void 0}=r,{texture:l=void 0}=r,{tint:c=void 0}=r,{height:d=void 0}=r,{width:p=void 0}=r,{sortableChildren:v=void 0}=r,{interactiveChildren:_=void 0}=r,{accessible:m=void 0}=r,{accessibleChildren:b=!0}=r,{accessibleHint:T=void 0}=r,{accessiblePointerEvents:w="auto"}=r,{accessibleTitle:y=void 0}=r,{accessibleType:g=void 0}=r,{alpha:N=void 0}=r,{angle:P=void 0}=r,{buttonMode:C=void 0}=r,{cacheAsBitmap:O=void 0}=r,{cursor:H=void 0}=r,{filterArea:k=void 0}=r,{filters:j=void 0}=r,{hitArea:Z=void 0}=r,{interactive:F=void 0}=r,{mask:X=void 0}=r,{name:z=void 0}=r,{pivot:A=void 0}=r,{position:W=void 0}=r,{renderable:B=void 0}=r,{rotation:S=void 0}=r,{scale:K=void 0}=r,{skew:tt=void 0}=r,{transform:nt=void 0}=r,{visible:et=void 0}=r,{x:st=void 0}=r,{y:it=void 0}=r,{zIndex:It=void 0}=r,{instance:vt=new Tu(a,s)}=r;const Ct=We("pixi/app");Fr(()=>{function x(){return xi(this,void 0,void 0,function*(){e(39,a=vt.text),e(40,s=vt.style)})}return Ct.ticker.add(x),()=>Ct.ticker.remove(x)});function bt(x){vt=x,e(38,vt),e(39,a),e(40,s)}function wt(x){m=x,e(10,m)}function ot(x){b=x,e(11,b)}function Nt(x){T=x,e(12,T)}function At(x){w=x,e(13,w)}function ft(x){y=x,e(14,y)}function Bt(x){g=x,e(15,g)}function Ht(x){N=x,e(16,N)}function Yt(x){o=x,e(0,o)}function $t(x){P=x,e(17,P)}function te(x){u=x,e(1,u)}function ee(x){C=x,e(18,C)}function re(x){O=x,e(19,O)}function ue(x){H=x,e(20,H)}function Tt(x){k=x,e(21,k)}function V(x){j=x,e(22,j)}function ct(x){d=x,e(6,d)}function gt(x){Z=x,e(23,Z)}function le(x){F=x,e(24,F)}function ce(x){_=x,e(9,_)}function de(x){X=x,e(25,X)}function pe(x){z=x,e(26,z)}function Q(x){A=x,e(27,A)}function E(x){h=x,e(2,h)}function Y(x){W=x,e(28,W)}function J(x){B=x,e(29,B)}function Be(x){S=x,e(30,S)}function Le(x){f=x,e(3,f)}function Me(x){K=x,e(31,K)}function U(x){tt=x,e(32,tt)}function pr(x){v=x,e(8,v)}function vr(x){l=x,e(4,l)}function _r(x){c=x,e(5,c)}function mr(x){nt=x,e(33,nt)}function yt(x){et=x,e(34,et)}function D(x){p=x,e(7,p)}function lt(x){st=x,e(35,st)}function _t(x){it=x,e(36,it)}function En(x){It=x,e(37,It)}function wn(x){q.call(this,t,x)}function xn(x){q.call(this,t,x)}function In(x){q.call(this,t,x)}function Cn(x){q.call(this,t,x)}function Rn(x){q.call(this,t,x)}function An(x){q.call(this,t,x)}function Pn(x){q.call(this,t,x)}function Nn(x){q.call(this,t,x)}function Sn(x){q.call(this,t,x)}function On(x){q.call(this,t,x)}function Un(x){q.call(this,t,x)}function Fn(x){q.call(this,t,x)}function R(x){q.call(this,t,x)}function Ka(x){q.call(this,t,x)}function Ya(x){q.call(this,t,x)}function qa(x){q.call(this,t,x)}function Za(x){q.call(this,t,x)}function Ja(x){q.call(this,t,x)}function Qa(x){q.call(this,t,x)}function $a(x){q.call(this,t,x)}function I(x){q.call(this,t,x)}function gd(x){q.call(this,t,x)}function yd(x){q.call(this,t,x)}function bd(x){q.call(this,t,x)}function Td(x){q.call(this,t,x)}function Ed(x){q.call(this,t,x)}function wd(x){q.call(this,t,x)}function xd(x){q.call(this,t,x)}return t.$$set=x=>{"text"in x&&e(39,a=x.text),"style"in x&&e(40,s=x.style),"anchor"in x&&e(0,o=x.anchor),"blendMode"in x&&e(1,u=x.blendMode),"pluginName"in x&&e(2,h=x.pluginName),"roundPixels"in x&&e(3,f=x.roundPixels),"texture"in x&&e(4,l=x.texture),"tint"in x&&e(5,c=x.tint),"height"in x&&e(6,d=x.height),"width"in x&&e(7,p=x.width),"sortableChildren"in x&&e(8,v=x.sortableChildren),"interactiveChildren"in x&&e(9,_=x.interactiveChildren),"accessible"in x&&e(10,m=x.accessible),"accessibleChildren"in x&&e(11,b=x.accessibleChildren),"accessibleHint"in x&&e(12,T=x.accessibleHint),"accessiblePointerEvents"in x&&e(13,w=x.accessiblePointerEvents),"accessibleTitle"in x&&e(14,y=x.accessibleTitle),"accessibleType"in x&&e(15,g=x.accessibleType),"alpha"in x&&e(16,N=x.alpha),"angle"in x&&e(17,P=x.angle),"buttonMode"in x&&e(18,C=x.buttonMode),"cacheAsBitmap"in x&&e(19,O=x.cacheAsBitmap),"cursor"in x&&e(20,H=x.cursor),"filterArea"in x&&e(21,k=x.filterArea),"filters"in x&&e(22,j=x.filters),"hitArea"in x&&e(23,Z=x.hitArea),"interactive"in x&&e(24,F=x.interactive),"mask"in x&&e(25,X=x.mask),"name"in x&&e(26,z=x.name),"pivot"in x&&e(27,A=x.pivot),"position"in x&&e(28,W=x.position),"renderable"in x&&e(29,B=x.renderable),"rotation"in x&&e(30,S=x.rotation),"scale"in x&&e(31,K=x.scale),"skew"in x&&e(32,tt=x.skew),"transform"in x&&e(33,nt=x.transform),"visible"in x&&e(34,et=x.visible),"x"in x&&e(35,st=x.x),"y"in x&&e(36,it=x.y),"zIndex"in x&&e(37,It=x.zIndex),"instance"in x&&e(38,vt=x.instance),"$$scope"in x&&e(109,i=x.$$scope)},t.$$.update=()=>{t.$$.dirty[1]&256&&Et(a)&&e(38,vt.text=a,vt),t.$$.dirty[1]&512&&Et(s)&&e(38,vt.style=s,vt)},[o,u,h,f,l,c,d,p,v,_,m,b,T,w,y,g,N,P,C,O,H,k,j,Z,F,X,z,A,W,B,S,K,tt,nt,et,st,it,It,vt,a,s,n,bt,wt,ot,Nt,At,ft,Bt,Ht,Yt,$t,te,ee,re,ue,Tt,V,ct,gt,le,ce,de,pe,Q,E,Y,J,Be,Le,Me,U,pr,vr,_r,mr,yt,D,lt,_t,En,wn,xn,In,Cn,Rn,An,Pn,Nn,Sn,On,Un,Fn,R,Ka,Ya,qa,Za,Ja,Qa,$a,I,gd,yd,bd,Td,Ed,wd,xd,i]}class UT extends vn{constructor(r){super();pn(this,r,Nb,Pb,ou,{text:39,style:40,anchor:0,blendMode:1,pluginName:2,roundPixels:3,texture:4,tint:5,height:6,width:7,sortableChildren:8,interactiveChildren:9,accessible:10,accessibleChildren:11,accessibleHint:12,accessiblePointerEvents:13,accessibleTitle:14,accessibleType:15,alpha:16,angle:17,buttonMode:18,cacheAsBitmap:19,cursor:20,filterArea:21,filters:22,hitArea:23,interactive:24,mask:25,name:26,pivot:27,position:28,renderable:29,rotation:30,scale:31,skew:32,transform:33,visible:34,x:35,y:36,zIndex:37,instance:38},null,[-1,-1,-1,-1])}}const Sb=t=>({}),ul=t=>({render:t[0]});function hl(t){let r,e,n,i;return{c(){r=Pd("div")},m(a,s){Rl(a,r,s),n||(i=Ad(e=t[0].call(null,r)),n=!0)},d(a){a&&uu(r),n=!1,i()}}}function Ob(t){let r,e,n=!t[1]&&t[2]&&hl(t);const i=t[5].default,a=fn(i,t,t[4],ul);return{c(){n&&n.c(),r=Nd(),a&&a.c()},m(s,o){n&&n.m(s,o),Rl(s,r,o),a&&a.m(s,o),e=!0},p(s,[o]){!s[1]&&s[2]?n||(n=hl(s),n.c(),n.m(r.parentNode,r)):n&&(n.d(1),n=null),a&&a.p&&(!e||o&16)&&cn(a,i,s,s[4],e?ln(i,s[4],o,Sb):dn(s[4]),ul)},i(s){e||(me(a,s),e=!0)},o(s){Ce(a,s),e=!1},d(s){n&&n.d(s),s&&uu(r),a&&a.d(s)}}}function Ub(t,r,e){let{$$slots:n={},$$scope:i}=r,a=!1,s=!1,{app:o}=r;const u=h=>{s||e(1,a=!0),h.appendChild(o.view)};return Ds("pixi/app",o),Ds("pixi/stage",o.stage),Fr(()=>{e(2,s=!0)}),t.$$set=h=>{"app"in h&&e(3,o=h.app),"$$scope"in h&&e(4,i=h.$$scope)},[u,a,s,o,i,n]}class FT extends vn{constructor(r){super();pn(this,r,Ub,Ob,su,{app:3,render:0})}get render(){return this.$$.ctx[0]}}function Fb(t){let r;const e=t[37].default,n=fn(e,t,t[71],null);return{c(){n&&n.c()},m(i,a){n&&n.m(i,a),r=!0},p(i,a){n&&n.p&&(!r||a[2]&512)&&cn(n,e,i,i[71],r?ln(e,i[71],a,null):dn(i[71]),null)},i(i){r||(me(n,i),r=!0)},o(i){Ce(n,i),r=!1},d(i){n&&n.d(i)}}}function Bb(t){let r,e,n,i,a,s,o,u,h,f,l,c,d,p,v,_,m,b,T,w,y,g,N,P,C,O,H,k,j,Z,F,X,z,A,W;function B(E){t[38](E)}function S(E){t[39](E)}function K(E){t[40](E)}function tt(E){t[41](E)}function nt(E){t[42](E)}function et(E){t[43](E)}function st(E){t[44](E)}function it(E){t[45](E)}function It(E){t[46](E)}function vt(E){t[47](E)}function Ct(E){t[48](E)}function bt(E){t[49](E)}function wt(E){t[50](E)}function ot(E){t[51](E)}function Nt(E){t[52](E)}function At(E){t[53](E)}function ft(E){t[54](E)}function Bt(E){t[55](E)}function Ht(E){t[56](E)}function Yt(E){t[57](E)}function $t(E){t[58](E)}function te(E){t[59](E)}function ee(E){t[60](E)}function re(E){t[61](E)}function ue(E){t[62](E)}function Tt(E){t[63](E)}function V(E){t[64](E)}function ct(E){t[65](E)}function gt(E){t[66](E)}function le(E){t[67](E)}function ce(E){t[68](E)}function de(E){t[69](E)}function pe(E){t[70](E)}let Q={$$slots:{default:[Fb]},$$scope:{ctx:t}};return t[0]!==void 0&&(Q.instance=t[0]),t[5]!==void 0&&(Q.accessible=t[5]),t[6]!==void 0&&(Q.accessibleChildren=t[6]),t[7]!==void 0&&(Q.accessibleHint=t[7]),t[8]!==void 0&&(Q.accessiblePointerEvents=t[8]),t[9]!==void 0&&(Q.accessibleTitle=t[9]),t[10]!==void 0&&(Q.accessibleType=t[10]),t[11]!==void 0&&(Q.alpha=t[11]),t[12]!==void 0&&(Q.angle=t[12]),t[13]!==void 0&&(Q.buttonMode=t[13]),t[14]!==void 0&&(Q.cacheAsBitmap=t[14]),t[15]!==void 0&&(Q.cursor=t[15]),t[16]!==void 0&&(Q.filterArea=t[16]),t[17]!==void 0&&(Q.filters=t[17]),t[18]!==void 0&&(Q.hitArea=t[18]),t[19]!==void 0&&(Q.interactive=t[19]),t[20]!==void 0&&(Q.mask=t[20]),t[21]!==void 0&&(Q.name=t[21]),t[22]!==void 0&&(Q.pivot=t[22]),t[23]!==void 0&&(Q.position=t[23]),t[24]!==void 0&&(Q.renderable=t[24]),t[25]!==void 0&&(Q.rotation=t[25]),t[26]!==void 0&&(Q.scale=t[26]),t[27]!==void 0&&(Q.skew=t[27]),t[28]!==void 0&&(Q.transform=t[28]),t[29]!==void 0&&(Q.visible=t[29]),t[30]!==void 0&&(Q.x=t[30]),t[31]!==void 0&&(Q.y=t[31]),t[32]!==void 0&&(Q.zIndex=t[32]),t[1]!==void 0&&(Q.height=t[1]),t[2]!==void 0&&(Q.width=t[2]),t[4]!==void 0&&(Q.interactiveChildren=t[4]),t[3]!==void 0&&(Q.sortableChildren=t[3]),r=new Dc({props:Q}),L.push(()=>G(r,"instance",B)),L.push(()=>G(r,"accessible",S)),L.push(()=>G(r,"accessibleChildren",K)),L.push(()=>G(r,"accessibleHint",tt)),L.push(()=>G(r,"accessiblePointerEvents",nt)),L.push(()=>G(r,"accessibleTitle",et)),L.push(()=>G(r,"accessibleType",st)),L.push(()=>G(r,"alpha",it)),L.push(()=>G(r,"angle",It)),L.push(()=>G(r,"buttonMode",vt)),L.push(()=>G(r,"cacheAsBitmap",Ct)),L.push(()=>G(r,"cursor",bt)),L.push(()=>G(r,"filterArea",wt)),L.push(()=>G(r,"filters",ot)),L.push(()=>G(r,"hitArea",Nt)),L.push(()=>G(r,"interactive",At)),L.push(()=>G(r,"mask",ft)),L.push(()=>G(r,"name",Bt)),L.push(()=>G(r,"pivot",Ht)),L.push(()=>G(r,"position",Yt)),L.push(()=>G(r,"renderable",$t)),L.push(()=>G(r,"rotation",te)),L.push(()=>G(r,"scale",ee)),L.push(()=>G(r,"skew",re)),L.push(()=>G(r,"transform",ue)),L.push(()=>G(r,"visible",Tt)),L.push(()=>G(r,"x",V)),L.push(()=>G(r,"y",ct)),L.push(()=>G(r,"zIndex",gt)),L.push(()=>G(r,"height",le)),L.push(()=>G(r,"width",ce)),L.push(()=>G(r,"interactiveChildren",de)),L.push(()=>G(r,"sortableChildren",pe)),{c(){La(r.$$.fragment)},m(E,Y){gi(r,E,Y),W=!0},p(E,Y){const J={};Y[2]&512&&(J.$$scope={dirty:Y,ctx:E}),!e&&Y[0]&1&&(e=!0,J.instance=E[0],M(()=>e=!1)),!n&&Y[0]&32&&(n=!0,J.accessible=E[5],M(()=>n=!1)),!i&&Y[0]&64&&(i=!0,J.accessibleChildren=E[6],M(()=>i=!1)),!a&&Y[0]&128&&(a=!0,J.accessibleHint=E[7],M(()=>a=!1)),!s&&Y[0]&256&&(s=!0,J.accessiblePointerEvents=E[8],M(()=>s=!1)),!o&&Y[0]&512&&(o=!0,J.accessibleTitle=E[9],M(()=>o=!1)),!u&&Y[0]&1024&&(u=!0,J.accessibleType=E[10],M(()=>u=!1)),!h&&Y[0]&2048&&(h=!0,J.alpha=E[11],M(()=>h=!1)),!f&&Y[0]&4096&&(f=!0,J.angle=E[12],M(()=>f=!1)),!l&&Y[0]&8192&&(l=!0,J.buttonMode=E[13],M(()=>l=!1)),!c&&Y[0]&16384&&(c=!0,J.cacheAsBitmap=E[14],M(()=>c=!1)),!d&&Y[0]&32768&&(d=!0,J.cursor=E[15],M(()=>d=!1)),!p&&Y[0]&65536&&(p=!0,J.filterArea=E[16],M(()=>p=!1)),!v&&Y[0]&131072&&(v=!0,J.filters=E[17],M(()=>v=!1)),!_&&Y[0]&262144&&(_=!0,J.hitArea=E[18],M(()=>_=!1)),!m&&Y[0]&524288&&(m=!0,J.interactive=E[19],M(()=>m=!1)),!b&&Y[0]&1048576&&(b=!0,J.mask=E[20],M(()=>b=!1)),!T&&Y[0]&2097152&&(T=!0,J.name=E[21],M(()=>T=!1)),!w&&Y[0]&4194304&&(w=!0,J.pivot=E[22],M(()=>w=!1)),!y&&Y[0]&8388608&&(y=!0,J.position=E[23],M(()=>y=!1)),!g&&Y[0]&16777216&&(g=!0,J.renderable=E[24],M(()=>g=!1)),!N&&Y[0]&33554432&&(N=!0,J.rotation=E[25],M(()=>N=!1)),!P&&Y[0]&67108864&&(P=!0,J.scale=E[26],M(()=>P=!1)),!C&&Y[0]&134217728&&(C=!0,J.skew=E[27],M(()=>C=!1)),!O&&Y[0]&268435456&&(O=!0,J.transform=E[28],M(()=>O=!1)),!H&&Y[0]&536870912&&(H=!0,J.visible=E[29],M(()=>H=!1)),!k&&Y[0]&1073741824&&(k=!0,J.x=E[30],M(()=>k=!1)),!j&&Y[1]&1&&(j=!0,J.y=E[31],M(()=>j=!1)),!Z&&Y[1]&2&&(Z=!0,J.zIndex=E[32],M(()=>Z=!1)),!F&&Y[0]&2&&(F=!0,J.height=E[1],M(()=>F=!1)),!X&&Y[0]&4&&(X=!0,J.width=E[2],M(()=>X=!1)),!z&&Y[0]&16&&(z=!0,J.interactiveChildren=E[4],M(()=>z=!1)),!A&&Y[0]&8&&(A=!0,J.sortableChildren=E[3],M(()=>A=!1)),r.$set(J)},i(E){W||(me(r.$$.fragment,E),W=!0)},o(E){Ce(r.$$.fragment,E),W=!1},d(E){yi(r,E)}}}function Lb(t,r,e){let{$$slots:n={},$$scope:i}=r,{height:a=void 0}=r,{width:s=void 0}=r,{sortableChildren:o=void 0}=r,{interactiveChildren:u=void 0}=r,{accessible:h=void 0}=r,{accessibleChildren:f=!0}=r,{accessibleHint:l=void 0}=r,{accessiblePointerEvents:c="auto"}=r,{accessibleTitle:d=void 0}=r,{accessibleType:p=void 0}=r,{alpha:v=void 0}=r,{angle:_=void 0}=r,{buttonMode:m=void 0}=r,{cacheAsBitmap:b=void 0}=r,{cursor:T=void 0}=r,{filterArea:w=void 0}=r,{filters:y=void 0}=r,{hitArea:g=void 0}=r,{interactive:N=void 0}=r,{mask:P=void 0}=r,{name:C=void 0}=r,{pivot:O=void 0}=r,{position:H=void 0}=r,{renderable:k=void 0}=r,{rotation:j=void 0}=r,{scale:Z=void 0}=r,{skew:F=void 0}=r,{transform:X=void 0}=r,{visible:z=void 0}=r,{x:A=void 0}=r,{y:W=void 0}=r,{zIndex:B=void 0}=r,{blendMode:S=void 0}=r,{pluginName:K=void 0}=r,{tint:tt=void 0}=r,{draw:nt}=r,{instance:et=new bu}=r;const st=We("pixi/app");Fr(()=>{function U(){return xi(this,void 0,void 0,function*(){S!==et.blendMode&&e(33,S=et.blendMode),K!==et.pluginName&&e(34,K=et.pluginName),tt!==et.tint&&e(35,tt=et.tint)})}return st.ticker.add(U),()=>st.ticker.remove(U)});function it(U){et=U,e(0,et),e(33,S),e(34,K),e(35,tt)}function It(U){h=U,e(5,h)}function vt(U){f=U,e(6,f)}function Ct(U){l=U,e(7,l)}function bt(U){c=U,e(8,c)}function wt(U){d=U,e(9,d)}function ot(U){p=U,e(10,p)}function Nt(U){v=U,e(11,v)}function At(U){_=U,e(12,_)}function ft(U){m=U,e(13,m)}function Bt(U){b=U,e(14,b)}function Ht(U){T=U,e(15,T)}function Yt(U){w=U,e(16,w)}function $t(U){y=U,e(17,y)}function te(U){g=U,e(18,g)}function ee(U){N=U,e(19,N)}function re(U){P=U,e(20,P)}function ue(U){C=U,e(21,C)}function Tt(U){O=U,e(22,O)}function V(U){H=U,e(23,H)}function ct(U){k=U,e(24,k)}function gt(U){j=U,e(25,j)}function le(U){Z=U,e(26,Z)}function ce(U){F=U,e(27,F)}function de(U){X=U,e(28,X)}function pe(U){z=U,e(29,z)}function Q(U){A=U,e(30,A)}function E(U){W=U,e(31,W)}function Y(U){B=U,e(32,B)}function J(U){a=U,e(1,a)}function Be(U){s=U,e(2,s)}function Le(U){u=U,e(4,u)}function Me(U){o=U,e(3,o)}return t.$$set=U=>{"height"in U&&e(1,a=U.height),"width"in U&&e(2,s=U.width),"sortableChildren"in U&&e(3,o=U.sortableChildren),"interactiveChildren"in U&&e(4,u=U.interactiveChildren),"accessible"in U&&e(5,h=U.accessible),"accessibleChildren"in U&&e(6,f=U.accessibleChildren),"accessibleHint"in U&&e(7,l=U.accessibleHint),"accessiblePointerEvents"in U&&e(8,c=U.accessiblePointerEvents),"accessibleTitle"in U&&e(9,d=U.accessibleTitle),"accessibleType"in U&&e(10,p=U.accessibleType),"alpha"in U&&e(11,v=U.alpha),"angle"in U&&e(12,_=U.angle),"buttonMode"in U&&e(13,m=U.buttonMode),"cacheAsBitmap"in U&&e(14,b=U.cacheAsBitmap),"cursor"in U&&e(15,T=U.cursor),"filterArea"in U&&e(16,w=U.filterArea),"filters"in U&&e(17,y=U.filters),"hitArea"in U&&e(18,g=U.hitArea),"interactive"in U&&e(19,N=U.interactive),"mask"in U&&e(20,P=U.mask),"name"in U&&e(21,C=U.name),"pivot"in U&&e(22,O=U.pivot),"position"in U&&e(23,H=U.position),"renderable"in U&&e(24,k=U.renderable),"rotation"in U&&e(25,j=U.rotation),"scale"in U&&e(26,Z=U.scale),"skew"in U&&e(27,F=U.skew),"transform"in U&&e(28,X=U.transform),"visible"in U&&e(29,z=U.visible),"x"in U&&e(30,A=U.x),"y"in U&&e(31,W=U.y),"zIndex"in U&&e(32,B=U.zIndex),"blendMode"in U&&e(33,S=U.blendMode),"pluginName"in U&&e(34,K=U.pluginName),"tint"in U&&e(35,tt=U.tint),"draw"in U&&e(36,nt=U.draw),"instance"in U&&e(0,et=U.instance),"$$scope"in U&&e(71,i=U.$$scope)},t.$$.update=()=>{t.$$.dirty[1]&4&&Et(S)&&e(0,et.blendMode=S,et),t.$$.dirty[1]&8&&Et(K)&&e(0,et.pluginName=K,et),t.$$.dirty[1]&16&&Et(tt)&&e(0,et.tint=tt,et),t.$$.dirty[0]&1|t.$$.dirty[1]&32&&nt(et)},[et,a,s,o,u,h,f,l,c,d,p,v,_,m,b,T,w,y,g,N,P,C,O,H,k,j,Z,F,X,z,A,W,B,S,K,tt,nt,n,it,It,vt,Ct,bt,wt,ot,Nt,At,ft,Bt,Ht,Yt,$t,te,ee,re,ue,Tt,V,ct,gt,le,ce,de,pe,Q,E,Y,J,Be,Le,Me,i]}class BT extends vn{constructor(r){super();pn(this,r,Lb,Bb,su,{height:1,width:2,sortableChildren:3,interactiveChildren:4,accessible:5,accessibleChildren:6,accessibleHint:7,accessiblePointerEvents:8,accessibleTitle:9,accessibleType:10,alpha:11,angle:12,buttonMode:13,cacheAsBitmap:14,cursor:15,filterArea:16,filters:17,hitArea:18,interactive:19,mask:20,name:21,pivot:22,position:23,renderable:24,rotation:25,scale:26,skew:27,transform:28,visible:29,x:30,y:31,zIndex:32,blendMode:33,pluginName:34,tint:35,draw:36,instance:0},null,[-1,-1,-1])}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.
Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.
THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Rt=function(){return Rt=Object.assign||function(r){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(r[a]=e[a])}return r},Rt.apply(this,arguments)};function Lo(t,r,e){if(e||arguments.length===2)for(var n=0,i=r.length,a;n<i;n++)(a||!(n in r))&&(a||(a=Array.prototype.slice.call(r,0,n)),a[n]=r[n]);return t.concat(a||Array.prototype.slice.call(r))}var Mt=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:global,Zt=Object.keys,oe=Array.isArray;typeof Promise!="undefined"&&!Mt.Promise&&(Mt.Promise=Promise);function fe(t,r){return typeof r!="object"||Zt(r).forEach(function(e){t[e]=r[e]}),t}var fi=Object.getPrototypeOf,Mb={}.hasOwnProperty;function _e(t,r){return Mb.call(t,r)}function hn(t,r){typeof r=="function"&&(r=r(fi(t))),(typeof Reflect=="undefined"?Zt:Reflect.ownKeys)(r).forEach(function(e){Qe(t,e,r[e])})}var kc=Object.defineProperty;function Qe(t,r,e,n){kc(t,r,fe(e&&_e(e,"get")&&typeof e.get=="function"?{get:e.get,set:e.set,configurable:!0}:{value:e,configurable:!0,writable:!0},n))}function gn(t){return{from:function(r){return t.prototype=Object.create(r.prototype),Qe(t.prototype,"constructor",t),{extend:hn.bind(null,t.prototype)}}}}var Gb=Object.getOwnPropertyDescriptor;function wu(t,r){var e=Gb(t,r),n;return e||(n=fi(t))&&wu(n,r)}var Db=[].slice;function ja(t,r,e){return Db.call(t,r,e)}function Hc(t,r){return r(t)}function Vn(t){if(!t)throw new Error("Assertion Failed")}function Xc(t){Mt.setImmediate?setImmediate(t):setTimeout(t,0)}function jc(t,r){return t.reduce(function(e,n,i){var a=r(n,i);return a&&(e[a[0]]=a[1]),e},{})}function kb(t,r,e){try{t.apply(null,e)}catch(n){r&&r(n)}}function Ye(t,r){if(_e(t,r))return t[r];if(!r)return t;if(typeof r!="string"){for(var e=[],n=0,i=r.length;n<i;++n){var a=Ye(t,r[n]);e.push(a)}return e}var s=r.indexOf(".");if(s!==-1){var o=t[r.substr(0,s)];return o===void 0?void 0:Ye(o,r.substr(s+1))}}function xe(t,r,e){if(!(!t||r===void 0)&&!("isFrozen"in Object&&Object.isFrozen(t)))if(typeof r!="string"&&"length"in r){Vn(typeof e!="string"&&"length"in e);for(var n=0,i=r.length;n<i;++n)xe(t,r[n],e[n])}else{var a=r.indexOf(".");if(a!==-1){var s=r.substr(0,a),o=r.substr(a+1);if(o==="")e===void 0?oe(t)&&!isNaN(parseInt(s))?t.splice(s,1):delete t[s]:t[s]=e;else{var u=t[s];u||(u=t[s]={}),xe(u,o,e)}}else e===void 0?oe(t)&&!isNaN(parseInt(r))?t.splice(r,1):delete t[r]:t[r]=e}}function Hb(t,r){typeof r=="string"?xe(t,r,void 0):"length"in r&&[].map.call(r,function(e){xe(t,e,void 0)})}function Vc(t){var r={};for(var e in t)_e(t,e)&&(r[e]=t[e]);return r}var Xb=[].concat;function zc(t){return Xb.apply([],t)}var Wc="Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(zc([8,16,32,64].map(function(t){return["Int","Uint","Float"].map(function(r){return r+t+"Array"})}))).filter(function(t){return Mt[t]}),jb=Wc.map(function(t){return Mt[t]});jc(Wc,function(t){return[t,!0]});var rr=null;function Ii(t){rr=typeof WeakMap!="undefined"&&new WeakMap;var r=Mo(t);return rr=null,r}function Mo(t){if(!t||typeof t!="object")return t;var r=rr&&rr.get(t);if(r)return r;if(oe(t)){r=[],rr&&rr.set(t,r);for(var e=0,n=t.length;e<n;++e)r.push(Mo(t[e]))}else if(jb.indexOf(t.constructor)>=0)r=t;else{var i=fi(t);r=i===Object.prototype?{}:Object.create(i),rr&&rr.set(t,r);for(var a in t)_e(t,a)&&(r[a]=Mo(t[a]))}return r}var Vb={}.toString;function Go(t){return Vb.call(t).slice(8,-1)}var Do=typeof Symbol!="undefined"?Symbol.iterator:"@@iterator",zb=typeof Do=="symbol"?function(t){var r;return t!=null&&(r=t[Do])&&r.apply(t)}:function(){return null},Zr={};function je(t){var r,e,n,i;if(arguments.length===1){if(oe(t))return t.slice();if(this===Zr&&typeof t=="string")return[t];if(i=zb(t)){for(e=[];n=i.next(),!n.done;)e.push(n.value);return e}if(t==null)return[t];if(r=t.length,typeof r=="number"){for(e=new Array(r);r--;)e[r]=t[r];return e}return[t]}for(r=arguments.length,e=new Array(r);r--;)e[r]=arguments[r];return e}var xu=typeof Symbol!="undefined"?function(t){return t[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},Fe=typeof location!="undefined"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function Kc(t,r){Fe=t,Yc=r}var Yc=function(){return!0},Wb=!new Error("").stack;function Hr(){if(Wb)try{throw Hr.arguments,new Error}catch(t){return t}return new Error}function ko(t,r){var e=t.stack;return e?(r=r||0,e.indexOf(t.name)===0&&(r+=(t.name+t.message).split(`
`).length),e.split(`
`).slice(r).filter(Yc).map(function(n){return`
`+n}).join("")):""}var Kb=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"],qc=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],Iu=Kb.concat(qc),Yb={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function yn(t,r){this._e=Hr(),this.name=t,this.message=r}gn(yn).from(Error).extend({stack:{get:function(){return this._stack||(this._stack=this.name+": "+this.message+ko(this._e,2))}},toString:function(){return this.name+": "+this.message}});function Zc(t,r){return t+". Errors: "+Object.keys(r).map(function(e){return r[e].toString()}).filter(function(e,n,i){return i.indexOf(e)===n}).join(`
`)}function Ia(t,r,e,n){this._e=Hr(),this.failures=r,this.failedKeys=n,this.successCount=e,this.message=Zc(t,r)}gn(Ia).from(yn);function Yn(t,r){this._e=Hr(),this.name="BulkError",this.failures=Object.keys(r).map(function(e){return r[e]}),this.failuresByPos=r,this.message=Zc(t,r)}gn(Yn).from(yn);var Cu=Iu.reduce(function(t,r){return t[r]=r+"Error",t},{}),qb=yn,pt=Iu.reduce(function(t,r){var e=r+"Error";function n(i,a){this._e=Hr(),this.name=e,i?typeof i=="string"?(this.message=""+i+(a?`
 `+a:""),this.inner=a||null):typeof i=="object"&&(this.message=i.name+" "+i.message,this.inner=i):(this.message=Yb[r]||e,this.inner=null)}return gn(n).from(qb),t[r]=n,t},{});pt.Syntax=SyntaxError;pt.Type=TypeError;pt.Range=RangeError;var fl=qc.reduce(function(t,r){return t[r+"Error"]=pt[r],t},{});function Zb(t,r){if(!t||t instanceof yn||t instanceof TypeError||t instanceof SyntaxError||!t.name||!fl[t.name])return t;var e=new fl[t.name](r||t.message,t);return"stack"in t&&Qe(e,"stack",{get:function(){return this.inner.stack}}),e}var Va=Iu.reduce(function(t,r){return["Syntax","Type","Range"].indexOf(r)===-1&&(t[r+"Error"]=pt[r]),t},{});Va.ModifyError=Ia;Va.DexieError=yn;Va.BulkError=Yn;function Ft(){}function Ci(t){return t}function Jb(t,r){return t==null||t===Ci?r:function(e){return r(t(e))}}function Gr(t,r){return function(){t.apply(this,arguments),r.apply(this,arguments)}}function Qb(t,r){return t===Ft?r:function(){var e=t.apply(this,arguments);e!==void 0&&(arguments[0]=e);var n=this.onsuccess,i=this.onerror;this.onsuccess=null,this.onerror=null;var a=r.apply(this,arguments);return n&&(this.onsuccess=this.onsuccess?Gr(n,this.onsuccess):n),i&&(this.onerror=this.onerror?Gr(i,this.onerror):i),a!==void 0?a:e}}function $b(t,r){return t===Ft?r:function(){t.apply(this,arguments);var e=this.onsuccess,n=this.onerror;this.onsuccess=this.onerror=null,r.apply(this,arguments),e&&(this.onsuccess=this.onsuccess?Gr(e,this.onsuccess):e),n&&(this.onerror=this.onerror?Gr(n,this.onerror):n)}}function t1(t,r){return t===Ft?r:function(e){var n=t.apply(this,arguments);fe(e,n);var i=this.onsuccess,a=this.onerror;this.onsuccess=null,this.onerror=null;var s=r.apply(this,arguments);return i&&(this.onsuccess=this.onsuccess?Gr(i,this.onsuccess):i),a&&(this.onerror=this.onerror?Gr(a,this.onerror):a),n===void 0?s===void 0?void 0:s:fe(n,s)}}function e1(t,r){return t===Ft?r:function(){return r.apply(this,arguments)===!1?!1:t.apply(this,arguments)}}function Ru(t,r){return t===Ft?r:function(){var e=t.apply(this,arguments);if(e&&typeof e.then=="function"){for(var n=this,i=arguments.length,a=new Array(i);i--;)a[i]=arguments[i];return e.then(function(){return r.apply(n,a)})}return r.apply(this,arguments)}}var li={},r1=100,n1=20,Jc=100,Au=typeof Promise=="undefined"?[]:function(){var t=Promise.resolve();if(typeof crypto=="undefined"||!crypto.subtle)return[t,fi(t),t];var r=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[r,fi(r),t]}(),Ho=Au[0],Ca=Au[1],Xo=Au[2],Qc=Ca&&Ca.then,fa=Ho&&Ho.constructor,Pu=!!Xo,jo=!1,i1=Xo?function(){Xo.then(ea)}:Mt.setImmediate?setImmediate.bind(null,ea):Mt.MutationObserver?function(){var t=document.createElement("div");new MutationObserver(function(){ea(),t=null}).observe(t,{attributes:!0}),t.setAttribute("i","1")}:function(){setTimeout(ea,0)},ci=function(t,r){zn.push([t,r]),Ra&&(i1(),Ra=!1)},Vo=!0,Ra=!0,Or=[],la=[],zo=null,Wo=Ci,an={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:dl,pgp:!1,env:{},finalize:function(){this.unhandleds.forEach(function(t){try{dl(t[0],t[1])}catch{}})}},ut=an,zn=[],Ur=0,ca=[];function rt(t){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this.onuncatched=Ft,this._lib=!1;var r=this._PSD=ut;if(Fe&&(this._stackHolder=Hr(),this._prev=null,this._numPrev=0),typeof t!="function"){if(t!==li)throw new TypeError("Not a function");this._state=arguments[1],this._value=arguments[2],this._state===!1&&Yo(this,this._value);return}this._state=null,this._value=null,++r.ref,td(this,t)}var Ko={get:function(){var t=ut,r=Aa;function e(n,i){var a=this,s=!t.global&&(t!==ut||r!==Aa),o=s&&!$e(),u=new rt(function(h,f){Nu(a,new $c(Na(n,t,s,o),Na(i,t,s,o),h,f,t))});return Fe&&nd(u,this),u}return e.prototype=li,e},set:function(t){Qe(this,"then",t&&t.prototype===li?Ko:{get:function(){return t},set:Ko.set})}};hn(rt.prototype,{then:Ko,_then:function(t,r){Nu(this,new $c(null,null,t,r,ut))},catch:function(t){if(arguments.length===1)return this.then(null,t);var r=arguments[0],e=arguments[1];return typeof r=="function"?this.then(null,function(n){return n instanceof r?e(n):da(n)}):this.then(null,function(n){return n&&n.name===r?e(n):da(n)})},finally:function(t){return this.then(function(r){return t(),r},function(r){return t(),da(r)})},stack:{get:function(){if(this._stack)return this._stack;try{jo=!0;var t=rd(this,[],n1),r=t.join(`
From previous: `);return this._state!==null&&(this._stack=r),r}finally{jo=!1}}},timeout:function(t,r){var e=this;return t<1/0?new rt(function(n,i){var a=setTimeout(function(){return i(new pt.Timeout(r))},t);e.then(n,i).finally(clearTimeout.bind(null,a))}):this}});typeof Symbol!="undefined"&&Symbol.toStringTag&&Qe(rt.prototype,Symbol.toStringTag,"Dexie.Promise");an.env=id();function $c(t,r,e,n,i){this.onFulfilled=typeof t=="function"?t:null,this.onRejected=typeof r=="function"?r:null,this.resolve=e,this.reject=n,this.psd=i}hn(rt,{all:function(){var t=je.apply(null,arguments).map(Pa);return new rt(function(r,e){t.length===0&&r([]);var n=t.length;t.forEach(function(i,a){return rt.resolve(i).then(function(s){t[a]=s,--n||r(t)},e)})})},resolve:function(t){if(t instanceof rt)return t;if(t&&typeof t.then=="function")return new rt(function(e,n){t.then(e,n)});var r=new rt(li,!0,t);return nd(r,zo),r},reject:da,race:function(){var t=je.apply(null,arguments).map(Pa);return new rt(function(r,e){t.map(function(n){return rt.resolve(n).then(r,e)})})},PSD:{get:function(){return ut},set:function(t){return ut=t}},totalEchoes:{get:function(){return Aa}},newPSD:hr,usePSD:Tn,scheduler:{get:function(){return ci},set:function(t){ci=t}},rejectionMapper:{get:function(){return Wo},set:function(t){Wo=t}},follow:function(t,r){return new rt(function(e,n){return hr(function(i,a){var s=ut;s.unhandleds=[],s.onunhandled=a,s.finalize=Gr(function(){var o=this;s1(function(){o.unhandleds.length===0?i():a(o.unhandleds[0])})},s.finalize),t()},r,e,n)})}});fa&&(fa.allSettled&&Qe(rt,"allSettled",function(){var t=je.apply(null,arguments).map(Pa);return new rt(function(r){t.length===0&&r([]);var e=t.length,n=new Array(e);t.forEach(function(i,a){return rt.resolve(i).then(function(s){return n[a]={status:"fulfilled",value:s}},function(s){return n[a]={status:"rejected",reason:s}}).then(function(){return--e||r(n)})})})}),fa.any&&typeof AggregateError!="undefined"&&Qe(rt,"any",function(){var t=je.apply(null,arguments).map(Pa);return new rt(function(r,e){t.length===0&&e(new AggregateError([]));var n=t.length,i=new Array(n);t.forEach(function(a,s){return rt.resolve(a).then(function(o){return r(o)},function(o){i[s]=o,--n||e(new AggregateError(i))})})})}));function td(t,r){try{r(function(e){if(t._state===null){if(e===t)throw new TypeError("A promise cannot be resolved with itself.");var n=t._lib&&Ri();e&&typeof e.then=="function"?td(t,function(i,a){e instanceof rt?e._then(i,a):e.then(i,a)}):(t._state=!0,t._value=e,ed(t)),n&&Ai()}},Yo.bind(null,t))}catch(e){Yo(t,e)}}function Yo(t,r){if(la.push(r),t._state===null){var e=t._lib&&Ri();r=Wo(r),t._state=!1,t._value=r,Fe&&r!==null&&typeof r=="object"&&!r._promise&&kb(function(){var n=wu(r,"stack");r._promise=t,Qe(r,"stack",{get:function(){return jo?n&&(n.get?n.get.apply(r):n.value):t.stack}})}),o1(t),ed(t),e&&Ai()}}function ed(t){var r=t._listeners;t._listeners=[];for(var e=0,n=r.length;e<n;++e)Nu(t,r[e]);var i=t._PSD;--i.ref||i.finalize(),Ur===0&&(++Ur,ci(function(){--Ur===0&&Su()},[]))}function Nu(t,r){if(t._state===null){t._listeners.push(r);return}var e=t._state?r.onFulfilled:r.onRejected;if(e===null)return(t._state?r.resolve:r.reject)(t._value);++r.psd.ref,++Ur,ci(a1,[e,t,r])}function a1(t,r,e){try{zo=r;var n,i=r._value;r._state?n=t(i):(la.length&&(la=[]),n=t(i),la.indexOf(i)===-1&&u1(r)),e.resolve(n)}catch(a){e.reject(a)}finally{zo=null,--Ur===0&&Su(),--e.psd.ref||e.psd.finalize()}}function rd(t,r,e){if(r.length===e)return r;var n="";if(t._state===!1){var i=t._value,a,s;i!=null?(a=i.name||"Error",s=i.message||i,n=ko(i,0)):(a=i,s=""),r.push(a+(s?": "+s:"")+n)}return Fe&&(n=ko(t._stackHolder,2),n&&r.indexOf(n)===-1&&r.push(n),t._prev&&rd(t._prev,r,e)),r}function nd(t,r){var e=r?r._numPrev+1:0;e<r1&&(t._prev=r,t._numPrev=e)}function ea(){Ri()&&Ai()}function Ri(){var t=Vo;return Vo=!1,Ra=!1,t}function Ai(){var t,r,e;do for(;zn.length>0;)for(t=zn,zn=[],e=t.length,r=0;r<e;++r){var n=t[r];n[0].apply(null,n[1])}while(zn.length>0);Vo=!0,Ra=!0}function Su(){var t=Or;Or=[],t.forEach(function(n){n._PSD.onunhandled.call(null,n._value,n)});for(var r=ca.slice(0),e=r.length;e;)r[--e]()}function s1(t){function r(){t(),ca.splice(ca.indexOf(r),1)}ca.push(r),++Ur,ci(function(){--Ur===0&&Su()},[])}function o1(t){Or.some(function(r){return r._value===t._value})||Or.push(t)}function u1(t){for(var r=Or.length;r;)if(Or[--r]._value===t._value){Or.splice(r,1);return}}function da(t){return new rt(li,!1,t)}function Gt(t,r){var e=ut;return function(){var n=Ri(),i=ut;try{return fr(e,!0),t.apply(this,arguments)}catch(a){r&&r(a)}finally{fr(i,!1),n&&Ai()}}}var se={awaits:0,echoes:0,id:0},h1=0,pa=[],Os=0,Aa=0,f1=0;function hr(t,r,e,n){var i=ut,a=Object.create(i);a.parent=i,a.ref=0,a.global=!1,a.id=++f1;var s=an.env;a.env=Pu?{Promise:rt,PromiseProp:{value:rt,configurable:!0,writable:!0},all:rt.all,race:rt.race,allSettled:rt.allSettled,any:rt.any,resolve:rt.resolve,reject:rt.reject,nthen:ll(s.nthen,a),gthen:ll(s.gthen,a)}:{},r&&fe(a,r),++i.ref,a.finalize=function(){--this.parent.ref||this.parent.finalize()};var o=Tn(a,t,e,n);return a.ref===0&&a.finalize(),o}function bn(){return se.id||(se.id=++h1),++se.awaits,se.echoes+=Jc,se.id}function $e(){return se.awaits?(--se.awaits===0&&(se.id=0),se.echoes=se.awaits*Jc,!0):!1}(""+Qc).indexOf("[native code]")===-1&&(bn=$e=Ft);function Pa(t){return se.echoes&&t&&t.constructor===fa?(bn(),t.then(function(r){return $e(),r},function(r){return $e(),Qt(r)})):t}function l1(t){++Aa,(!se.echoes||--se.echoes===0)&&(se.echoes=se.id=0),pa.push(ut),fr(t,!0)}function c1(){var t=pa[pa.length-1];pa.pop(),fr(t,!1)}function fr(t,r){var e=ut;if((r?se.echoes&&(!Os++||t!==ut):Os&&(!--Os||t!==ut))&&ad(r?l1.bind(null,t):c1),t!==ut&&(ut=t,e===an&&(an.env=id()),Pu)){var n=an.env.Promise,i=t.env;Ca.then=i.nthen,n.prototype.then=i.gthen,(e.global||t.global)&&(Object.defineProperty(Mt,"Promise",i.PromiseProp),n.all=i.all,n.race=i.race,n.resolve=i.resolve,n.reject=i.reject,i.allSettled&&(n.allSettled=i.allSettled),i.any&&(n.any=i.any))}}function id(){var t=Mt.Promise;return Pu?{Promise:t,PromiseProp:Object.getOwnPropertyDescriptor(Mt,"Promise"),all:t.all,race:t.race,allSettled:t.allSettled,any:t.any,resolve:t.resolve,reject:t.reject,nthen:Ca.then,gthen:t.prototype.then}:{}}function Tn(t,r,e,n,i){var a=ut;try{return fr(t,!0),r(e,n,i)}finally{fr(a,!1)}}function ad(t){Qc.call(Ho,t)}function Na(t,r,e,n){return typeof t!="function"?t:function(){var i=ut;e&&bn(),fr(r,!0);try{return t.apply(this,arguments)}finally{fr(i,!1),n&&ad($e)}}}function ll(t,r){return function(e,n){return t.call(this,Na(e,r),Na(n,r))}}var cl="unhandledrejection";function dl(t,r){var e;try{e=r.onuncatched(t)}catch{}if(e!==!1)try{var n,i={promise:r,reason:t};if(Mt.document&&document.createEvent?(n=document.createEvent("Event"),n.initEvent(cl,!0,!0),fe(n,i)):Mt.CustomEvent&&(n=new CustomEvent(cl,{detail:i}),fe(n,i)),n&&Mt.dispatchEvent&&(dispatchEvent(n),!Mt.PromiseRejectionEvent&&Mt.onunhandledrejection))try{Mt.onunhandledrejection(n)}catch{}Fe&&n&&!n.defaultPrevented&&console.warn("Unhandled rejection: "+(t.stack||t))}catch{}}var Qt=rt.reject;function qo(t,r,e,n){if(!t.idbdb||!t._state.openComplete&&!ut.letThrough&&!t._vip){if(t._state.openComplete)return Qt(new pt.DatabaseClosed(t._state.dbOpenError));if(!t._state.isBeingOpened){if(!t._options.autoOpen)return Qt(new pt.DatabaseClosed);t.open().catch(Ft)}return t._state.dbReadyPromise.then(function(){return qo(t,r,e,n)})}else{var i=t._createTransaction(r,e,t._dbSchema);try{i.create(),t._state.PR1398_maxLoop=3}catch(a){return a.name===Cu.InvalidState&&t.isOpen()&&--t._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),t._close(),t.open().then(function(){return qo(t,r,e,n)})):Qt(a)}return i._promise(r,function(a,s){return hr(function(){return ut.trans=i,n(a,s,i)})}).then(function(a){return i._completion.then(function(){return a})})}}var pl="3.2.1",Pr=String.fromCharCode(65535),Zo=-1/0,De="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",sd="String expected.",qn=[],za=typeof navigator!="undefined"&&/(MSIE|Trident|Edge)/.test(navigator.userAgent),d1=za,p1=za,od=function(t){return!/(dexie\.js|dexie\.min\.js)/.test(t)},Wa="__dbnames",Us="readonly",Fs="readwrite";function Dr(t,r){return t?r?function(){return t.apply(this,arguments)&&r.apply(this,arguments)}:t:r}var ud={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function ra(t){return typeof t=="string"&&!/\./.test(t)?function(r){return r[t]===void 0&&t in r&&(r=Ii(r),delete r[t]),r}:function(r){return r}}var v1=function(){function t(){}return t.prototype._trans=function(r,e,n){var i=this._tx||ut.trans,a=this.name;function s(u,h,f){if(!f.schema[a])throw new pt.NotFound("Table "+a+" not part of transaction");return e(f.idbtrans,f)}var o=Ri();try{return i&&i.db===this.db?i===ut.trans?i._promise(r,s,n):hr(function(){return i._promise(r,s,n)},{trans:i,transless:ut.transless||ut}):qo(this.db,r,[this.name],s)}finally{o&&Ai()}},t.prototype.get=function(r,e){var n=this;return r&&r.constructor===Object?this.where(r).first(e):this._trans("readonly",function(i){return n.core.get({trans:i,key:r}).then(function(a){return n.hook.reading.fire(a)})}).then(e)},t.prototype.where=function(r){if(typeof r=="string")return new this.db.WhereClause(this,r);if(oe(r))return new this.db.WhereClause(this,"["+r.join("+")+"]");var e=Zt(r);if(e.length===1)return this.where(e[0]).equals(r[e[0]]);var n=this.schema.indexes.concat(this.schema.primKey).filter(function(f){return f.compound&&e.every(function(l){return f.keyPath.indexOf(l)>=0})&&f.keyPath.every(function(l){return e.indexOf(l)>=0})})[0];if(n&&this.db._maxKey!==Pr)return this.where(n.name).equals(n.keyPath.map(function(f){return r[f]}));!n&&Fe&&console.warn("The query "+JSON.stringify(r)+" on "+this.name+" would benefit of a "+("compound index ["+e.join("+")+"]"));var i=this.schema.idxByName,a=this.db._deps.indexedDB;function s(f,l){try{return a.cmp(f,l)===0}catch{return!1}}var o=e.reduce(function(f,l){var c=f[0],d=f[1],p=i[l],v=r[l];return[c||p,c||!p?Dr(d,p&&p.multi?function(_){var m=Ye(_,l);return oe(m)&&m.some(function(b){return s(v,b)})}:function(_){return s(v,Ye(_,l))}):d]},[null,null]),u=o[0],h=o[1];return u?this.where(u.name).equals(r[u.keyPath]).filter(h):n?this.filter(h):this.where(e).equals("")},t.prototype.filter=function(r){return this.toCollection().and(r)},t.prototype.count=function(r){return this.toCollection().count(r)},t.prototype.offset=function(r){return this.toCollection().offset(r)},t.prototype.limit=function(r){return this.toCollection().limit(r)},t.prototype.each=function(r){return this.toCollection().each(r)},t.prototype.toArray=function(r){return this.toCollection().toArray(r)},t.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},t.prototype.orderBy=function(r){return new this.db.Collection(new this.db.WhereClause(this,oe(r)?"["+r.join("+")+"]":r))},t.prototype.reverse=function(){return this.toCollection().reverse()},t.prototype.mapToClass=function(r){this.schema.mappedClass=r;var e=function(n){if(!n)return n;var i=Object.create(r.prototype);for(var a in n)if(_e(n,a))try{i[a]=n[a]}catch{}return i};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=e,this.hook("reading",e),r},t.prototype.defineClass=function(){function r(e){fe(this,e)}return this.mapToClass(r)},t.prototype.add=function(r,e){var n=this,i=this.schema.primKey,a=i.auto,s=i.keyPath,o=r;return s&&a&&(o=ra(s)(r)),this._trans("readwrite",function(u){return n.core.mutate({trans:u,type:"add",keys:e!=null?[e]:null,values:[o]})}).then(function(u){return u.numFailures?rt.reject(u.failures[0]):u.lastResult}).then(function(u){if(s)try{xe(r,s,u)}catch{}return u})},t.prototype.update=function(r,e){if(typeof r=="object"&&!oe(r)){var n=Ye(r,this.schema.primKey.keyPath);if(n===void 0)return Qt(new pt.InvalidArgument("Given object does not contain its primary key"));try{typeof e!="function"?Zt(e).forEach(function(i){xe(r,i,e[i])}):e(r,{value:r,primKey:n})}catch{}return this.where(":id").equals(n).modify(e)}else return this.where(":id").equals(r).modify(e)},t.prototype.put=function(r,e){var n=this,i=this.schema.primKey,a=i.auto,s=i.keyPath,o=r;return s&&a&&(o=ra(s)(r)),this._trans("readwrite",function(u){return n.core.mutate({trans:u,type:"put",values:[o],keys:e!=null?[e]:null})}).then(function(u){return u.numFailures?rt.reject(u.failures[0]):u.lastResult}).then(function(u){if(s)try{xe(r,s,u)}catch{}return u})},t.prototype.delete=function(r){var e=this;return this._trans("readwrite",function(n){return e.core.mutate({trans:n,type:"delete",keys:[r]})}).then(function(n){return n.numFailures?rt.reject(n.failures[0]):void 0})},t.prototype.clear=function(){var r=this;return this._trans("readwrite",function(e){return r.core.mutate({trans:e,type:"deleteRange",range:ud})}).then(function(e){return e.numFailures?rt.reject(e.failures[0]):void 0})},t.prototype.bulkGet=function(r){var e=this;return this._trans("readonly",function(n){return e.core.getMany({keys:r,trans:n}).then(function(i){return i.map(function(a){return e.hook.reading.fire(a)})})})},t.prototype.bulkAdd=function(r,e,n){var i=this,a=Array.isArray(e)?e:void 0;n=n||(a?void 0:e);var s=n?n.allKeys:void 0;return this._trans("readwrite",function(o){var u=i.schema.primKey,h=u.auto,f=u.keyPath;if(f&&a)throw new pt.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(a&&a.length!==r.length)throw new pt.InvalidArgument("Arguments objects and keys must have the same length");var l=r.length,c=f&&h?r.map(ra(f)):r;return i.core.mutate({trans:o,type:"add",keys:a,values:c,wantResults:s}).then(function(d){var p=d.numFailures,v=d.results,_=d.lastResult,m=d.failures,b=s?v:_;if(p===0)return b;throw new Yn(i.name+".bulkAdd(): "+p+" of "+l+" operations failed",m)})})},t.prototype.bulkPut=function(r,e,n){var i=this,a=Array.isArray(e)?e:void 0;n=n||(a?void 0:e);var s=n?n.allKeys:void 0;return this._trans("readwrite",function(o){var u=i.schema.primKey,h=u.auto,f=u.keyPath;if(f&&a)throw new pt.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(a&&a.length!==r.length)throw new pt.InvalidArgument("Arguments objects and keys must have the same length");var l=r.length,c=f&&h?r.map(ra(f)):r;return i.core.mutate({trans:o,type:"put",keys:a,values:c,wantResults:s}).then(function(d){var p=d.numFailures,v=d.results,_=d.lastResult,m=d.failures,b=s?v:_;if(p===0)return b;throw new Yn(i.name+".bulkPut(): "+p+" of "+l+" operations failed",m)})})},t.prototype.bulkDelete=function(r){var e=this,n=r.length;return this._trans("readwrite",function(i){return e.core.mutate({trans:i,type:"delete",keys:r})}).then(function(i){var a=i.numFailures,s=i.lastResult,o=i.failures;if(a===0)return s;throw new Yn(e.name+".bulkDelete(): "+a+" of "+n+" operations failed",o)})},t}();function Pi(t){var r={},e=function(o,u){if(u){for(var h=arguments.length,f=new Array(h-1);--h;)f[h-1]=arguments[h];return r[o].subscribe.apply(null,f),t}else if(typeof o=="string")return r[o]};e.addEventType=a;for(var n=1,i=arguments.length;n<i;++n)a(arguments[n]);return e;function a(o,u,h){if(typeof o=="object")return s(o);u||(u=e1),h||(h=Ft);var f={subscribers:[],fire:h,subscribe:function(l){f.subscribers.indexOf(l)===-1&&(f.subscribers.push(l),f.fire=u(f.fire,l))},unsubscribe:function(l){f.subscribers=f.subscribers.filter(function(c){return c!==l}),f.fire=f.subscribers.reduce(u,h)}};return r[o]=e[o]=f,f}function s(o){Zt(o).forEach(function(u){var h=o[u];if(oe(h))a(u,o[u][0],o[u][1]);else if(h==="asap")var f=a(u,Ci,function(){for(var c=arguments.length,d=new Array(c);c--;)d[c]=arguments[c];f.subscribers.forEach(function(p){Xc(function(){p.apply(null,d)})})});else throw new pt.InvalidArgument("Invalid event config")})}}function Ni(t,r){return gn(r).from({prototype:t}),r}function _1(t){return Ni(v1.prototype,function(e,n,i){this.db=t,this._tx=i,this.name=e,this.schema=n,this.hook=t._allTables[e]?t._allTables[e].hook:Pi(null,{creating:[Qb,Ft],reading:[Jb,Ci],updating:[t1,Ft],deleting:[$b,Ft]})})}function Kr(t,r){return!(t.filter||t.algorithm||t.or)&&(r?t.justLimit:!t.replayFilter)}function Bs(t,r){t.filter=Dr(t.filter,r)}function Ls(t,r,e){var n=t.replayFilter;t.replayFilter=n?function(){return Dr(n(),r())}:r,t.justLimit=e&&!n}function m1(t,r){t.isMatch=Dr(t.isMatch,r)}function va(t,r){if(t.isPrimKey)return r.primaryKey;var e=r.getIndexByKeyPath(t.index);if(!e)throw new pt.Schema("KeyPath "+t.index+" on object store "+r.name+" is not indexed");return e}function vl(t,r,e){var n=va(t,r.schema);return r.openCursor({trans:e,values:!t.keysOnly,reverse:t.dir==="prev",unique:!!t.unique,query:{index:n,range:t.range}})}function na(t,r,e,n){var i=t.replayFilter?Dr(t.filter,t.replayFilter()):t.filter;if(t.or){var a={},s=function(o,u,h){if(!i||i(u,h,function(c){return u.stop(c)},function(c){return u.fail(c)})){var f=u.primaryKey,l=""+f;l==="[object ArrayBuffer]"&&(l=""+new Uint8Array(f)),_e(a,l)||(a[l]=!0,r(o,u,h))}};return Promise.all([t.or._iterate(s,e),_l(vl(t,n,e),t.algorithm,s,!t.keysOnly&&t.valueMapper)])}else return _l(vl(t,n,e),Dr(t.algorithm,i),r,!t.keysOnly&&t.valueMapper)}function _l(t,r,e,n){var i=n?function(s,o,u){return e(n(s),o,u)}:e,a=Gt(i);return t.then(function(s){if(s)return s.start(function(){var o=function(){return s.continue()};(!r||r(s,function(u){return o=u},function(u){s.stop(u),o=Ft},function(u){s.fail(u),o=Ft}))&&a(s.value,s,function(u){return o=u}),o()})})}function he(t,r){try{var e=ml(t),n=ml(r);if(e!==n)return e==="Array"?1:n==="Array"?-1:e==="binary"?1:n==="binary"?-1:e==="string"?1:n==="string"?-1:e==="Date"?1:n!=="Date"?NaN:-1;switch(e){case"number":case"Date":case"string":return t>r?1:t<r?-1:0;case"binary":return y1(gl(t),gl(r));case"Array":return g1(t,r)}}catch{}return NaN}function g1(t,r){for(var e=t.length,n=r.length,i=e<n?e:n,a=0;a<i;++a){var s=he(t[a],r[a]);if(s!==0)return s}return e===n?0:e<n?-1:1}function y1(t,r){for(var e=t.length,n=r.length,i=e<n?e:n,a=0;a<i;++a)if(t[a]!==r[a])return t[a]<r[a]?-1:1;return e===n?0:e<n?-1:1}function ml(t){var r=typeof t;if(r!=="object")return r;if(ArrayBuffer.isView(t))return"binary";var e=Go(t);return e==="ArrayBuffer"?"binary":e}function gl(t){return t instanceof Uint8Array?t:ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):new Uint8Array(t)}var b1=function(){function t(){}return t.prototype._read=function(r,e){var n=this._ctx;return n.error?n.table._trans(null,Qt.bind(null,n.error)):n.table._trans("readonly",r).then(e)},t.prototype._write=function(r){var e=this._ctx;return e.error?e.table._trans(null,Qt.bind(null,e.error)):e.table._trans("readwrite",r,"locked")},t.prototype._addAlgorithm=function(r){var e=this._ctx;e.algorithm=Dr(e.algorithm,r)},t.prototype._iterate=function(r,e){return na(this._ctx,r,e,this._ctx.table.core)},t.prototype.clone=function(r){var e=Object.create(this.constructor.prototype),n=Object.create(this._ctx);return r&&fe(n,r),e._ctx=n,e},t.prototype.raw=function(){return this._ctx.valueMapper=null,this},t.prototype.each=function(r){var e=this._ctx;return this._read(function(n){return na(e,r,n,e.table.core)})},t.prototype.count=function(r){var e=this;return this._read(function(n){var i=e._ctx,a=i.table.core;if(Kr(i,!0))return a.count({trans:n,query:{index:va(i,a.schema),range:i.range}}).then(function(o){return Math.min(o,i.limit)});var s=0;return na(i,function(){return++s,!1},n,a).then(function(){return s})}).then(r)},t.prototype.sortBy=function(r,e){var n=r.split(".").reverse(),i=n[0],a=n.length-1;function s(h,f){return f?s(h[n[f]],f-1):h[i]}var o=this._ctx.dir==="next"?1:-1;function u(h,f){var l=s(h,a),c=s(f,a);return l<c?-o:l>c?o:0}return this.toArray(function(h){return h.sort(u)}).then(e)},t.prototype.toArray=function(r){var e=this;return this._read(function(n){var i=e._ctx;if(i.dir==="next"&&Kr(i,!0)&&i.limit>0){var a=i.valueMapper,s=va(i,i.table.core.schema);return i.table.core.query({trans:n,limit:i.limit,values:!0,query:{index:s,range:i.range}}).then(function(u){var h=u.result;return a?h.map(a):h})}else{var o=[];return na(i,function(u){return o.push(u)},n,i.table.core).then(function(){return o})}},r)},t.prototype.offset=function(r){var e=this._ctx;return r<=0?this:(e.offset+=r,Kr(e)?Ls(e,function(){var n=r;return function(i,a){return n===0?!0:n===1?(--n,!1):(a(function(){i.advance(n),n=0}),!1)}}):Ls(e,function(){var n=r;return function(){return--n<0}}),this)},t.prototype.limit=function(r){return this._ctx.limit=Math.min(this._ctx.limit,r),Ls(this._ctx,function(){var e=r;return function(n,i,a){return--e<=0&&i(a),e>=0}},!0),this},t.prototype.until=function(r,e){return Bs(this._ctx,function(n,i,a){return r(n.value)?(i(a),e):!0}),this},t.prototype.first=function(r){return this.limit(1).toArray(function(e){return e[0]}).then(r)},t.prototype.last=function(r){return this.reverse().first(r)},t.prototype.filter=function(r){return Bs(this._ctx,function(e){return r(e.value)}),m1(this._ctx,r),this},t.prototype.and=function(r){return this.filter(r)},t.prototype.or=function(r){return new this.db.WhereClause(this._ctx.table,r,this)},t.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},t.prototype.desc=function(){return this.reverse()},t.prototype.eachKey=function(r){var e=this._ctx;return e.keysOnly=!e.isMatch,this.each(function(n,i){r(i.key,i)})},t.prototype.eachUniqueKey=function(r){return this._ctx.unique="unique",this.eachKey(r)},t.prototype.eachPrimaryKey=function(r){var e=this._ctx;return e.keysOnly=!e.isMatch,this.each(function(n,i){r(i.primaryKey,i)})},t.prototype.keys=function(r){var e=this._ctx;e.keysOnly=!e.isMatch;var n=[];return this.each(function(i,a){n.push(a.key)}).then(function(){return n}).then(r)},t.prototype.primaryKeys=function(r){var e=this._ctx;if(e.dir==="next"&&Kr(e,!0)&&e.limit>0)return this._read(function(i){var a=va(e,e.table.core.schema);return e.table.core.query({trans:i,values:!1,limit:e.limit,query:{index:a,range:e.range}})}).then(function(i){var a=i.result;return a}).then(r);e.keysOnly=!e.isMatch;var n=[];return this.each(function(i,a){n.push(a.primaryKey)}).then(function(){return n}).then(r)},t.prototype.uniqueKeys=function(r){return this._ctx.unique="unique",this.keys(r)},t.prototype.firstKey=function(r){return this.limit(1).keys(function(e){return e[0]}).then(r)},t.prototype.lastKey=function(r){return this.reverse().firstKey(r)},t.prototype.distinct=function(){var r=this._ctx,e=r.index&&r.table.schema.idxByName[r.index];if(!e||!e.multi)return this;var n={};return Bs(this._ctx,function(i){var a=i.primaryKey.toString(),s=_e(n,a);return n[a]=!0,!s}),this},t.prototype.modify=function(r){var e=this,n=this._ctx;return this._write(function(i){var a;if(typeof r=="function")a=r;else{var s=Zt(r),o=s.length;a=function(m){for(var b=!1,T=0;T<o;++T){var w=s[T],y=r[w];Ye(m,w)!==y&&(xe(m,w,y),b=!0)}return b}}var u=n.table.core,h=u.schema.primaryKey,f=h.outbound,l=h.extractKey,c=e.db._options.modifyChunkSize||200,d=[],p=0,v=[],_=function(m,b){var T=b.failures,w=b.numFailures;p+=m-w;for(var y=0,g=Zt(T);y<g.length;y++){var N=g[y];d.push(T[N])}};return e.clone().primaryKeys().then(function(m){var b=function(T){var w=Math.min(c,m.length-T);return u.getMany({trans:i,keys:m.slice(T,T+w),cache:"immutable"}).then(function(y){for(var g=[],N=[],P=f?[]:null,C=[],O=0;O<w;++O){var H=y[O],k={value:Ii(H),primKey:m[T+O]};a.call(k,k.value,k)!==!1&&(k.value==null?C.push(m[T+O]):!f&&he(l(H),l(k.value))!==0?(C.push(m[T+O]),g.push(k.value)):(N.push(k.value),f&&P.push(m[T+O])))}var j=Kr(n)&&n.limit===1/0&&(typeof r!="function"||r===Ms)&&{index:n.index,range:n.range};return Promise.resolve(g.length>0&&u.mutate({trans:i,type:"add",values:g}).then(function(Z){for(var F in Z.failures)C.splice(parseInt(F),1);_(g.length,Z)})).then(function(){return(N.length>0||j&&typeof r=="object")&&u.mutate({trans:i,type:"put",keys:P,values:N,criteria:j,changeSpec:typeof r!="function"&&r}).then(function(Z){return _(N.length,Z)})}).then(function(){return(C.length>0||j&&r===Ms)&&u.mutate({trans:i,type:"delete",keys:C,criteria:j}).then(function(Z){return _(C.length,Z)})}).then(function(){return m.length>T+w&&b(T+c)})})};return b(0).then(function(){if(d.length>0)throw new Ia("Error modifying one or more objects",d,p,v);return m.length})})})},t.prototype.delete=function(){var r=this._ctx,e=r.range;return Kr(r)&&(r.isPrimKey&&!p1||e.type===3)?this._write(function(n){var i=r.table.core.schema.primaryKey,a=e;return r.table.core.count({trans:n,query:{index:i,range:a}}).then(function(s){return r.table.core.mutate({trans:n,type:"deleteRange",range:a}).then(function(o){var u=o.failures;o.lastResult,o.results;var h=o.numFailures;if(h)throw new Ia("Could not delete some values",Object.keys(u).map(function(f){return u[f]}),s-h);return s-h})})}):this.modify(Ms)},t}(),Ms=function(t,r){return r.value=null};function T1(t){return Ni(b1.prototype,function(e,n){this.db=t;var i=ud,a=null;if(n)try{i=n()}catch(h){a=h}var s=e._ctx,o=s.table,u=o.hook.reading.fire;this._ctx={table:o,index:s.index,isPrimKey:!s.index||o.schema.primKey.keyPath&&s.index===o.schema.primKey.name,range:i,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:a,or:s.or,valueMapper:u!==Ci?u:null}})}function E1(t,r){return t<r?-1:t===r?0:1}function w1(t,r){return t>r?-1:t===r?0:1}function ve(t,r,e){var n=t instanceof fd?new t.Collection(t):t;return n._ctx.error=e?new e(r):new TypeError(r),n}function Yr(t){return new t.Collection(t,function(){return hd("")}).limit(0)}function x1(t){return t==="next"?function(r){return r.toUpperCase()}:function(r){return r.toLowerCase()}}function I1(t){return t==="next"?function(r){return r.toLowerCase()}:function(r){return r.toUpperCase()}}function C1(t,r,e,n,i,a){for(var s=Math.min(t.length,n.length),o=-1,u=0;u<s;++u){var h=r[u];if(h!==n[u])return i(t[u],e[u])<0?t.substr(0,u)+e[u]+e.substr(u+1):i(t[u],n[u])<0?t.substr(0,u)+n[u]+e.substr(u+1):o>=0?t.substr(0,o)+r[o]+e.substr(o+1):null;i(t[u],h)<0&&(o=u)}return s<n.length&&a==="next"?t+e.substr(t.length):s<t.length&&a==="prev"?t.substr(0,e.length):o<0?null:t.substr(0,o)+n[o]+e.substr(o+1)}function ia(t,r,e,n){var i,a,s,o,u,h,f,l=e.length;if(!e.every(function(v){return typeof v=="string"}))return ve(t,sd);function c(v){i=x1(v),a=I1(v),s=v==="next"?E1:w1;var _=e.map(function(m){return{lower:a(m),upper:i(m)}}).sort(function(m,b){return s(m.lower,b.lower)});o=_.map(function(m){return m.upper}),u=_.map(function(m){return m.lower}),h=v,f=v==="next"?"":n}c("next");var d=new t.Collection(t,function(){return tr(o[0],u[l-1]+n)});d._ondirectionchange=function(v){c(v)};var p=0;return d._addAlgorithm(function(v,_,m){var b=v.key;if(typeof b!="string")return!1;var T=a(b);if(r(T,u,p))return!0;for(var w=null,y=p;y<l;++y){var g=C1(b,T,o[y],u[y],s,h);g===null&&w===null?p=y+1:(w===null||s(w,g)>0)&&(w=g)}return _(w!==null?function(){v.continue(w+f)}:m),!1}),d}function tr(t,r,e,n){return{type:2,lower:t,upper:r,lowerOpen:e,upperOpen:n}}function hd(t){return{type:1,lower:t,upper:t}}var fd=function(){function t(){}return Object.defineProperty(t.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),t.prototype.between=function(r,e,n,i){n=n!==!1,i=i===!0;try{return this._cmp(r,e)>0||this._cmp(r,e)===0&&(n||i)&&!(n&&i)?Yr(this):new this.Collection(this,function(){return tr(r,e,!n,!i)})}catch{return ve(this,De)}},t.prototype.equals=function(r){return r==null?ve(this,De):new this.Collection(this,function(){return hd(r)})},t.prototype.above=function(r){return r==null?ve(this,De):new this.Collection(this,function(){return tr(r,void 0,!0)})},t.prototype.aboveOrEqual=function(r){return r==null?ve(this,De):new this.Collection(this,function(){return tr(r,void 0,!1)})},t.prototype.below=function(r){return r==null?ve(this,De):new this.Collection(this,function(){return tr(void 0,r,!1,!0)})},t.prototype.belowOrEqual=function(r){return r==null?ve(this,De):new this.Collection(this,function(){return tr(void 0,r)})},t.prototype.startsWith=function(r){return typeof r!="string"?ve(this,sd):this.between(r,r+Pr,!0,!0)},t.prototype.startsWithIgnoreCase=function(r){return r===""?this.startsWith(r):ia(this,function(e,n){return e.indexOf(n[0])===0},[r],Pr)},t.prototype.equalsIgnoreCase=function(r){return ia(this,function(e,n){return e===n[0]},[r],"")},t.prototype.anyOfIgnoreCase=function(){var r=je.apply(Zr,arguments);return r.length===0?Yr(this):ia(this,function(e,n){return n.indexOf(e)!==-1},r,"")},t.prototype.startsWithAnyOfIgnoreCase=function(){var r=je.apply(Zr,arguments);return r.length===0?Yr(this):ia(this,function(e,n){return n.some(function(i){return e.indexOf(i)===0})},r,Pr)},t.prototype.anyOf=function(){var r=this,e=je.apply(Zr,arguments),n=this._cmp;try{e.sort(n)}catch{return ve(this,De)}if(e.length===0)return Yr(this);var i=new this.Collection(this,function(){return tr(e[0],e[e.length-1])});i._ondirectionchange=function(s){n=s==="next"?r._ascending:r._descending,e.sort(n)};var a=0;return i._addAlgorithm(function(s,o,u){for(var h=s.key;n(h,e[a])>0;)if(++a,a===e.length)return o(u),!1;return n(h,e[a])===0?!0:(o(function(){s.continue(e[a])}),!1)}),i},t.prototype.notEqual=function(r){return this.inAnyRange([[Zo,r],[r,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},t.prototype.noneOf=function(){var r=je.apply(Zr,arguments);if(r.length===0)return new this.Collection(this);try{r.sort(this._ascending)}catch{return ve(this,De)}var e=r.reduce(function(n,i){return n?n.concat([[n[n.length-1][1],i]]):[[Zo,i]]},null);return e.push([r[r.length-1],this.db._maxKey]),this.inAnyRange(e,{includeLowers:!1,includeUppers:!1})},t.prototype.inAnyRange=function(r,e){var n=this,i=this._cmp,a=this._ascending,s=this._descending,o=this._min,u=this._max;if(r.length===0)return Yr(this);if(!r.every(function(y){return y[0]!==void 0&&y[1]!==void 0&&a(y[0],y[1])<=0}))return ve(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",pt.InvalidArgument);var h=!e||e.includeLowers!==!1,f=e&&e.includeUppers===!0;function l(y,g){for(var N=0,P=y.length;N<P;++N){var C=y[N];if(i(g[0],C[1])<0&&i(g[1],C[0])>0){C[0]=o(C[0],g[0]),C[1]=u(C[1],g[1]);break}}return N===P&&y.push(g),y}var c=a;function d(y,g){return c(y[0],g[0])}var p;try{p=r.reduce(l,[]),p.sort(d)}catch{return ve(this,De)}var v=0,_=f?function(y){return a(y,p[v][1])>0}:function(y){return a(y,p[v][1])>=0},m=h?function(y){return s(y,p[v][0])>0}:function(y){return s(y,p[v][0])>=0};function b(y){return!_(y)&&!m(y)}var T=_,w=new this.Collection(this,function(){return tr(p[0][0],p[p.length-1][1],!h,!f)});return w._ondirectionchange=function(y){y==="next"?(T=_,c=a):(T=m,c=s),p.sort(d)},w._addAlgorithm(function(y,g,N){for(var P=y.key;T(P);)if(++v,v===p.length)return g(N),!1;return b(P)?!0:(n._cmp(P,p[v][1])===0||n._cmp(P,p[v][0])===0||g(function(){c===a?y.continue(p[v][0]):y.continue(p[v][1])}),!1)}),w},t.prototype.startsWithAnyOf=function(){var r=je.apply(Zr,arguments);return r.every(function(e){return typeof e=="string"})?r.length===0?Yr(this):this.inAnyRange(r.map(function(e){return[e,e+Pr]})):ve(this,"startsWithAnyOf() only works with strings")},t}();function R1(t){return Ni(fd.prototype,function(e,n,i){this.db=t,this._ctx={table:e,index:n===":id"?null:n,or:i};var a=t._deps.indexedDB;if(!a)throw new pt.MissingAPI;this._cmp=this._ascending=a.cmp.bind(a),this._descending=function(s,o){return a.cmp(o,s)},this._max=function(s,o){return a.cmp(s,o)>0?s:o},this._min=function(s,o){return a.cmp(s,o)<0?s:o},this._IDBKeyRange=t._deps.IDBKeyRange})}function Re(t){return Gt(function(r){return di(r),t(r.target.error),!1})}function di(t){t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault()}var pi="storagemutated",ar="x-storagemutated-1",lr=Pi(null,pi),A1=function(){function t(){}return t.prototype._lock=function(){return Vn(!ut.global),++this._reculock,this._reculock===1&&!ut.global&&(ut.lockOwnerFor=this),this},t.prototype._unlock=function(){if(Vn(!ut.global),--this._reculock===0)for(ut.global||(ut.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var r=this._blockedFuncs.shift();try{Tn(r[1],r[0])}catch{}}return this},t.prototype._locked=function(){return this._reculock&&ut.lockOwnerFor!==this},t.prototype.create=function(r){var e=this;if(!this.mode)return this;var n=this.db.idbdb,i=this.db._state.dbOpenError;if(Vn(!this.idbtrans),!r&&!n)switch(i&&i.name){case"DatabaseClosedError":throw new pt.DatabaseClosed(i);case"MissingAPIError":throw new pt.MissingAPI(i.message,i);default:throw new pt.OpenFailed(i)}if(!this.active)throw new pt.TransactionInactive;return Vn(this._completion._state===null),r=this.idbtrans=r||(this.db.core?this.db.core.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}):n.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})),r.onerror=Gt(function(a){di(a),e._reject(r.error)}),r.onabort=Gt(function(a){di(a),e.active&&e._reject(new pt.Abort(r.error)),e.active=!1,e.on("abort").fire(a)}),r.oncomplete=Gt(function(){e.active=!1,e._resolve(),"mutatedParts"in r&&lr.storagemutated.fire(r.mutatedParts)}),this},t.prototype._promise=function(r,e,n){var i=this;if(r==="readwrite"&&this.mode!=="readwrite")return Qt(new pt.ReadOnly("Transaction is readonly"));if(!this.active)return Qt(new pt.TransactionInactive);if(this._locked())return new rt(function(s,o){i._blockedFuncs.push([function(){i._promise(r,e,n).then(s,o)},ut])});if(n)return hr(function(){var s=new rt(function(o,u){i._lock();var h=e(o,u,i);h&&h.then&&h.then(o,u)});return s.finally(function(){return i._unlock()}),s._lib=!0,s});var a=new rt(function(s,o){var u=e(s,o,i);u&&u.then&&u.then(s,o)});return a._lib=!0,a},t.prototype._root=function(){return this.parent?this.parent._root():this},t.prototype.waitFor=function(r){var e=this._root(),n=rt.resolve(r);if(e._waitingFor)e._waitingFor=e._waitingFor.then(function(){return n});else{e._waitingFor=n,e._waitingQueue=[];var i=e.idbtrans.objectStore(e.storeNames[0]);(function s(){for(++e._spinCount;e._waitingQueue.length;)e._waitingQueue.shift()();e._waitingFor&&(i.get(-1/0).onsuccess=s)})()}var a=e._waitingFor;return new rt(function(s,o){n.then(function(u){return e._waitingQueue.push(Gt(s.bind(null,u)))},function(u){return e._waitingQueue.push(Gt(o.bind(null,u)))}).finally(function(){e._waitingFor===a&&(e._waitingFor=null)})})},t.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new pt.Abort))},t.prototype.table=function(r){var e=this._memoizedTables||(this._memoizedTables={});if(_e(e,r))return e[r];var n=this.schema[r];if(!n)throw new pt.NotFound("Table "+r+" not part of transaction");var i=new this.db.Table(r,n,this);return i.core=this.db.core.table(r),e[r]=i,i},t}();function P1(t){return Ni(A1.prototype,function(e,n,i,a,s){var o=this;this.db=t,this.mode=e,this.storeNames=n,this.schema=i,this.chromeTransactionDurability=a,this.idbtrans=null,this.on=Pi(this,"complete","error","abort"),this.parent=s||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new rt(function(u,h){o._resolve=u,o._reject=h}),this._completion.then(function(){o.active=!1,o.on.complete.fire()},function(u){var h=o.active;return o.active=!1,o.on.error.fire(u),o.parent?o.parent._reject(u):h&&o.idbtrans&&o.idbtrans.abort(),Qt(u)})})}function Jo(t,r,e,n,i,a,s){return{name:t,keyPath:r,unique:e,multi:n,auto:i,compound:a,src:(e&&!s?"&":"")+(n?"*":"")+(i?"++":"")+ld(r)}}function ld(t){return typeof t=="string"?t:t?"["+[].join.call(t,"+")+"]":""}function cd(t,r,e){return{name:t,primKey:r,indexes:e,mappedClass:null,idxByName:jc(e,function(n){return[n.name,n]})}}function N1(t){return t.length===1?t[0]:t}var vi=function(t){try{return t.only([[]]),vi=function(){return[[]]},[[]]}catch{return vi=function(){return Pr},Pr}};function Qo(t){return t==null?function(){}:typeof t=="string"?S1(t):function(r){return Ye(r,t)}}function S1(t){var r=t.split(".");return r.length===1?function(e){return e[t]}:function(e){return Ye(e,t)}}function yl(t){return[].slice.call(t)}var O1=0;function Zn(t){return t==null?":id":typeof t=="string"?t:"["+t.join("+")+"]"}function U1(t,r,e){function n(l,c){var d=yl(l.objectStoreNames);return{schema:{name:l.name,tables:d.map(function(p){return c.objectStore(p)}).map(function(p){var v=p.keyPath,_=p.autoIncrement,m=oe(v),b=v==null,T={},w={name:p.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:b,compound:m,keyPath:v,autoIncrement:_,unique:!0,extractKey:Qo(v)},indexes:yl(p.indexNames).map(function(y){return p.index(y)}).map(function(y){var g=y.name,N=y.unique,P=y.multiEntry,C=y.keyPath,O=oe(C),H={name:g,compound:O,keyPath:C,unique:N,multiEntry:P,extractKey:Qo(C)};return T[Zn(C)]=H,H}),getIndexByKeyPath:function(y){return T[Zn(y)]}};return T[":id"]=w.primaryKey,v!=null&&(T[Zn(v)]=w.primaryKey),w})},hasGetAll:d.length>0&&"getAll"in c.objectStore(d[0])&&!(typeof navigator!="undefined"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}}function i(l){if(l.type===3)return null;if(l.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var c=l.lower,d=l.upper,p=l.lowerOpen,v=l.upperOpen,_=c===void 0?d===void 0?null:r.upperBound(d,!!v):d===void 0?r.lowerBound(c,!!p):r.bound(c,d,!!p,!!v);return _}function a(l){var c=l.name;function d(_){var m=_.trans,b=_.type,T=_.keys,w=_.values,y=_.range;return new Promise(function(g,N){g=Gt(g);var P=m.objectStore(c),C=P.keyPath==null,O=b==="put"||b==="add";if(!O&&b!=="delete"&&b!=="deleteRange")throw new Error("Invalid operation type: "+b);var H=(T||w||{length:1}).length;if(T&&w&&T.length!==w.length)throw new Error("Given keys array must have same length as given values array.");if(H===0)return g({numFailures:0,failures:{},results:[],lastResult:void 0});var k,j=[],Z=[],F=0,X=function(K){++F,di(K)};if(b==="deleteRange"){if(y.type===4)return g({numFailures:F,failures:Z,results:[],lastResult:void 0});y.type===3?j.push(k=P.clear()):j.push(k=P.delete(i(y)))}else{var z=O?C?[w,T]:[w,null]:[T,null],A=z[0],W=z[1];if(O)for(var B=0;B<H;++B)j.push(k=W&&W[B]!==void 0?P[b](A[B],W[B]):P[b](A[B])),k.onerror=X;else for(var B=0;B<H;++B)j.push(k=P[b](A[B])),k.onerror=X}var S=function(K){var tt=K.target.result;j.forEach(function(nt,et){return nt.error!=null&&(Z[et]=nt.error)}),g({numFailures:F,failures:Z,results:b==="delete"?T:j.map(function(nt){return nt.result}),lastResult:tt})};k.onerror=function(K){X(K),S(K)},k.onsuccess=S})}function p(_){var m=_.trans,b=_.values,T=_.query,w=_.reverse,y=_.unique;return new Promise(function(g,N){g=Gt(g);var P=T.index,C=T.range,O=m.objectStore(c),H=P.isPrimaryKey?O:O.index(P.name),k=w?y?"prevunique":"prev":y?"nextunique":"next",j=b||!("openKeyCursor"in H)?H.openCursor(i(C),k):H.openKeyCursor(i(C),k);j.onerror=Re(N),j.onsuccess=Gt(function(Z){var F=j.result;if(!F){g(null);return}F.___id=++O1,F.done=!1;var X=F.continue.bind(F),z=F.continuePrimaryKey;z&&(z=z.bind(F));var A=F.advance.bind(F),W=function(){throw new Error("Cursor not started")},B=function(){throw new Error("Cursor not stopped")};F.trans=m,F.stop=F.continue=F.continuePrimaryKey=F.advance=W,F.fail=Gt(N),F.next=function(){var S=this,K=1;return this.start(function(){return K--?S.continue():S.stop()}).then(function(){return S})},F.start=function(S){var K=new Promise(function(nt,et){nt=Gt(nt),j.onerror=Re(et),F.fail=et,F.stop=function(st){F.stop=F.continue=F.continuePrimaryKey=F.advance=B,nt(st)}}),tt=function(){if(j.result)try{S()}catch(nt){F.fail(nt)}else F.done=!0,F.start=function(){throw new Error("Cursor behind last entry")},F.stop()};return j.onsuccess=Gt(function(nt){j.onsuccess=tt,tt()}),F.continue=X,F.continuePrimaryKey=z,F.advance=A,tt(),K},g(F)},N)})}function v(_){return function(m){return new Promise(function(b,T){b=Gt(b);var w=m.trans,y=m.values,g=m.limit,N=m.query,P=g===1/0?void 0:g,C=N.index,O=N.range,H=w.objectStore(c),k=C.isPrimaryKey?H:H.index(C.name),j=i(O);if(g===0)return b({result:[]});if(_){var Z=y?k.getAll(j,P):k.getAllKeys(j,P);Z.onsuccess=function(A){return b({result:A.target.result})},Z.onerror=Re(T)}else{var F=0,X=y||!("openKeyCursor"in k)?k.openCursor(j):k.openKeyCursor(j),z=[];X.onsuccess=function(A){var W=X.result;if(!W)return b({result:z});if(z.push(y?W.value:W.primaryKey),++F===g)return b({result:z});W.continue()},X.onerror=Re(T)}})}}return{name:c,schema:l,mutate:d,getMany:function(_){var m=_.trans,b=_.keys;return new Promise(function(T,w){T=Gt(T);for(var y=m.objectStore(c),g=b.length,N=new Array(g),P=0,C=0,O,H=function(F){var X=F.target;(N[X._pos]=X.result)!=null,++C===P&&T(N)},k=Re(w),j=0;j<g;++j){var Z=b[j];Z!=null&&(O=y.get(b[j]),O._pos=j,O.onsuccess=H,O.onerror=k,++P)}P===0&&T(N)})},get:function(_){var m=_.trans,b=_.key;return new Promise(function(T,w){T=Gt(T);var y=m.objectStore(c),g=y.get(b);g.onsuccess=function(N){return T(N.target.result)},g.onerror=Re(w)})},query:v(u),openCursor:p,count:function(_){var m=_.query,b=_.trans,T=m.index,w=m.range;return new Promise(function(y,g){var N=b.objectStore(c),P=T.isPrimaryKey?N:N.index(T.name),C=i(w),O=C?P.count(C):P.count();O.onsuccess=Gt(function(H){return y(H.target.result)}),O.onerror=Re(g)})}}}var s=n(t,e),o=s.schema,u=s.hasGetAll,h=o.tables.map(function(l){return a(l)}),f={};return h.forEach(function(l){return f[l.name]=l}),{stack:"dbcore",transaction:t.transaction.bind(t),table:function(l){var c=f[l];if(!c)throw new Error("Table '"+l+"' not found");return f[l]},MIN_KEY:-1/0,MAX_KEY:vi(r),schema:o}}function F1(t,r){return r.reduce(function(e,n){var i=n.create;return Rt(Rt({},e),i(e))},t)}function B1(t,r,e,n){var i=e.IDBKeyRange;e.indexedDB;var a=F1(U1(r,i,n),t.dbcore);return{dbcore:a}}function Ou(t,r){var e=t._novip,n=r.db,i=B1(e._middlewares,n,e._deps,r);e.core=i.dbcore,e.tables.forEach(function(a){var s=a.name;e.core.schema.tables.some(function(o){return o.name===s})&&(a.core=e.core.table(s),e[s]instanceof e.Table&&(e[s].core=a.core))})}function Sa(t,r,e,n){var i=t._novip;e.forEach(function(a){var s=n[a];r.forEach(function(o){var u=wu(o,a);(!u||"value"in u&&u.value===void 0)&&(o===i.Transaction.prototype||o instanceof i.Transaction?Qe(o,a,{get:function(){return this.table(a)},set:function(h){kc(this,a,{value:h,writable:!0,configurable:!0,enumerable:!0})}}):o[a]=new i.Table(a,s))})})}function $o(t,r){var e=t._novip;r.forEach(function(n){for(var i in n)n[i]instanceof e.Table&&delete n[i]})}function L1(t,r){return t._cfg.version-r._cfg.version}function M1(t,r,e,n){var i=t._dbSchema,a=t._createTransaction("readwrite",t._storeNames,i);a.create(e),a._completion.catch(n);var s=a._reject.bind(a),o=ut.transless||ut;hr(function(){ut.trans=a,ut.transless=o,r===0?(Zt(i).forEach(function(u){Uu(e,u,i[u].primKey,i[u].indexes)}),Ou(t,e),rt.follow(function(){return t.on.populate.fire(a)}).catch(s)):G1(t,r,a,e).catch(s)})}function G1(t,r,e,n){var i=t._novip,a=[],s=i._versions,o=i._dbSchema=Fu(i,i.idbdb,n),u=!1,h=s.filter(function(l){return l._cfg.version>=r});h.forEach(function(l){a.push(function(){var c=o,d=l._cfg.dbschema;eu(i,c,n),eu(i,d,n),o=i._dbSchema=d;var p=dd(c,d);p.add.forEach(function(w){Uu(n,w[0],w[1].primKey,w[1].indexes)}),p.change.forEach(function(w){if(w.recreate)throw new pt.Upgrade("Not yet support for changing primary key");var y=n.objectStore(w.name);w.add.forEach(function(g){return tu(y,g)}),w.change.forEach(function(g){y.deleteIndex(g.name),tu(y,g)}),w.del.forEach(function(g){return y.deleteIndex(g)})});var v=l._cfg.contentUpgrade;if(v&&l._cfg.version>r){Ou(i,n),e._memoizedTables={},u=!0;var _=Vc(d);p.del.forEach(function(w){_[w]=c[w]}),$o(i,[i.Transaction.prototype]),Sa(i,[i.Transaction.prototype],Zt(_),_),e.schema=_;var m=xu(v);m&&bn();var b,T=rt.follow(function(){if(b=v(e),b&&m){var w=$e.bind(null,null);b.then(w,w)}});return b&&typeof b.then=="function"?rt.resolve(b):T.then(function(){return b})}}),a.push(function(c){if(!u||!d1){var d=l._cfg.dbschema;k1(d,c)}$o(i,[i.Transaction.prototype]),Sa(i,[i.Transaction.prototype],i._storeNames,i._dbSchema),e.schema=i._dbSchema})});function f(){return a.length?rt.resolve(a.shift()(e.idbtrans)).then(f):rt.resolve()}return f().then(function(){D1(o,n)})}function dd(t,r){var e={del:[],add:[],change:[]},n;for(n in t)r[n]||e.del.push(n);for(n in r){var i=t[n],a=r[n];if(!i)e.add.push([n,a]);else{var s={name:n,def:a,recreate:!1,del:[],add:[],change:[]};if(""+(i.primKey.keyPath||"")!=""+(a.primKey.keyPath||"")||i.primKey.auto!==a.primKey.auto&&!za)s.recreate=!0,e.change.push(s);else{var o=i.idxByName,u=a.idxByName,h=void 0;for(h in o)u[h]||s.del.push(h);for(h in u){var f=o[h],l=u[h];f?f.src!==l.src&&s.change.push(l):s.add.push(l)}(s.del.length>0||s.add.length>0||s.change.length>0)&&e.change.push(s)}}}return e}function Uu(t,r,e,n){var i=t.db.createObjectStore(r,e.keyPath?{keyPath:e.keyPath,autoIncrement:e.auto}:{autoIncrement:e.auto});return n.forEach(function(a){return tu(i,a)}),i}function D1(t,r){Zt(t).forEach(function(e){r.db.objectStoreNames.contains(e)||Uu(r,e,t[e].primKey,t[e].indexes)})}function k1(t,r){[].slice.call(r.db.objectStoreNames).forEach(function(e){return t[e]==null&&r.db.deleteObjectStore(e)})}function tu(t,r){t.createIndex(r.name,r.keyPath,{unique:r.unique,multiEntry:r.multi})}function Fu(t,r,e){var n={},i=ja(r.objectStoreNames,0);return i.forEach(function(a){for(var s=e.objectStore(a),o=s.keyPath,u=Jo(ld(o),o||"",!1,!1,!!s.autoIncrement,o&&typeof o!="string",!0),h=[],f=0;f<s.indexNames.length;++f){var l=s.index(s.indexNames[f]);o=l.keyPath;var c=Jo(l.name,o,!!l.unique,!!l.multiEntry,!1,o&&typeof o!="string",!1);h.push(c)}n[a]=cd(a,u,h)}),n}function H1(t,r,e){var n=t._novip;n.verno=r.version/10;var i=n._dbSchema=Fu(n,r,e);n._storeNames=ja(r.objectStoreNames,0),Sa(n,[n._allTables],Zt(i),i)}function X1(t,r){var e=Fu(t,t.idbdb,r),n=dd(e,t._dbSchema);return!(n.add.length||n.change.some(function(i){return i.add.length||i.change.length}))}function eu(t,r,e){for(var n=t._novip,i=e.db.objectStoreNames,a=0;a<i.length;++a){var s=i[a],o=e.objectStore(s);n._hasGetAll="getAll"in o;for(var u=0;u<o.indexNames.length;++u){var h=o.indexNames[u],f=o.index(h).keyPath,l=typeof f=="string"?f:"["+ja(f).join("+")+"]";if(r[s]){var c=r[s].idxByName[l];c&&(c.name=h,delete r[s].idxByName[l],r[s].idxByName[h]=c)}}}typeof navigator!="undefined"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&Mt.WorkerGlobalScope&&Mt instanceof Mt.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(n._hasGetAll=!1)}function j1(t){return t.split(",").map(function(r,e){r=r.trim();var n=r.replace(/([&*]|\+\+)/g,""),i=/^\[/.test(n)?n.match(/^\[(.*)\]$/)[1].split("+"):n;return Jo(n,i||null,/\&/.test(r),/\*/.test(r),/\+\+/.test(r),oe(i),e===0)})}var V1=function(){function t(){}return t.prototype._parseStoresSpec=function(r,e){Zt(r).forEach(function(n){if(r[n]!==null){var i=j1(r[n]),a=i.shift();if(a.multi)throw new pt.Schema("Primary key cannot be multi-valued");i.forEach(function(s){if(s.auto)throw new pt.Schema("Only primary key can be marked as autoIncrement (++)");if(!s.keyPath)throw new pt.Schema("Index must have a name and cannot be an empty string")}),e[n]=cd(n,a,i)}})},t.prototype.stores=function(r){var e=this.db;this._cfg.storesSource=this._cfg.storesSource?fe(this._cfg.storesSource,r):r;var n=e._versions,i={},a={};return n.forEach(function(s){fe(i,s._cfg.storesSource),a=s._cfg.dbschema={},s._parseStoresSpec(i,a)}),e._dbSchema=a,$o(e,[e._allTables,e,e.Transaction.prototype]),Sa(e,[e._allTables,e,e.Transaction.prototype,this._cfg.tables],Zt(a),a),e._storeNames=Zt(a),this},t.prototype.upgrade=function(r){return this._cfg.contentUpgrade=Ru(this._cfg.contentUpgrade||Ft,r),this},t}();function z1(t){return Ni(V1.prototype,function(e){this.db=t,this._cfg={version:e,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})}function Bu(t,r){var e=t._dbNamesDB;return e||(e=t._dbNamesDB=new _d(Wa,{addons:[],indexedDB:t,IDBKeyRange:r}),e.version(1).stores({dbnames:"name"})),e.table("dbnames")}function Lu(t){return t&&typeof t.databases=="function"}function W1(t){var r=t.indexedDB,e=t.IDBKeyRange;return Lu(r)?Promise.resolve(r.databases()).then(function(n){return n.map(function(i){return i.name}).filter(function(i){return i!==Wa})}):Bu(r,e).toCollection().primaryKeys()}function K1(t,r){var e=t.indexedDB,n=t.IDBKeyRange;!Lu(e)&&r!==Wa&&Bu(e,n).put({name:r}).catch(Ft)}function Y1(t,r){var e=t.indexedDB,n=t.IDBKeyRange;!Lu(e)&&r!==Wa&&Bu(e,n).delete(r).catch(Ft)}function ru(t){return hr(function(){return ut.letThrough=!0,t()})}function q1(){var t=!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent);if(!t||!indexedDB.databases)return Promise.resolve();var r;return new Promise(function(e){var n=function(){return indexedDB.databases().finally(e)};r=setInterval(n,100),n()}).finally(function(){return clearInterval(r)})}function Z1(t){var r=t._state,e=t._deps.indexedDB;if(r.isBeingOpened||t.idbdb)return r.dbReadyPromise.then(function(){return r.dbOpenError?Qt(r.dbOpenError):t});Fe&&(r.openCanceller._stackHolder=Hr()),r.isBeingOpened=!0,r.dbOpenError=null,r.openComplete=!1;var n=r.openCanceller;function i(){if(r.openCanceller!==n)throw new pt.DatabaseClosed("db.open() was cancelled")}var a=r.dbReadyResolve,s=null,o=!1;return rt.race([n,(typeof navigator=="undefined"?rt.resolve():q1()).then(function(){return new rt(function(u,h){if(i(),!e)throw new pt.MissingAPI;var f=t.name,l=r.autoSchema?e.open(f):e.open(f,Math.round(t.verno*10));if(!l)throw new pt.MissingAPI;l.onerror=Re(h),l.onblocked=Gt(t._fireOnBlocked),l.onupgradeneeded=Gt(function(c){if(s=l.transaction,r.autoSchema&&!t._options.allowEmptyDB){l.onerror=di,s.abort(),l.result.close();var d=e.deleteDatabase(f);d.onsuccess=d.onerror=Gt(function(){h(new pt.NoSuchDatabase("Database "+f+" doesnt exist"))})}else{s.onerror=Re(h);var p=c.oldVersion>Math.pow(2,62)?0:c.oldVersion;o=p<1,t._novip.idbdb=l.result,M1(t,p/10,s,h)}},h),l.onsuccess=Gt(function(){s=null;var c=t._novip.idbdb=l.result,d=ja(c.objectStoreNames);if(d.length>0)try{var p=c.transaction(N1(d),"readonly");r.autoSchema?H1(t,c,p):(eu(t,t._dbSchema,p),X1(t,p)||console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Some queries may fail.")),Ou(t,p)}catch{}qn.push(t),c.onversionchange=Gt(function(v){r.vcFired=!0,t.on("versionchange").fire(v)}),c.onclose=Gt(function(v){t.on("close").fire(v)}),o&&K1(t._deps,f),u()},h)})})]).then(function(){return i(),r.onReadyBeingFired=[],rt.resolve(ru(function(){return t.on.ready.fire(t.vip)})).then(function u(){if(r.onReadyBeingFired.length>0){var h=r.onReadyBeingFired.reduce(Ru,Ft);return r.onReadyBeingFired=[],rt.resolve(ru(function(){return h(t.vip)})).then(u)}})}).finally(function(){r.onReadyBeingFired=null,r.isBeingOpened=!1}).then(function(){return t}).catch(function(u){r.dbOpenError=u;try{s&&s.abort()}catch{}return n===r.openCanceller&&t._close(),Qt(u)}).finally(function(){r.openComplete=!0,a()})}function nu(t){var r=function(s){return t.next(s)},e=function(s){return t.throw(s)},n=a(r),i=a(e);function a(s){return function(o){var u=s(o),h=u.value;return u.done?h:!h||typeof h.then!="function"?oe(h)?Promise.all(h).then(n,i):n(h):h.then(n,i)}}return a(r)()}function J1(t,r,e){var n=arguments.length;if(n<2)throw new pt.InvalidArgument("Too few arguments");for(var i=new Array(n-1);--n;)i[n-1]=arguments[n];e=i.pop();var a=zc(i);return[t,a,e]}function pd(t,r,e,n,i){return rt.resolve().then(function(){var a=ut.transless||ut,s=t._createTransaction(r,e,t._dbSchema,n),o={trans:s,transless:a};if(n)s.idbtrans=n.idbtrans;else try{s.create(),t._state.PR1398_maxLoop=3}catch(l){return l.name===Cu.InvalidState&&t.isOpen()&&--t._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),t._close(),t.open().then(function(){return pd(t,r,e,null,i)})):Qt(l)}var u=xu(i);u&&bn();var h,f=rt.follow(function(){if(h=i.call(s,s),h)if(u){var l=$e.bind(null,null);h.then(l,l)}else typeof h.next=="function"&&typeof h.throw=="function"&&(h=nu(h))},o);return(h&&typeof h.then=="function"?rt.resolve(h).then(function(l){return s.active?l:Qt(new pt.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):f.then(function(){return h})).then(function(l){return n&&s._resolve(),s._completion.then(function(){return l})}).catch(function(l){return s._reject(l),Qt(l)})})}function aa(t,r,e){for(var n=oe(t)?t.slice():[t],i=0;i<e;++i)n.push(r);return n}function Q1(t){return Rt(Rt({},t),{table:function(r){var e=t.table(r),n=e.schema,i={},a=[];function s(v,_,m){var b=Zn(v),T=i[b]=i[b]||[],w=v==null?0:typeof v=="string"?1:v.length,y=_>0,g=Rt(Rt({},m),{isVirtual:y,keyTail:_,keyLength:w,extractKey:Qo(v),unique:!y&&m.unique});if(T.push(g),g.isPrimaryKey||a.push(g),w>1){var N=w===2?v[0]:v.slice(0,w-1);s(N,_+1,m)}return T.sort(function(P,C){return P.keyTail-C.keyTail}),g}var o=s(n.primaryKey.keyPath,0,n.primaryKey);i[":id"]=[o];for(var u=0,h=n.indexes;u<h.length;u++){var f=h[u];s(f.keyPath,0,f)}function l(v){var _=i[Zn(v)];return _&&_[0]}function c(v,_){return{type:v.type===1?2:v.type,lower:aa(v.lower,v.lowerOpen?t.MAX_KEY:t.MIN_KEY,_),lowerOpen:!0,upper:aa(v.upper,v.upperOpen?t.MIN_KEY:t.MAX_KEY,_),upperOpen:!0}}function d(v){var _=v.query.index;return _.isVirtual?Rt(Rt({},v),{query:{index:_,range:c(v.query.range,_.keyTail)}}):v}var p=Rt(Rt({},e),{schema:Rt(Rt({},n),{primaryKey:o,indexes:a,getIndexByKeyPath:l}),count:function(v){return e.count(d(v))},query:function(v){return e.query(d(v))},openCursor:function(v){var _=v.query.index,m=_.keyTail,b=_.isVirtual,T=_.keyLength;if(!b)return e.openCursor(v);function w(y){function g(P){P!=null?y.continue(aa(P,v.reverse?t.MAX_KEY:t.MIN_KEY,m)):v.unique?y.continue(y.key.slice(0,T).concat(v.reverse?t.MIN_KEY:t.MAX_KEY,m)):y.continue()}var N=Object.create(y,{continue:{value:g},continuePrimaryKey:{value:function(P,C){y.continuePrimaryKey(aa(P,t.MAX_KEY,m),C)}},primaryKey:{get:function(){return y.primaryKey}},key:{get:function(){var P=y.key;return T===1?P[0]:P.slice(0,T)}},value:{get:function(){return y.value}}});return N}return e.openCursor(d(v)).then(function(y){return y&&w(y)})}});return p}})}var $1={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:Q1};function Mu(t,r,e,n){return e=e||{},n=n||"",Zt(t).forEach(function(i){if(!_e(r,i))e[n+i]=void 0;else{var a=t[i],s=r[i];if(typeof a=="object"&&typeof s=="object"&&a&&s){var o=Go(a),u=Go(s);o!==u?e[n+i]=r[i]:o==="Object"?Mu(a,s,e,n+i+"."):a!==s&&(e[n+i]=r[i])}else a!==s&&(e[n+i]=r[i])}}),Zt(r).forEach(function(i){_e(t,i)||(e[n+i]=r[i])}),e}function tT(t,r){return r.type==="delete"?r.keys:r.keys||r.values.map(t.extractKey)}var eT={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(t){return Rt(Rt({},t),{table:function(r){var e=t.table(r),n=e.schema.primaryKey,i=Rt(Rt({},e),{mutate:function(a){var s=ut.trans,o=s.table(r).hook,u=o.deleting,h=o.creating,f=o.updating;switch(a.type){case"add":if(h.fire===Ft)break;return s._promise("readwrite",function(){return l(a)},!0);case"put":if(h.fire===Ft&&f.fire===Ft)break;return s._promise("readwrite",function(){return l(a)},!0);case"delete":if(u.fire===Ft)break;return s._promise("readwrite",function(){return l(a)},!0);case"deleteRange":if(u.fire===Ft)break;return s._promise("readwrite",function(){return c(a)},!0)}return e.mutate(a);function l(p){var v=ut.trans,_=p.keys||tT(n,p);if(!_)throw new Error("Keys missing");return p=p.type==="add"||p.type==="put"?Rt(Rt({},p),{keys:_}):Rt({},p),p.type!=="delete"&&(p.values=Lo([],p.values,!0)),p.keys&&(p.keys=Lo([],p.keys,!0)),rT(e,p,_).then(function(m){var b=_.map(function(T,w){var y=m[w],g={onerror:null,onsuccess:null};if(p.type==="delete")u.fire.call(g,T,y,v);else if(p.type==="add"||y===void 0){var N=h.fire.call(g,T,p.values[w],v);T==null&&N!=null&&(T=N,p.keys[w]=T,n.outbound||xe(p.values[w],n.keyPath,T))}else{var P=Mu(y,p.values[w]),C=f.fire.call(g,P,T,y,v);if(C){var O=p.values[w];Object.keys(C).forEach(function(H){_e(O,H)?O[H]=C[H]:xe(O,H,C[H])})}}return g});return e.mutate(p).then(function(T){for(var w=T.failures,y=T.results,g=T.numFailures,N=T.lastResult,P=0;P<_.length;++P){var C=y?y[P]:_[P],O=b[P];C==null?O.onerror&&O.onerror(w[P]):O.onsuccess&&O.onsuccess(p.type==="put"&&m[P]?p.values[P]:C)}return{failures:w,results:y,numFailures:g,lastResult:N}}).catch(function(T){return b.forEach(function(w){return w.onerror&&w.onerror(T)}),Promise.reject(T)})})}function c(p){return d(p.trans,p.range,1e4)}function d(p,v,_){return e.query({trans:p,values:!1,query:{index:n,range:v},limit:_}).then(function(m){var b=m.result;return l({type:"delete",keys:b,trans:p}).then(function(T){return T.numFailures>0?Promise.reject(T.failures[0]):b.length<_?{failures:[],numFailures:0,lastResult:void 0}:d(p,Rt(Rt({},v),{lower:b[b.length-1],lowerOpen:!0}),_)})})}}});return i}})}};function rT(t,r,e){return r.type==="add"?Promise.resolve([]):t.getMany({trans:r.trans,keys:e,cache:"immutable"})}function vd(t,r,e){try{if(!r||r.keys.length<t.length)return null;for(var n=[],i=0,a=0;i<r.keys.length&&a<t.length;++i)he(r.keys[i],t[a])===0&&(n.push(e?Ii(r.values[i]):r.values[i]),++a);return n.length===t.length?n:null}catch{return null}}var nT={stack:"dbcore",level:-1,create:function(t){return{table:function(r){var e=t.table(r);return Rt(Rt({},e),{getMany:function(n){if(!n.cache)return e.getMany(n);var i=vd(n.keys,n.trans._cache,n.cache==="clone");return i?rt.resolve(i):e.getMany(n).then(function(a){return n.trans._cache={keys:n.keys,values:n.cache==="clone"?Ii(a):a},a})},mutate:function(n){return n.type!=="add"&&(n.trans._cache=null),e.mutate(n)}})}}}},Gs;function Gu(t){return!("from"in t)}var He=function(t,r){if(this)fe(this,arguments.length?{d:1,from:t,to:arguments.length>1?r:t}:{d:0});else{var e=new He;return t&&"d"in t&&fe(e,t),e}};hn(He.prototype,(Gs={add:function(t){return Oa(this,t),this},addKey:function(t){return _i(this,t,t),this},addKeys:function(t){var r=this;return t.forEach(function(e){return _i(r,e,e)}),this}},Gs[Do]=function(){return iu(this)},Gs));function _i(t,r,e){var n=he(r,e);if(!isNaN(n)){if(n>0)throw RangeError();if(Gu(t))return fe(t,{from:r,to:e,d:1});var i=t.l,a=t.r;if(he(e,t.from)<0)return i?_i(i,r,e):t.l={from:r,to:e,d:1,l:null,r:null},bl(t);if(he(r,t.to)>0)return a?_i(a,r,e):t.r={from:r,to:e,d:1,l:null,r:null},bl(t);he(r,t.from)<0&&(t.from=r,t.l=null,t.d=a?a.d+1:1),he(e,t.to)>0&&(t.to=e,t.r=null,t.d=t.l?t.l.d+1:1);var s=!t.r;i&&!t.l&&Oa(t,i),a&&s&&Oa(t,a)}}function Oa(t,r){function e(n,i){var a=i.from,s=i.to,o=i.l,u=i.r;_i(n,a,s),o&&e(n,o),u&&e(n,u)}Gu(r)||e(t,r)}function iT(t,r){var e=iu(r),n=e.next();if(n.done)return!1;for(var i=n.value,a=iu(t),s=a.next(i.from),o=s.value;!n.done&&!s.done;){if(he(o.from,i.to)<=0&&he(o.to,i.from)>=0)return!0;he(i.from,o.from)<0?i=(n=e.next(o.from)).value:o=(s=a.next(i.from)).value}return!1}function iu(t){var r=Gu(t)?null:{s:0,n:t};return{next:function(e){for(var n=arguments.length>0;r;)switch(r.s){case 0:if(r.s=1,n)for(;r.n.l&&he(e,r.n.from)<0;)r={up:r,n:r.n.l,s:1};else for(;r.n.l;)r={up:r,n:r.n.l,s:1};case 1:if(r.s=2,!n||he(e,r.n.to)<=0)return{value:r.n,done:!1};case 2:if(r.n.r){r.s=3,r={up:r,n:r.n.r,s:0};continue}case 3:r=r.up}return{done:!0}}}}function bl(t){var r,e,n=(((r=t.r)===null||r===void 0?void 0:r.d)||0)-(((e=t.l)===null||e===void 0?void 0:e.d)||0),i=n>1?"r":n<-1?"l":"";if(i){var a=i==="r"?"l":"r",s=Rt({},t),o=t[i];t.from=o.from,t.to=o.to,t[i]=o[i],s[i]=o[a],t[a]=s,s.d=Tl(s)}t.d=Tl(t)}function Tl(t){var r=t.r,e=t.l;return(r?e?Math.max(r.d,e.d):r.d:e?e.d:0)+1}var aT={stack:"dbcore",level:0,create:function(t){var r=t.schema.name,e=new He(t.MIN_KEY,t.MAX_KEY);return Rt(Rt({},t),{table:function(n){var i=t.table(n),a=i.schema,s=a.primaryKey,o=s.extractKey,u=s.outbound,h=Rt(Rt({},i),{mutate:function(c){var d=c.trans,p=d.mutatedParts||(d.mutatedParts={}),v=function(N){var P="idb://"+r+"/"+n+"/"+N;return p[P]||(p[P]=new He)},_=v(""),m=v(":dels"),b=c.type,T=c.type==="deleteRange"?[c.range]:c.type==="delete"?[c.keys]:c.values.length<50?[[],c.values]:[],w=T[0],y=T[1],g=c.trans._cache;return i.mutate(c).then(function(N){if(oe(w)){b!=="delete"&&(w=N.results),_.addKeys(w);var P=vd(w,g);!P&&b!=="add"&&m.addKeys(w),(P||y)&&sT(v,a,P,y)}else if(w){var C={from:w.lower,to:w.upper};m.add(C),_.add(C)}else _.add(e),m.add(e),a.indexes.forEach(function(O){return v(O.name).add(e)});return N})}}),f=function(c){var d,p,v=c.query,_=v.index,m=v.range;return[_,new He((d=m.lower)!==null&&d!==void 0?d:t.MIN_KEY,(p=m.upper)!==null&&p!==void 0?p:t.MAX_KEY)]},l={get:function(c){return[s,new He(c.key)]},getMany:function(c){return[s,new He().addKeys(c.keys)]},count:f,query:f,openCursor:f};return Zt(l).forEach(function(c){h[c]=function(d){var p=ut.subscr;if(p){var v=function(g){var N="idb://"+r+"/"+n+"/"+g;return p[N]||(p[N]=new He)},_=v(""),m=v(":dels"),b=l[c](d),T=b[0],w=b[1];if(v(T.name||"").add(w),!T.isPrimaryKey)if(c==="count")m.add(e);else{var y=c==="query"&&u&&d.values&&i.query(Rt(Rt({},d),{values:!1}));return i[c].apply(this,arguments).then(function(g){if(c==="query"){if(u&&d.values)return y.then(function(O){var H=O.result;return _.addKeys(H),g});var N=d.values?g.result.map(o):g.result;d.values?_.addKeys(N):m.addKeys(N)}else if(c==="openCursor"){var P=g,C=d.values;return P&&Object.create(P,{key:{get:function(){return m.addKey(P.primaryKey),P.key}},primaryKey:{get:function(){var O=P.primaryKey;return m.addKey(O),O}},value:{get:function(){return C&&_.addKey(P.primaryKey),P.value}}})}return g})}}return i[c].apply(this,arguments)}}),h}})}};function sT(t,r,e,n){function i(a){var s=t(a.name||"");function o(h){return h!=null?a.extractKey(h):null}var u=function(h){return a.multiEntry&&oe(h)?h.forEach(function(f){return s.addKey(f)}):s.addKey(h)};(e||n).forEach(function(h,f){var l=e&&o(e[f]),c=n&&o(n[f]);he(l,c)!==0&&(l!=null&&u(l),c!=null&&u(c))})}r.indexes.forEach(i)}var _d=function(){function t(r,e){var n=this;this._middlewares={},this.verno=0;var i=t.dependencies;this._options=e=Rt({addons:t.addons,autoOpen:!0,indexedDB:i.indexedDB,IDBKeyRange:i.IDBKeyRange},e),this._deps={indexedDB:e.indexedDB,IDBKeyRange:e.IDBKeyRange};var a=e.addons;this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var s={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:Ft,dbReadyPromise:null,cancelOpen:Ft,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3};s.dbReadyPromise=new rt(function(o){s.dbReadyResolve=o}),s.openCanceller=new rt(function(o,u){s.cancelOpen=u}),this._state=s,this.name=r,this.on=Pi(this,"populate","blocked","versionchange","close",{ready:[Ru,Ft]}),this.on.ready.subscribe=Hc(this.on.ready.subscribe,function(o){return function(u,h){t.vip(function(){var f=n._state;if(f.openComplete)f.dbOpenError||rt.resolve().then(u),h&&o(u);else if(f.onReadyBeingFired)f.onReadyBeingFired.push(u),h&&o(u);else{o(u);var l=n;h||o(function c(){l.on.ready.unsubscribe(u),l.on.ready.unsubscribe(c)})}})}}),this.Collection=T1(this),this.Table=_1(this),this.Transaction=P1(this),this.Version=z1(this),this.WhereClause=R1(this),this.on("versionchange",function(o){o.newVersion>0?console.warn("Another connection wants to upgrade database '"+n.name+"'. Closing db now to resume the upgrade."):console.warn("Another connection wants to delete database '"+n.name+"'. Closing db now to resume the delete request."),n.close()}),this.on("blocked",function(o){!o.newVersion||o.newVersion<o.oldVersion?console.warn("Dexie.delete('"+n.name+"') was blocked"):console.warn("Upgrade '"+n.name+"' blocked by other connection holding version "+o.oldVersion/10)}),this._maxKey=vi(e.IDBKeyRange),this._createTransaction=function(o,u,h,f){return new n.Transaction(o,u,h,n._options.chromeTransactionDurability,f)},this._fireOnBlocked=function(o){n.on("blocked").fire(o),qn.filter(function(u){return u.name===n.name&&u!==n&&!u._state.vcFired}).map(function(u){return u.on("versionchange").fire(o)})},this.use($1),this.use(eT),this.use(aT),this.use(nT),this.vip=Object.create(this,{_vip:{value:!0}}),a.forEach(function(o){return o(n)})}return t.prototype.version=function(r){if(isNaN(r)||r<.1)throw new pt.Type("Given version is not a positive number");if(r=Math.round(r*10)/10,this.idbdb||this._state.isBeingOpened)throw new pt.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,r);var e=this._versions,n=e.filter(function(i){return i._cfg.version===r})[0];return n||(n=new this.Version(r),e.push(n),e.sort(L1),n.stores({}),this._state.autoSchema=!1,n)},t.prototype._whenReady=function(r){var e=this;return this.idbdb&&(this._state.openComplete||ut.letThrough||this._vip)?r():new rt(function(n,i){if(e._state.openComplete)return i(new pt.DatabaseClosed(e._state.dbOpenError));if(!e._state.isBeingOpened){if(!e._options.autoOpen){i(new pt.DatabaseClosed);return}e.open().catch(Ft)}e._state.dbReadyPromise.then(n,i)}).then(r)},t.prototype.use=function(r){var e=r.stack,n=r.create,i=r.level,a=r.name;a&&this.unuse({stack:e,name:a});var s=this._middlewares[e]||(this._middlewares[e]=[]);return s.push({stack:e,create:n,level:i==null?10:i,name:a}),s.sort(function(o,u){return o.level-u.level}),this},t.prototype.unuse=function(r){var e=r.stack,n=r.name,i=r.create;return e&&this._middlewares[e]&&(this._middlewares[e]=this._middlewares[e].filter(function(a){return i?a.create!==i:n?a.name!==n:!1})),this},t.prototype.open=function(){return Z1(this)},t.prototype._close=function(){var r=this._state,e=qn.indexOf(this);if(e>=0&&qn.splice(e,1),this.idbdb){try{this.idbdb.close()}catch{}this._novip.idbdb=null}r.dbReadyPromise=new rt(function(n){r.dbReadyResolve=n}),r.openCanceller=new rt(function(n,i){r.cancelOpen=i})},t.prototype.close=function(){this._close();var r=this._state;this._options.autoOpen=!1,r.dbOpenError=new pt.DatabaseClosed,r.isBeingOpened&&r.cancelOpen(r.dbOpenError)},t.prototype.delete=function(){var r=this,e=arguments.length>0,n=this._state;return new rt(function(i,a){var s=function(){r.close();var o=r._deps.indexedDB.deleteDatabase(r.name);o.onsuccess=Gt(function(){Y1(r._deps,r.name),i()}),o.onerror=Re(a),o.onblocked=r._fireOnBlocked};if(e)throw new pt.InvalidArgument("Arguments not allowed in db.delete()");n.isBeingOpened?n.dbReadyPromise.then(s):s()})},t.prototype.backendDB=function(){return this.idbdb},t.prototype.isOpen=function(){return this.idbdb!==null},t.prototype.hasBeenClosed=function(){var r=this._state.dbOpenError;return r&&r.name==="DatabaseClosed"},t.prototype.hasFailed=function(){return this._state.dbOpenError!==null},t.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(t.prototype,"tables",{get:function(){var r=this;return Zt(this._allTables).map(function(e){return r._allTables[e]})},enumerable:!1,configurable:!0}),t.prototype.transaction=function(){var r=J1.apply(this,arguments);return this._transaction.apply(this,r)},t.prototype._transaction=function(r,e,n){var i=this,a=ut.trans;(!a||a.db!==this||r.indexOf("!")!==-1)&&(a=null);var s=r.indexOf("?")!==-1;r=r.replace("!","").replace("?","");var o,u;try{if(u=e.map(function(f){var l=f instanceof i.Table?f.name:f;if(typeof l!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return l}),r=="r"||r===Us)o=Us;else if(r=="rw"||r==Fs)o=Fs;else throw new pt.InvalidArgument("Invalid transaction mode: "+r);if(a){if(a.mode===Us&&o===Fs)if(s)a=null;else throw new pt.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");a&&u.forEach(function(f){if(a&&a.storeNames.indexOf(f)===-1)if(s)a=null;else throw new pt.SubTransaction("Table "+f+" not included in parent transaction.")}),s&&a&&!a.active&&(a=null)}}catch(f){return a?a._promise(null,function(l,c){c(f)}):Qt(f)}var h=pd.bind(null,this,o,u,a,n);return a?a._promise(o,h,"lock"):ut.trans?Tn(ut.transless,function(){return i._whenReady(h)}):this._whenReady(h)},t.prototype.table=function(r){if(!_e(this._allTables,r))throw new pt.InvalidTable("Table "+r+" does not exist");return this._allTables[r]},t}(),oT=typeof Symbol!="undefined"&&"observable"in Symbol?Symbol.observable:"@@observable",uT=function(){function t(r){this._subscribe=r}return t.prototype.subscribe=function(r,e,n){return this._subscribe(!r||typeof r=="function"?{next:r,error:e,complete:n}:r)},t.prototype[oT]=function(){return this},t}();function md(t,r){return Zt(r).forEach(function(e){var n=t[e]||(t[e]=new He);Oa(n,r[e])}),t}function hT(t){return new uT(function(r){var e=xu(t);function n(d){e&&bn();var p=function(){return hr(t,{subscr:d,trans:null})},v=ut.trans?Tn(ut.transless,p):p();return e&&v.then($e,$e),v}var i=!1,a={},s={},o={get closed(){return i},unsubscribe:function(){i=!0,lr.storagemutated.unsubscribe(l)}};r.start&&r.start(o);var u=!1,h=!1;function f(){return Zt(s).some(function(d){return a[d]&&iT(a[d],s[d])})}var l=function(d){md(a,d),f()&&c()},c=function(){if(!(u||i)){a={};var d={},p=n(d);h||(lr(pi,l),h=!0),u=!0,Promise.resolve(p).then(function(v){u=!1,!i&&(f()?c():(a={},s=d,r.next&&r.next(v)))},function(v){u=!1,r.error&&r.error(v),o.unsubscribe()})}};return c(),o})}var au;try{au={indexedDB:Mt.indexedDB||Mt.mozIndexedDB||Mt.webkitIndexedDB||Mt.msIndexedDB,IDBKeyRange:Mt.IDBKeyRange||Mt.webkitIDBKeyRange}}catch{au={indexedDB:null,IDBKeyRange:null}}var Rr=_d;hn(Rr,Rt(Rt({},Va),{delete:function(t){var r=new Rr(t,{addons:[]});return r.delete()},exists:function(t){return new Rr(t,{addons:[]}).open().then(function(r){return r.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(t){try{return W1(Rr.dependencies).then(t)}catch{return Qt(new pt.MissingAPI)}},defineClass:function(){function t(r){fe(this,r)}return t},ignoreTransaction:function(t){return ut.trans?Tn(ut.transless,t):t()},vip:ru,async:function(t){return function(){try{var r=nu(t.apply(this,arguments));return!r||typeof r.then!="function"?rt.resolve(r):r}catch(e){return Qt(e)}}},spawn:function(t,r,e){try{var n=nu(t.apply(e,r||[]));return!n||typeof n.then!="function"?rt.resolve(n):n}catch(i){return Qt(i)}},currentTransaction:{get:function(){return ut.trans||null}},waitFor:function(t,r){var e=rt.resolve(typeof t=="function"?Rr.ignoreTransaction(t):t).timeout(r||6e4);return ut.trans?ut.trans.waitFor(e):e},Promise:rt,debug:{get:function(){return Fe},set:function(t){Kc(t,t==="dexie"?function(){return!0}:od)}},derive:gn,extend:fe,props:hn,override:Hc,Events:Pi,on:lr,liveQuery:hT,extendObservabilitySet:md,getByKeyPath:Ye,setByKeyPath:xe,delByKeyPath:Hb,shallowClone:Vc,deepClone:Ii,getObjectDiff:Mu,cmp:he,asap:Xc,minKey:Zo,addons:[],connections:qn,errnames:Cu,dependencies:au,semVer:pl,version:pl.split(".").map(function(t){return parseInt(t)}).reduce(function(t,r,e){return t+r/Math.pow(10,e*2)})}));Rr.maxKey=vi(Rr.dependencies.IDBKeyRange);typeof dispatchEvent!="undefined"&&typeof addEventListener!="undefined"&&(lr(pi,function(t){if(!ze){var r;za?(r=document.createEvent("CustomEvent"),r.initCustomEvent(ar,!0,!0,t)):r=new CustomEvent(ar,{detail:t}),ze=!0,dispatchEvent(r),ze=!1}}),addEventListener(ar,function(t){var r=t.detail;ze||Ua(r)}));function Ua(t){var r=ze;try{ze=!0,lr.storagemutated.fire(t)}finally{ze=r}}var ze=!1;if(typeof BroadcastChannel!="undefined"){var El=new BroadcastChannel(ar);lr(pi,function(t){ze||El.postMessage(t)}),El.onmessage=function(t){t.data&&Ua(t.data)}}else if(typeof self!="undefined"&&typeof navigator!="undefined"){lr(pi,function(t){try{ze||(typeof localStorage!="undefined"&&localStorage.setItem(ar,JSON.stringify({trig:Math.random(),changedParts:t})),typeof self.clients=="object"&&Lo([],self.clients.matchAll({includeUncontrolled:!0}),!0).forEach(function(r){return r.postMessage({type:ar,changedParts:t})}))}catch{}}),addEventListener("storage",function(t){if(t.key===ar){var r=JSON.parse(t.newValue);r&&Ua(r.changedParts)}});var wl=self.document&&navigator.serviceWorker;wl&&wl.addEventListener("message",fT)}function fT(t){var r=t.data;r&&r.type===ar&&Ua(r.changedParts)}rt.rejectionMapper=Zb;Kc(Fe,od);export{cn as $,yT as A,pT as B,Dc as C,_d as D,TT as E,wT as F,BT as G,ET as H,mT as I,Ud as J,kl as K,Hl as L,L as M,G as N,M as O,NT as P,lT as Q,Pt as R,vn as S,UT as T,CT as U,mi as V,vT as W,ir as X,nr as Y,bT as Z,fn as _,Ce as a,dn as a0,ln as a1,Ad as a2,Xs as a3,xT as a4,IT as a5,dT as a6,gu as a7,Ue as a8,mt as a9,RT as aa,FT as ab,hT as ac,cT as ad,Il as ae,gT as af,Nd as b,La as c,yi as d,_T as e,Rl as f,AT as g,PT as h,pn as i,uu as j,bu as k,Ie as l,gi as m,Fa as n,Fr as o,_n as p,ST as q,Rb as r,su as s,me as t,OT as u,ge as v,un as w,Tu as x,Pd as y,Al as z};
